"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3851],{60638:function(e,t,n){n.d(t,{kd:function(){return i},Oq:function(){return l},gj:function(){return d}});var a,i,s=n(61888),r=n(45021);function o(e,t){var n=e.slice().sort(function(e,t){return e-t}),a=t*(n.length-1),i=Math.floor(a),s=Math.ceil(a);if(i===s)return n[i];var r=a-i;return(1-r)*n[i]+r*n[s]}(a=i||(i={})).FirstTokenLatency="first_token_lat",a.TotalRequestTime="total_request_time",a.TokenCount="token_count",a.StdDevTokenLatency="std_dev_token_lat",a.MeanTokenLatency="mean_token_lat",a.MedianTokenLatency="median_token_lat",a.MinTokenLatency="min_token_lat",a.MaxTokenLatency="max_token_lat",a.P95TokenLatency="p95_token_lat",a.P99TokenLatency="p99_token_lat";var l=function(e){var t,n=e.filter(function(e){return e.requestCount>1}),a=e.length?e[0]:null,r=o(n.map(function(e){return e.lastTokenDuration}),.95),l=o(n.map(function(e){return e.lastTokenDuration}),.99),d=(0,s.mean)(n.map(function(e){return e.lastTokenDuration})),u=function(e){if(0===e.length)return null;var t=e.slice().sort(function(e,t){return e-t}),n=Math.floor(t.length/2);return t.length%2==0?(t[n-1]+t[n])/2:t[n]}(n.map(function(e){return e.lastTokenDuration})),c=n.filter(function(e){return 0!==e.lastTokenDuration}).reduce(function(e,t){return Math.min(e,t.lastTokenDuration)},1/0),m=n.reduce(function(e,t){return Math.max(e,t.lastTokenDuration)},-1/0),x=function(e){var t=e.length;if(0===t)return 0;var n=(0===e.length?null:e.reduce(function(e,t){return e+t},0)/e.length)||0;return Math.sqrt(e.reduce(function(e,t){return e+Math.pow(t-n,2)},0)/t)}(n.map(function(e){return e.lastTokenDuration})),f=null===(t=e[e.length-1])||void 0===t?void 0:t.requestDuration;return[{id:i.FirstTokenLatency,name:"First Token lat.",stat:a?"".concat(a.lastTokenDuration.toFixed(2),"ms"):null,value:a?a.lastTokenDuration:null,category:"summary"},{id:i.TotalRequestTime,name:"Total request time",stat:f?"".concat((f/1e3).toFixed(2),"s"):null,value:f||null,category:"summary"},{id:i.TokenCount,name:"Token count",stat:"".concat(e.length),value:e.length,category:"summary"},{id:i.StdDevTokenLatency,name:"Std dev Token lat.",stat:"".concat(x.toFixed(2)),value:x,category:"token"},{id:i.MeanTokenLatency,name:"Mean Token lat.",stat:d?"".concat(d.toFixed(2),"ms"):null,value:null!=d?d:null,category:"aggregate"},{id:i.MedianTokenLatency,name:"Median Token lat.",stat:u?"".concat(u.toFixed(2),"ms"):null,value:null!=u?u:null,category:"token"},{id:i.MinTokenLatency,name:"Min Token lat.",stat:"".concat(c.toFixed(2),"ms"),value:null!=c?c:null,category:"token"},{id:i.MaxTokenLatency,name:"Max Token lat.",stat:"".concat(m.toFixed(2),"ms"),value:null!=m?m:null,category:"token"},{id:i.P95TokenLatency,name:"p95 Token lat.",stat:r?"".concat(r.toFixed(2),"ms"):null,value:null!=r?r:null,category:"aggregate"},{id:i.P99TokenLatency,name:"p99 Token lat.",stat:l?"".concat(l.toFixed(2),"ms"):null,value:null!=l?l:null,category:"aggregate"}]},d=function(){var e,t=(0,r.JP)(),n=(0,r.AA)();if(!t||!n)return{stats:[],targetLatencyData:[]};var a=t[n],i=null!==(e=null==a?void 0:a.data)&&void 0!==e?e:[];return{stats:l(i),targetLatencyData:i}}},45021:function(e,t,n){n.d(t,{AA:function(){return M},Ae:function(){return f},BC:function(){return w},F4:function(){return x},JP:function(){return j},Q7:function(){return y},WD:function(){return v},gL:function(){return h},iZ:function(){return k},j7:function(){return b},kn:function(){return p}});var a=n(96237),i=n(39324),s=n(71209),r=n(64502),o=n(86646),l=n(78103),d=n(60638),u=(0,l.ZP)(function(){return{messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}}}),c=u.getState,m=u.setState,x=function(e,t,n,r){m(function(o){return(0,s._)((0,i._)({},o),{activeNodeId:e,ui:{focusedNodeId:e},messagesDevData:(0,s._)((0,i._)({},o.messagesDevData),(0,a._)({},e,{status:"active",data:[],model:t,serverRequestId:n,preflightTime:r}))})})},f=function(e,t){m(function(n){var o=n.messagesDevData[e];return(0,s._)((0,i._)({},n),{activeNodeId:e,messagesDevData:(0,s._)((0,i._)({},n.messagesDevData),(0,a._)({},e,(0,s._)((0,i._)({},o),{data:(0,r._)(o.data).concat([t])})))})})},g=function(e,t){var n;return null===(n=t.find(function(t){return t.id===e}))||void 0===n?void 0:n.value},h=function(e){var t=j()[e],n=(0,d.Oq)(t.data),a=t.preflightTime,i={model:t.model,serverRequestId:t.serverRequestId,preflightTime:a,countTokens:g(d.kd.TokenCount,n),tsFirstToken:g(d.kd.FirstTokenLatency,n),tsMaxTokenTime:g(d.kd.MaxTokenLatency,n),tsMeanTokenWithoutFirst:g(d.kd.MeanTokenLatency,n),tsMedianTokenWithoutFirst:g(d.kd.MedianTokenLatency,n),tsMinTokenTime:g(d.kd.MinTokenLatency,n),tsStdDevTokenTime:g(d.kd.StdDevTokenLatency,n),tsP95TokenWithoutFirst:g(d.kd.P95TokenLatency,n),tsP99TokenWithoutFirst:g(d.kd.P99TokenLatency,n),tsTotalRequestTime:g(d.kd.TotalRequestTime,n)};o.ZP.postLatencyTimingEvent(i)},p=function(e){return m(function(t){var n=(0,s._)((0,i._)({},t.messagesDevData[e]),{status:"finished"});return(0,s._)((0,i._)({},t),{messagesDevData:(0,s._)((0,i._)({},t.messagesDevData),(0,a._)({},e,n))})})},v=function(e){return m(function(t){return(0,s._)((0,i._)({},t),{ui:(0,s._)((0,i._)({},t.ui),{focusedNodeId:e})})})};function y(e){var t=Object.keys(j()),n=t.indexOf(e);if(-1===n)throw Error("Key not found in object");var a=(n+1)%t.length;return t[a]}function k(e){var t=Object.keys(j()),n=t.indexOf(e);if(-1===n)throw Error("Key not found in object");var a=(n-1+t.length)%t.length;return t[a]}function b(e){return Object.keys(j()).indexOf(e)}var w=function(){return Object.keys(j()).length},j=function(){return c().messagesDevData},M=function(){return c().ui.focusedNodeId}},40710:function(e,t,n){n.d(t,{Z:function(){return iS},n:function(){return iN}});var a,i,s,r,o,l,d,u,c,m,x,f,g,h=n(39324),p=n(71209),v=n(10064),y=n(4337),k=n(35250),b=n(19841),w=n(70079),j=n(1454),M=n(21389),C=n(35265),_=n(67568),T=n(54636),I=n(42780),N=n(70671),S=n(94968),P=n(61098),R=n(51505),E=n(55548),F=n(17944),D=n(25687),L=n(1491),A=n(86925),Z=n(15066),B=n(39368),q=n(73779),U=n(41955),z=n(88903),O=n(11322),V=n(23234),W=n(87694),G=n(86585),H=["#7989FF"],Q=function(e){var t=e.children;return(0,V.Ml)()?(0,k.jsx)("div",{className:"pt-0.5",children:(0,k.jsx)("div",{className:"gizmo-shadow-stroke flex h-6 w-6 items-center justify-center overflow-hidden rounded-full",children:t})}):(0,k.jsx)(k.Fragment,{children:t})};function J(e){var t,n,a=e.isCompletionRequestInProgress,i=e.messages,s=e.clientThreadId,r=e.isCompletion,o=e.avatarColor,l=e.showInlineEmbeddedDisplay,d=(0,w.useMemo)(function(){var e=!0,t=!1,n=void 0;try{for(var a,s=i[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var r=a.value,o=(0,W.ZC)(r).flagSeverity;if(void 0!==o)return o}}catch(e){t=!0,n=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw n}}},[i]),u=null===(n=i[0].message.metadata)||void 0===n?void 0:n.shared_conversation_id,c=(0,F.aF)(),m=(0,R.UL)(s),x=(0,F.ec)(function(e){var t;return null===(t=e.currentWorkspace)||void 0===t?void 0:t.id}),f=(0,V.Ml)(),g=(0,q.p_)().playgroundTemplate,h=(0,q.QH)(),p=h.gizmoTemplate,v=h.mode,y=(0,k.jsx)(Q,{children:(0,k.jsx)(z.k$,{background:null!=o?o:"#19c37d",iconName:"openai",notice:null!=d?d:void 0,size:f?"gizmoConversation":void 0})}),b=(0,G.i)(s),j=f?"gizmoConversation":void 0;if(a&&i.length>0){var M=function(e,t){var n=(0,A.rH)(t.message);if(n===A.Cs.Plugin||n===A.Cs.PluginTool){var a=(0,A.Lx)(n===A.Cs.Plugin?t.message.recipient:t.message.author.name);return e.find(function(e){return e.namespace===(null==a?void 0:a.namespace)})}}(b,i[i.length-1]);null!=M&&(y=(0,k.jsx)(Q,{children:(0,k.jsx)(z.Ph,{plugin:M,notice:null!=d?d:void 0,iconSize:j})}))}return null!=x&&null!=m.conversationTemplateId?y=(0,k.jsx)(Q,{children:(0,k.jsx)(z.Ao,{workspaceId:x,templateId:m.conversationTemplateId,iconSize:j})}):null!=g?y=(0,k.jsx)(z.Py,{iconSize:j,conversationTemplate:g}):null!=p&&"test"===v&&(y=(0,k.jsx)(O.$,{gizmo:p,className:"h-6 w-6"})),(0,k.jsx)("div",{children:r?y:null!=u||void 0!==l&&l?(0,k.jsx)(Q,{children:(0,k.jsx)(z.k$,{background:H[(null!==(t=null==u?void 0:u.charCodeAt(0))&&void 0!==t?t:0)%H.length],iconName:"user",size:f?"gizmoConversation":void 0})}):(0,k.jsx)(Q,{children:(0,k.jsx)(z.Yt,{user:c,notice:null!=d?d:void 0,size:f?"gizmoConversation":"medium"})})})}var $=n(21722),X=n(96237),Y=n(85438),K=n(38104),ee=n(48133),et=n(38574),en=n(13464);function ea(){var e=(0,y._)(["bg-black rounded-md"]);return ea=function(){return e},e}function ei(){var e=(0,y._)(["flex items-center relative text-gray-200 bg-gray-800 gizmo:dark:bg-token-surface-primary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]);return ei=function(){return e},e}function es(){var e=(0,y._)(["p-4 overflow-y-auto"]);return es=function(){return e},e}function er(){var e=(0,y._)(["",""]);return er=function(){return e},e}var eo=M.Z.div(ea()),el=M.Z.div(ei()),ed=M.Z.div(es()),eu=M.Z.code(er(),function(e){return e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre"});function ec(e){var t=e.children,n=e.className,a=e.language,i=e.content,s=(0,w.useCallback)(function(){(0,et.S)(i)},[i]);return(0,k.jsx)(em,{title:a,headerDecoration:(0,k.jsx)(en.Z,{buttonText:"Copy code",onCopy:s}),codeClassName:n,children:t})}function em(e){var t=e.children,n=e.title,a=e.headerDecoration,i=e.shouldWrapCode,s=e.className,r=e.codeContainerClassName,o=e.codeClassName;return(0,k.jsxs)(eo,{className:s,children:[(null!=n||null!=a)&&(0,k.jsxs)(el,{children:[n&&(0,k.jsx)("span",{children:n}),a]}),(0,k.jsx)(ed,{className:r,children:(0,k.jsx)(eu,{$shouldWrap:void 0!==i&&i,className:o,children:t})})]})}var ex=n(21950),ef=n(30769),eg=n(18481),eh=n(6013),ep=n(32004),ev=n(8844),ey=n(46740),ek=n(43614),eb=n(60891),ew=n(13141);function ej(e){var t,n,a,i=e.messages,s=e.clientThreadId,r=e.isLastTurnInConversation,o=e.onRequestCompletion,l=(0,Y._)(i),d=l[0],u=l.slice(1),c=(0,N.Z)(),m=(0,ew.We)(d.message),x=(0,_.Wq)(s);(x.kind===P.OL.GizmoInteraction||x.kind===P.OL.GizmoMagicCreate||x.kind===P.OL.GizmoTest)&&(L=x.gizmo);var f=(0,A.Lx)(d.message.recipient);if((null==f?void 0:f.functionName)!=null&&(null==L?void 0:L.config.enabled_tools)!=null){var g=!0,v=!1,y=void 0;try{for(var b,w,j,M,C,T,I,S,R,E,F,D,L,Z,B,q=L.config.enabled_tools[Symbol.iterator]();!(g=(B=q.next()).done);g=!0){var U=B.value;if(function(e,t){if((null===(n=e.data)||void 0===n?void 0:n.json_schema)==null)return!1;var n,a=!1;return!function e(n){for(var i in n)"operationId"===i&&n[i]===t&&(a=!0),n[i]&&"object"==typeof n[i]&&e(n[i])}(e.data.json_schema),a}(U,f.functionName)){Z=U;break}}}catch(e){v=!0,y=e}finally{try{g||null==q.return||q.return()}finally{if(v)throw y}}}var z=(null==Z?void 0:null===(b=Z.data)||void 0===b?void 0:null===(w=b.auth)||void 0===w?void 0:w.type)===P.Jv.OAuth,O=(0,ex.Hp)(null==Z?void 0:null===(j=Z.data)||void 0===j?void 0:j.action_id,z),V=O.data,W=O.isLoading;if(null==L||z&&W)return null;var G=null===(M=null===(C=u.find(function(e){var t,n;return(null===(t=e.message.metadata)||void 0===t?void 0:null===(n=t.jit_plugin_data)||void 0===n?void 0:n.from_server)!=null}))||void 0===C?void 0:C.message.metadata)||void 0===M?void 0:null===(T=M.jit_plugin_data)||void 0===T?void 0:T.from_server,H=null===(I=null===(S=u.find(function(e){var t,n;return(null===(t=e.message.metadata)||void 0===t?void 0:null===(n=t.jit_plugin_data)||void 0===n?void 0:n.from_client)!=null}))||void 0===S?void 0:S.message.metadata)||void 0===I?void 0:null===(R=I.jit_plugin_data)||void 0===R?void 0:R.from_client,Q=null!==(t=u.find(function(e){var t;return(null===(t=e.message.metadata)||void 0===t?void 0:t.invoked_plugin)!=null}))&&void 0!==t?t:null,J=u.some(function(e){return e.message.content.content_type===P.PX.SystemError}),et=(null==V?void 0:V.oauth_status)==="valid",en=(null==G?void 0:G.type)==="confirm_action"&&!H&&r,ea=(null==G?void 0:G.type)==="oauth_required",ei=ea&&!et&&r,es=(null==H?void 0:null===(E=H.user_action)||void 0===E?void 0:E.type)===P._X.Allow,er=(null==H?void 0:null===(F=H.user_action)||void 0===F?void 0:F.type)===P._X.Deny,eo=null!==(n=null==Z?void 0:null===(D=Z.data)||void 0===D?void 0:D.domain)&&void 0!==n?n:null==G?void 0:G.body.domain,el=ek.X.Running,ed=eT.starting;if(ea&&et)el=ek.X.Finished,ed=eT.signedIn,a={domain:eo};else if(en||ei){el=ek.X.Paused,ed=eT.confirming;var eu=c.formatMessage(eT.confirmParamsTitle,{gizmoName:L.name,domain:eo});a={gizmoName:L.name,domain:eo,params:function(e){return(0,k.jsx)(e_,{title:eu,assistantMessage:d,children:e})}}}else if(null!=Q){el=ek.X.Finished,ed=eT.finished;var ec=c.formatMessage(eT.sentParamsTitle,{gizmoName:L.name,domain:eo});a={params:function(e){return(0,k.jsx)(e_,{title:ec,assistantMessage:d,children:e})}}}else J?(el=ek.X.Error,ed=eT.error):m||er||!r?(el=ek.X.Stopped,ed=er?eT.declined:eT.stopped):es&&(ed=eT.running);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(ek.Z,{conversationMessages:i,icon:eb.dX,status:el,displayMessage:ed,displayMessageValues:a,estimatedToolDurationMs:ey.Ui,shouldPersistAfterFinished:!0}),en&&(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)(ee.z,{color:"dark",className:"h-8",onClick:function(){eM(P._X.Allow,d,i,s,x,o)},children:(0,k.jsx)(ep.Z,(0,h._)({},eT.allow))}),!G.body.is_consequential&&(0,k.jsx)(ee.z,{color:"neutral",className:"h-8",onClick:(0,$._)(function(){return(0,K.Jh)(this,function(e){return eM(P._X.Allow,d,i,s,x,o),ef.U.upsertUserActionSettings(G.body.gizmo_action_id,G.body.domain,(0,X._)({},G.body.operation_hash,"always_allow")),[2]})}),children:(0,k.jsx)(ep.Z,(0,h._)({},eT.alwaysAllow))}),(0,k.jsx)(ee.z,{color:"neutral",className:"h-8",onClick:function(){eM(P._X.Deny,d,i,s,x,o)},children:(0,k.jsx)(ep.Z,(0,h._)({},eT.decline))})]}),ei&&(0,k.jsx)("div",{children:(0,k.jsx)(ee.z,{color:"dark",className:"h-8",onClick:function(){!function(e,t,n,a){eC.apply(this,arguments)}(G.body,s,L,x.kind)},children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},eT.signInButton),{values:{domain:eo}}))})})]})}function eM(e,t,n,a,i,s){var r={id:(0,ev.Z)(),author:{role:P.uU.Tool,name:t.message.recipient},content:{content_type:P.PX.Text,parts:[e===P._X.Deny?"The user just clicked on a Decline button to disallow the jit_plugin action. DO NOT try using the jit_plugin again unless the user asks you to again.":""]},recipient:"all",metadata:{jit_plugin_data:{from_client:{user_action:{type:e,target_message_id:t.message.id}}}}};R.tQ.updateTree(a,function(e){e.addNode(r.id,r,n[n.length-1].message.id,P.uU.Tool,{completionSampleFinishTime:Date.now()})}),R.tQ.setThreadCurrentLeafId(a,r.id),s({type:P.Os.Next,promptId:r.id,eventMetadata:{eventSource:"mouse"},cancelActiveRequests:!1,completionMetadata:{conversationMode:i}})}function eC(){return(eC=(0,$._)(function(e,t,n,a){var i,s;return(0,K.Jh)(this,function(r){return i=R.tQ.getServerThreadId(t),s=window.location.href,i&&(s=(0,eg.ZV)(i,n)),ef.U.doOAuthRedirect(e.gizmo_id,e.gizmo_action_id,e.domain,s,a===P.OL.GizmoTest),[2]})})).apply(this,arguments)}function e_(e){var t=e.title,n=e.children,a=e.assistantMessage,i=(0,A.RR)(a.message);try{i=JSON.stringify(JSON.parse(i),null,2)}catch(e){}return(0,k.jsxs)(eh.fC,{children:[(0,k.jsx)(eh.xz,{children:(0,k.jsxs)("div",{className:"inline-flex items-center gap-1",children:[n,(0,k.jsx)(C.ud,{})]})}),(0,k.jsx)(eh.h_,{children:(0,k.jsx)(eh.VY,{side:"bottom",sideOffset:8,align:"start",children:(0,k.jsxs)("div",{className:"max-w-sm rounded-lg bg-token-surface-primary p-2 shadow-[0_0_24px_0_rgba(0,0,0,0.05),inset_0_0.5px_0_0_rgba(0,0,0,0.05),0_2px_8px_0_rgba(0,0,0,0.05)]",children:[(0,k.jsx)("div",{className:"mb-2 text-sm font-medium",children:t}),(0,k.jsx)(em,{className:"bg-token-surface-secondary text-xs text-token-text-primary",codeContainerClassName:"max-h-32 p-2",children:i})]})})})]})}var eT=(0,S.vU)({starting:{id:"jitPluginMessage.starting",defaultMessage:"Starting action",description:"Status message when a custom action is starting"},confirming:{id:"jitPluginMessage.confirming",defaultMessage:"<params>{gizmoName} wants to share data with {domain}</params>",description:"Status message when a custom action is showing a user confirmation"},running:{id:"jitPluginMessage.runningV3",defaultMessage:"Sending data",description:"Status message when a custom action is running"},finished:{id:"jitPluginMessage.finishedV2",defaultMessage:"<params>Action completed</params>",description:"Status message when a custom action is finished"},stopped:{id:"jitPluginMessage.stoppedV3",defaultMessage:"Stopped action",description:"Status message when a custom action was stopped by the user"},error:{id:"jitPluginMessage.errorV4",defaultMessage:"Error running action",description:"Status message when a custom action ran into an error"},declined:{id:"jitPluginMessage.declined",defaultMessage:"You declined this action",description:"Status message when a custom action was declined by the user"},alwaysAllow:{id:"jitPluginMessage.alwaysAllow",defaultMessage:"Always allow",description:"Button text for the user to always allow the custom action"},allow:{id:"jitPluginMessage.allow",defaultMessage:"Allow",description:"Button text for the user to allow the custom action"},decline:{id:"jitPluginMessage.decline",defaultMessage:"Decline",description:"Button text for the user to decline the custom action"},confirmParamsTitle:{id:"jitPluginMessage.confirmParamsTitle",defaultMessage:"{gizmoName} wants to send this data to {domain}",description:"Title describing data that will be sent to the external website"},sentParamsTitle:{id:"jitPluginMessage.sentParamsTitle",defaultMessage:"{gizmoName} sent this data to {domain}",description:"Title describing data that was sent to the external website"},signInButton:{id:"jitPluginMessage.signInButton",defaultMessage:"Sign in with {domain}",description:"Button text for the user to sign in with an external website"},signedIn:{id:"jitPluginMessage.signedIn",defaultMessage:"Signed in with {domain}",description:"Status text when the user successfully signed in with an external website"}}),eI=n(62682),eN=n(42786),eS=n(5397),eP=n.n(eS),eR=n(58438),eE=n(7184),eF=w.memo(function(e){var t=e.message,n=e.className,a=(0,v._)((0,w.useState)(!1),2),i=a[0],s=a[1],r=(0,w.useMemo)(function(){var e,n,a,i=null===(e=t.message.metadata)||void 0===e?void 0:e.orig_convo;if(!i)return null;var s=JSON.parse(i).messages.find(function(e){return e.author.role===P.uU.Assistant&&e.content.content_type===P.PX.ModelEditableContext});return null!==(a=null===(n=null==s?void 0:s.content)||void 0===n?void 0:n.repository)&&void 0!==a?a:null},[t]),o=(0,A.RR)(t.message);if([P.PX.UserEditableContext,P.PX.ModelEditableContext,P.PX.SystemContent].includes(t.message.content.content_type))return null;var l=t.message.recipient;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:(0,b.default)(n,"flex flex-col items-start gap-3 overflow-x-auto whitespace-pre-wrap break-words"),children:[(0,k.jsxs)("div",{className:"text-xs",children:[(0,k.jsx)("div",{className:"uppercase text-red-500",children:"debug message"}),!!r&&(0,k.jsxs)("button",{onClick:function(){return s(!0)},className:"flex cursor-pointer items-center gap-1",children:[(0,k.jsx)(eR.Z,{className:"icon-sm"}),(0,k.jsx)("div",{className:"underline",children:"View all model memories"})]})]}),(0,k.jsx)("div",{className:"flex w-full items-start justify-between",children:(0,k.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,k.jsxs)("div",{children:["From: ",t.message.author.name||t.message.author.role]}),!!l&&"all"!==l&&(0,k.jsxs)("div",{children:["To: ",l]})]})}),(0,k.jsx)("div",{className:"whitespace-pre-wrap font-mono text-sm",children:o})]}),(0,k.jsx)(eE.Z,{title:"All Model Memories",type:"success",isOpen:i,onClose:function(){return s(!1)},children:(0,k.jsx)("div",{className:"max-h-[80vh] overflow-auto whitespace-pre-wrap font-mono text-sm",children:r})})]})}),eD=n(70216),eL=n(59904);function eA(e){return(0,k.jsxs)(eL.A0,(0,p._)((0,h._)({width:"19",height:"15",viewBox:"0 0 19 15",fill:"none"},e),{children:[(0,k.jsx)("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.16045 7.41534C5.32257 7.228 4.69638 6.47988 4.69638 5.58551C4.69638 4.54998 5.53584 3.71051 6.57136 3.71051C7.60689 3.71051 8.44635 4.54998 8.44635 5.58551C8.44635 5.8965 8.37064 6.1898 8.23664 6.448C8.22998 6.48984 8.21889 6.53136 8.20311 6.57208L6.77017 10.2702C6.63182 10.6272 6.18568 10.7873 5.7737 10.6276C5.36172 10.468 5.13991 10.0491 5.27826 9.69206L6.16045 7.41534ZM11.4177 7.41534C10.5798 7.228 9.95362 6.47988 9.95362 5.58551C9.95362 4.54998 10.7931 3.71051 11.8286 3.71051C12.8641 3.71051 13.7036 4.54998 13.7036 5.58551C13.7036 5.8965 13.6279 6.1898 13.4939 6.448C13.4872 6.48984 13.4761 6.53136 13.4604 6.57208L12.0274 10.2702C11.8891 10.6272 11.4429 10.7873 11.0309 10.6276C10.619 10.468 10.3971 10.0491 10.5355 9.69206L11.4177 7.41534Z",fill:"currentColor"})]}))}function eZ(e){return(0,k.jsxs)(eL.A0,(0,p._)((0,h._)({width:"19",height:"15",viewBox:"0 0 19 15",fill:"none"},e),{children:[(0,k.jsx)("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]}))}var eB=n(94705),eq=n(72871),eU=n(71573),ez=n(77997),eO=n(47567),eV=n(61110),eW=n(55975),eG=n(46050),eH=n(29874),eQ=n(8449),eJ=n(15472),e$={tokenize:function(e,t,n){var a=function(t){return t===eW.q.eof||(0,eH.Ch)(t)?i(t):(e.enter("mathFlowFenceMeta"),e.enter(eJ.V.chunkString,{contentType:eQ._.contentTypeString}),function t(a){return a===eW.q.eof||(0,eH.Ch)(a)?(e.exit(eJ.V.chunkString),e.exit("mathFlowFenceMeta"),i(a)):a===eW.q.rightSquareBracket?n(a):(e.consume(a),t)}(t))},i=function(n){return e.exit("mathFlowFence"),o.interrupt?t(n):function t(n){return n===eW.q.eof?s(n):(0,eH.Ch)(n)?e.attempt(eX,e.attempt({tokenize:r,partial:!0},s,d?(0,eG.f)(e,t,eJ.V.linePrefix,d+1):t),s)(n):(e.enter("mathFlowValue"),function n(a){return a===eW.q.eof||(0,eH.Ch)(a)?(e.exit("mathFlowValue"),t(a)):(e.consume(a),n)}(n))}(n)},s=function(n){return e.exit("mathFlow"),t(n)},r=function(e,t,n){var a=[];return(0,eG.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(s){return s===eW.q.backslash&&0===a.length||s===eW.q.rightSquareBracket&&a[0]===eW.q.backslash?(e.consume(s),a.push(s),t):a<u?n(s):(e.exit("mathFlowFenceSequence"),(0,eG.f)(e,i,eJ.V.whitespace)(s))}(t)},eJ.V.linePrefix,eQ._.tabSize);function i(a){return a===eW.q.eof||(0,eH.Ch)(a)?(e.exit("mathFlowFence"),t(a)):n(a)}},o=this,l=this.events[this.events.length-1],d=l&&l[1].type===eJ.V.linePrefix?l[2].sliceSerialize(l[1],!0).length:0,u=[];return function(t){return eW.q.backslash,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(i){return i===eW.q.backslash||i===eW.q.leftSquareBracket&&u[0]===eW.q.backslash?(e.consume(i),u.push(i),t):(e.exit("mathFlowFenceSequence"),u.length<2?n(i):(0,eG.f)(e,a,eJ.V.whitespace)(i))}(t)}},concrete:!0},eX={tokenize:function(e,t,n){var a=function(e){return i.parser.lazy[i.now().line]?n(e):t(e)},i=this;return function(t){return e.enter(eJ.V.lineEnding),e.consume(t),e.exit(eJ.V.lineEnding),a}},partial:!0},eY={tokenize:function(e,t,n){var a=function(t){return t===eW.q.eof||(0,eH.Ch)(t)?i(t):(e.enter("mathFlowFenceMeta"),e.enter(eJ.V.chunkString,{contentType:eQ._.contentTypeString}),function t(a){return a===eW.q.eof||(0,eH.Ch)(a)?(e.exit(eJ.V.chunkString),e.exit("mathFlowFenceMeta"),i(a)):a===eW.q.dollarSign?n(a):(e.consume(a),t)}(t))},i=function(n){return e.exit("mathFlowFence"),o.interrupt?t(n):function t(n){return n===eW.q.eof?s(n):(0,eH.Ch)(n)?e.attempt(eK,e.attempt({tokenize:r,partial:!0},s,d?(0,eG.f)(e,t,eJ.V.linePrefix,d+1):t),s)(n):(e.enter("mathFlowValue"),function n(a){return a===eW.q.eof||(0,eH.Ch)(a)?(e.exit("mathFlowValue"),t(a)):(e.consume(a),n)}(n))}(n)},s=function(n){return e.exit("mathFlow"),t(n)},r=function(e,t,n){var a=0;return(0,eG.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(s){return s===eW.q.dollarSign?(e.consume(s),a++,t):a<u?n(s):(e.exit("mathFlowFenceSequence"),(0,eG.f)(e,i,eJ.V.whitespace)(s))}(t)},eJ.V.linePrefix,eQ._.tabSize);function i(a){return a===eW.q.eof||(0,eH.Ch)(a)?(e.exit("mathFlowFence"),t(a)):n(a)}},o=this,l=o.events[o.events.length-1],d=l&&l[1].type===eJ.V.linePrefix?l[2].sliceSerialize(l[1],!0).length:0,u=0;return function(t){return eW.q.dollarSign,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(i){return i===eW.q.dollarSign?(e.consume(i),u++,t):(e.exit("mathFlowFenceSequence"),u<2?n(i):(0,eG.f)(e,a,eJ.V.whitespace)(i))}(t)}},concrete:!0},eK={tokenize:function(e,t,n){var a=function(e){return i.parser.lazy[i.now().line]?n(e):t(e)},i=this;return function(t){return(0,eH.Ch)(t),e.enter(eJ.V.lineEnding),e.consume(t),e.exit(eJ.V.lineEnding),a}},partial:!0};function e0(e){var t,n,a=e.length-4,i=3;if((e[3][1].type===eJ.V.lineEnding||"space"===e[i][1].type)&&(e[a][1].type===eJ.V.lineEnding||"space"===e[a][1].type)){for(t=i;++t<a;)if("mathTextData"===e[t][1].type){e[a][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,a-=2;break}}for(t=i-1,a++;++t<=a;)void 0===n?t!==a&&e[t][1].type!==eJ.V.lineEnding&&(n=t):(t===a||e[t][1].type===eJ.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),a-=t-n-2,t=n+2),n=void 0);return e}function e9(e){return e!==eW.q.backslash||this.events[this.events.length-1][1].type===eJ.V.characterEscape}function e1(e){var t,n,a=e.length-4,i=3;if((e[3][1].type===eJ.V.lineEnding||"space"===e[i][1].type)&&(e[a][1].type===eJ.V.lineEnding||"space"===e[a][1].type)){for(t=i;++t<a;)if("mathTextData"===e[t][1].type){e[a][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,a-=2;break}}for(t=i-1,a++;++t<=a;)void 0===n?t!==a&&e[t][1].type!==eJ.V.lineEnding&&(n=t):(t===a||e[t][1].type===eJ.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),a-=t-n-2,t=n+2),n=void 0);return e}function e2(e){return e!==eW.q.dollarSign||this.events[this.events.length-1][1].type===eJ.V.characterEscape}function e5(e){var t,n,a=e.length-4,i=3;if((e[3][1].type===eJ.V.lineEnding||"space"===e[i][1].type)&&(e[a][1].type===eJ.V.lineEnding||"space"===e[a][1].type)){for(t=i;++t<a;)if("mathTextData"===e[t][1].type){e[a][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,a-=2;break}}for(t=i-1,a++;++t<=a;)void 0===n?t!==a&&e[t][1].type!==eJ.V.lineEnding&&(n=t):(t===a||e[t][1].type===eJ.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),a-=t-n-2,t=n+2),n=void 0);return e}function e3(e){return e!==eW.q.backslash||this.events[this.events.length-1][1].type===eJ.V.characterEscape}var e6=n(67726),e4=n(63395),e7=n(93362),e8=n(45369),te=n(42426),tt=n(65028),tn=n(88366),ta=n(86646),ti=n(82473),ts=n(61236),tr=n(15635),to=n(17130),tl=n(42798),td=n(72290),tu="sandbox:";function tc(e){var t,n,a,i=e.messageId,s=e.clientThreadId,r=e.href,o=(0,eD._)(e,["messageId","clientThreadId","href"]),l=null!==(0,w.useContext)(D.gB),d=(0,ti.NL)(),u=(0,v._)((0,w.useState)(!1),2),c=u[0],m=u[1],x=r.substring(tu.length),f=R.tQ.getServerThreadId(s),g=(0,N.Z)(),y=(0,w.useCallback)(function(e){var t=document.createElement("a");t.href=e,t.click(),m(!1)},[]),b=(t=(0,w.useCallback)(function(e){m(!1),td.m.danger(e)},[]),n=(0,to.VF)(),(0,ts.a)({queryKey:tx(i,x),queryFn:function(){return ta.ZP.downloadFromInterpreter(i,f,x).then(function(e){return(null==e?void 0:e.status)==="success"&&y(e.download_url),e}).catch(function(e){var a=n("default_download_link_error",{fileName:x});throw void 0!==e.code&&(a=n(e.code)),null==t||t(a),e})},enabled:!!(c&&!l&&i&&f&&x)})).data,j=(0,w.useCallback)((a=(0,$._)(function(e){return(0,K.Jh)(this,function(t){return void 0!==s&&(e.preventDefault(),(void 0===b||(null==b?void 0:b.status)==="error")&&d.invalidateQueries({queryKey:tx(i,x)}),(null==b?void 0:b.status)=="success"&&(null==b?void 0:b.download_url)?y(b.download_url):m(!0)),[2]})}),function(e){return a.apply(this,arguments)}),[s,b,d,i,x,y]);return(0,k.jsx)(tr.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[c?g.formatMessage(tf.startingDownload):g.formatMessage(tf.downloadFile),c&&(0,k.jsx)(tl.Z,{})]}),side:"top",sideOffset:4,children:(0,k.jsx)("a",(0,p._)((0,h._)({},o),{className:"cursor-pointer",onClick:function(e){return!c&&j(e)}}))})}function tm(e){return(0,k.jsx)(tr.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,k.jsx)("span",{className:"flex items-center gap-1",children:(0,k.jsx)(ep.Z,(0,h._)({},tf.downloadUnavailable))}),side:"top",sideOffset:4,children:(0,k.jsx)("span",(0,p._)((0,h._)({},e),{className:"font-semibold text-gray-500 underline dark:text-gray-300"}))})}function tx(e,t){return["downloadSandboxLink",e,t]}var tf=(0,S.vU)({downloadFile:{id:"SandboxDownload.downloadFile",defaultMessage:"Download file",description:"Tooltip label for downloading a file button"},startingDownload:{id:"SandboxDownload.startingDownload",defaultMessage:"Starting download",description:"Tooltip label for downloading started for file button"},downloadUnavailable:{id:"SandboxDownload.downloadUnavailable",defaultMessage:"File download not supported in a shared chat",description:"Tooltip label indicating file is unavailable to download for shared conversations"}}),tg=function(e){return e.startsWith(tu)?e:(0,e4.A)(e)},th=[tt.Z,[function(){var e,t,n=function(e,t){(a[e]?a[e]:a[e]=[]).push(t)},a=this.data();n("micromarkExtensions",{flow:(e={},(0,X._)(e,eW.q.dollarSign,eY),(0,X._)(e,eW.q.backslash,e$),e),text:(t={},(0,X._)(t,eW.q.dollarSign,{tokenize:function(e,t,n){var a,i,s=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),function t(a){return a===eW.q.dollarSign?(e.consume(a),s++,t):s<2?n(a):(e.exit("mathTextSequence"),r(a))}(t)};function r(l){return l===eW.q.eof?n(l):l===eW.q.dollarSign?(i=e.enter("mathTextSequence"),a=0,function n(r){return r===eW.q.dollarSign?(e.consume(r),a++,n):a===s?(e.exit("mathTextSequence"),e.exit("mathText"),t(r)):(i.type="mathTextData",o(r))}(l)):l===eW.q.space?(e.enter("space"),e.consume(l),e.exit("space"),r):(0,eH.Ch)(l)?(e.enter(eJ.V.lineEnding),e.consume(l),e.exit(eJ.V.lineEnding),r):(e.enter("mathTextData"),o(l))}function o(t){return t===eW.q.eof||t===eW.q.space||t===eW.q.dollarSign||(0,eH.Ch)(t)?(e.exit("mathTextData"),r(t)):(e.consume(t),o)}},resolve:e1,previous:e2}),(0,X._)(t,eW.q.backslash,[{tokenize:function(e,t,n){var a,i=[],s=[],r=this;return function(t){return eW.q.backslash,e9.call(r,r.previous)&&r.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(a){return(i.join(","),a===eW.q.backslash&&0===i.length||a===eW.q.leftParenthesis&&1===i.length)?(e.consume(a),i.push(a),t):i.length<2?n(a):(e.exit("mathTextSequence"),o(a))}(t)};function o(r){return r===eW.q.eof?n(r):r===eW.q.backslash?(a=e.enter("mathTextSequence"),s=[],function n(r){return(i.join(","),r===eW.q.backslash&&0===s.length||r===eW.q.rightParenthesis&&1===s.length)?(e.consume(r),s.push(r),n):s.length===i.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(r)):(a.type="mathTextData",l(r))}(r)):r===eW.q.space?(e.enter("space"),e.consume(r),e.exit("space"),o):(0,eH.Ch)(r)?(e.enter(eJ.V.lineEnding),e.consume(r),e.exit(eJ.V.lineEnding),o):(e.enter("mathTextData"),l(r))}function l(t){return t===eW.q.eof||t===eW.q.space||t===eW.q.backslash||(0,eH.Ch)(t)?(e.exit("mathTextData"),o(t)):(e.consume(t),l)}},resolve:e0,previous:e9},{tokenize:function(e,t,n){var a,i=[],s=[],r=this;return function(t){return eW.q.backslash,e3.call(r,r.previous)&&r.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(a){return(i.join(","),a===eW.q.backslash&&0===i.length||a===eW.q.leftSquareBracket&&1===i.length)?(e.consume(a),i.push(a),t):i.length<2?n(a):(e.exit("mathTextSequence"),o(a))}(t)};function o(r){return r===eW.q.eof?n(r):r===eW.q.backslash?(a=e.enter("mathTextSequence"),s=[],function n(r){return(i.join(","),r===eW.q.backslash&&0===s.length||r===eW.q.rightSquareBracket&&1===s.length)?(e.consume(r),s.push(r),n):s.length===i.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(r)):(a.type="mathTextData",l(r))}(r)):r===eW.q.space?(e.enter("space"),e.consume(r),e.exit("space"),o):(0,eH.Ch)(r)?(e.enter(eJ.V.lineEnding),e.consume(r),e.exit(eJ.V.lineEnding),o):(e.enter("mathTextData"),l(r))}function l(t){return t===eW.q.eof||t===eW.q.space||t===eW.q.backslash||(0,eH.Ch)(t)?(e.exit("mathTextData"),o(t)):(e.consume(t),l)}},resolve:e5,previous:e3}]),t)}),n("fromMarkdownExtensions",(0,eV.N)()),n("toMarkdownExtensions",(0,eV.O)())},{singleDollarTextMath:!1}]],tp=[[e7.Z,{languages:{mathematica:e6.Z},detect:!0,subset:["arduino","bash","c","cpp","csharp","css","diff","go","graphql","java","javascript","json","kotlin","latex","less","lua","makefile","makefile","markdown","matlab","mathematica","nginx","objectivec","perl","pgsql","php-template","php","plaintext","python-repl","python","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","wasm","xml","yaml"],ignoreMissing:!0,aliases:{mathematica:"wolfram"}}],e8.Z,[te.Z,{newlines:!0}]],tv={code:function(e){var t=e.inline,n=e.node,a=e.className,i=e.children,s=(0,eD._)(e,["inline","node","className","children"]),r=(0,w.useContext)(tB);if(t){if(null!=r){var o=function(e){var t=e.match(/【oaicite:(\d+)】/);if(t)try{return parseInt(t[1],10)}catch(e){}return -1}((0,tn.B)(n)),l=r.displayedCitations;if(o>=0&&o<l.length)return(0,k.jsx)(tz,{displayInfo:l[o]})}return(0,k.jsx)("code",(0,p._)((0,h._)({className:a},s),{children:i}))}var d,u=null===(d=null==a?void 0:a.split(" ").filter(function(e){return e.startsWith("language-")}))||void 0===d?void 0:d[0],c=u?u.split("-")[1]:"";return(0,k.jsx)(ec,{language:c,className:a,content:(0,tn.B)(n),children:i})}};function ty(e){var t=e.size,n=e.children,a=e.className,i=e.clientThreadId,s=e.messageId,r=(0,ez.F)().resolvedTheme,o=(0,eq.H)().isAdvancedDataAnalysisAvailable,l=null!==(0,w.useContext)(D.gB),d=(0,w.useMemo)(function(){return(0,p._)((0,h._)({},tv),{a:function(e){var t=e.node,n=(0,eD._)(e,["node"]);return t.properties.href.startsWith(tu)?l?(0,k.jsx)(tm,(0,h._)({},n)):o&&null!=i&&null!=s?(0,k.jsx)(tc,(0,h._)({clientThreadId:i,messageId:s},n)):null:(0,k.jsx)("a",(0,h._)({},n))},img:function(e){var t=e.node,n=(0,eD._)(e,["node"]),a=t.properties.src;return a.startsWith(tu)||a.startsWith("attachment:")?null:(0,k.jsx)("img",(0,h._)({},n))}})},[i,o,l,s]);return(0,k.jsx)(eU.S,{name:"formatted_text_error",fallback:function(){return(0,k.jsx)(k.Fragment,{children:n})},children:(0,k.jsx)(eO.D,{rehypePlugins:tp,remarkPlugins:th,linkTarget:"_new",className:(0,b.default)(a,"markdown prose w-full break-words dark:prose-invert","dark"===r?"dark":"light","small"===(void 0===t?"medium":t)&&"prose-xs"),transformLinkUri:tg,components:d,children:n})})}var tk=n(45048);function tb(){var e=(0,y._)(["flex flex-col items-start"]);return tb=function(){return e},e}function tw(){var e=(0,y._)(["flex items-center text-xs bg-green-100 rounded p-3 text-gray-900 ",""]);return tw=function(){return e},e}function tj(){var e=(0,y._)(["max-w-full overflow-x-auto mt-3 flex flex-col gap-2 rounded bg-gray-100 p-3 text-sm text-gray-800"]);return tj=function(){return e},e}var tM=w.memo(function(e){var t=e.children,n=e.isComplete,a=e.expanderClosedLabel,i=e.expanderOpenLabel,s=e.resultsPreview,r=e.results,o=e.initialExpanded,l=e.onExpand,d=(0,v._)((0,w.useState)(void 0!==o&&o),2),u=d[0],c=d[1],m=(0,w.useCallback)(function(){c(function(e){return!e}),null==l||l()},[l]);return(0,k.jsxs)(tC,{children:[(0,k.jsxs)(t_,{$complete:n,children:[(0,k.jsx)("div",{children:t}),!n&&(0,k.jsx)(tl.Z,{className:(0,b.default)("shrink-0",null!=r?"ml-1":"ml-12")}),null!=r&&(0,k.jsxs)("div",{className:"ml-12 flex items-center gap-2",role:"button",onClick:m,children:[null!=i&&null!=a&&(0,k.jsx)("div",{className:"text-xs text-gray-600",children:u?i:a}),!u&&s,u?(0,k.jsx)(j.rH8,{className:"icon-sm"}):(0,k.jsx)(j.bTu,{className:"icon-sm"})]})]}),u&&r]})}),tC=M.Z.div(tb()),t_=M.Z.div(tw(),function(e){return e.$complete&&"bg-gray-100"}),tT=M.Z.div(tj()),tI={},tN={};function tS(e){var t=function(e,t){return"```".concat(t,"\n").concat(e,"\n```")};if("code"===e.content.content_type)return t(e.content.text,"python");if("python"===e.recipient){if("text"!==e.content.content_type)throw Error("Unexpected content type for code message");var n=e.content.parts;if(1!==n.length||"string"!=typeof n[0])throw Error("Unexpected parts for code message");return t(n[0],"python")}throw Error("Unexpected code message format")}function tP(e){var t=e.message,n=e.outputMessage,a=e.clientThreadId,i=e.isComplete,s=(0,N.Z)(),r=(0,ez.F)().resolvedTheme;(0,w.useEffect)(function(){tI[t.message.id]||(T.A.logEvent(I.M.renderTool2Message,{id:t.message.id,finishedExecuting:i}),tI[t.message.id]=!0)},[t,i]);var o=(0,w.useCallback)(function(){tN[t.message.id]||(T.A.logEvent(I.M.expandTool2Message,{id:t.message.id,finishedExecuting:i}),tN[t.message.id]=!0)},[t,i]),l=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"mt-3 self-stretch",children:(0,k.jsx)(ty,{clientThreadId:a,messageId:t.message.id,className:(0,b.default)("markdown prose w-full break-words dark:prose-invert","dark"===r?"dark":"light"),children:tS(t.message)})}),n&&(0,k.jsx)("div",{className:"self-stretch",children:(0,k.jsx)(tk.ZP,{message:n,isCollapsed:!0})})]});return(0,k.jsx)(tM,{expanderClosedLabel:s.formatMessage(tR.expanderClosedLabel),expanderOpenLabel:s.formatMessage(tR.expanderOpenLabel),isComplete:i,results:l,onExpand:o,children:i?(0,k.jsx)(ep.Z,(0,h._)({},tR.finishedWorking)):(0,k.jsx)(ep.Z,(0,h._)({},tR.working))})}var tR=(0,S.vU)({expanderClosedLabel:{id:"CodeMessage.expanderClosedLabel",defaultMessage:"Show work",description:"Label for the button to expand and show the code execution details"},expanderOpenLabel:{id:"CodeMessage.expanderOpenLabel",defaultMessage:"Hide work",description:"Label for the button to collapse and hide the code execution details"},finishedWorking:{id:"CodeMessage.finishedWorking",defaultMessage:"Finished working",description:"Status text indicating the code execution has completed"},working:{id:"CodeMessage.working",defaultMessage:"Working...",description:"Status text indicating the code execution is in progress"}});function tE(e){var t=e.codeMessage,n=e.codeExecutionOutputMessage,a=e.onDismiss,i=(0,N.Z)();return(0,k.jsx)(eB.ZP.Root,{isOpen:!0,onClose:a,children:(0,k.jsx)(eB.ZP.Overlay,{children:(0,k.jsxs)(eB.ZP.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[(0,k.jsx)(eB.ZP.Header,{title:i.formatMessage(tA.title),type:"success",closeButton:(0,k.jsx)(eB.ZP.CloseButton,{onClose:a})}),(0,k.jsxs)("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[(0,k.jsx)("div",{children:(0,k.jsx)(tF,{message:t})}),(0,k.jsx)("div",{children:(0,k.jsx)(tD,{message:n})})]})]})})})}function tF(e){var t=e.message,n=(0,ez.F)().resolvedTheme;return(0,k.jsx)(ty,{className:(0,b.default)("markdown prose w-full break-words dark:prose-invert","dark"===n?"dark":"light"),children:tS(t)})}function tD(e){var t,n=e.message,a=(0,N.Z)();if(n.content.content_type!==P.PX.ExecutionOutput)return null;var i=null===(t=n.metadata)||void 0===t?void 0:t.aggregate_result;if(!i)return console.error("Corrupt code execution result message"),null;var s=i.messages.filter(tk.M),r=s.length>0,o=null!=i.final_expression_output;return(0,k.jsxs)(k.Fragment,{children:[r&&(0,k.jsx)(tL,{label:"STDOUT/STDERR",output:s.map(function(e,t){return(0,k.jsx)("span",{className:"stderr"===e.stream_name?"text-red-500":"",children:e.text},"".concat(t))})}),o&&(0,k.jsx)(tL,{label:a.formatMessage(tA.resultLabel),output:i.final_expression_output})]})}function tL(e){var t=e.label,n=e.output;return(0,k.jsxs)("div",{className:"bg-gray-700 p-4 text-xs",children:[(0,k.jsx)("div",{className:"mb-1 text-gray-400",children:t}),(0,k.jsx)("div",{className:"prose flex flex-col-reverse text-white",children:(0,k.jsx)("pre",{className:"shrink-0",children:n})})]})}var tA=(0,S.vU)({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis",description:"Title of the code execution output modal"},resultLabel:{id:"CodeExecutionOutputModal.resultLabel",defaultMessage:"Result",description:"Label shown with the code execution result output"}});function tZ(e){var t,n=e.url,a=e.size,i=void 0===a?16:a,s=e.className;try{t=new URL(n)}catch(e){return console.error(e),null}return(0,k.jsx)("img",{src:"https://icons.duckduckgo.com/ip3/".concat(t.hostname,".ico"),alt:"Favicon",width:i,height:i,className:s})}(a=d||(d={}))[a.Standard=0]="Standard",a[a.CodeExecution=1]="CodeExecution";var tB=(0,w.createContext)(void 0),tq="&#8203;";function tU(e){return"".concat(tq,"``【oaicite:").concat(e,"】``").concat(tq)}function tz(e){var t=e.displayInfo;return t.type===d.Standard?(0,k.jsx)(tO,{displayInfo:t}):(0,k.jsx)(tV,{displayInfo:t})}function tO(e){var t,n=e.displayInfo,a=(0,ew.F4)(),i=(0,to.O6)(),s=(0,w.useContext)(tB),r=(0,_.WA)(null!==(t=null==s?void 0:s.clientThreadId)&&void 0!==t?t:P.Zq),o=n.metadata,l=(null==o?void 0:o.type)==="file";if(l&&(r.kind===P.OL.GizmoInteraction||r.kind==P.OL.GizmoTest))return null;var d=a?(0,k.jsx)(eA,{className:"-mt-0.5 ml-0.5 inline-block text-link-base hover:text-link-hover"}):(0,k.jsx)("sup",{children:n.number});return(0,k.jsx)(tr.u,{label:(0,k.jsx)(tW,{citationMetadata:o,invalidReason:n.invalid_reason}),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,interactive:!0,wide:!0,children:l?(0,k.jsx)("button",{onClick:function(){return i(o.id,o.name)},className:"px-0.5 text-green-600",children:d}):(0,k.jsx)("a",{href:null==o?void 0:o.url,target:"_blank",rel:"noreferrer",className:"px-0.5 text-green-600 !no-underline",children:d})})}function tV(e){var t=e.displayInfo,n=(0,v._)((0,w.useState)(!1),2),a=n[0],i=n[1],s=(0,N.Z)();return(0,ew.F4)()?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(tr.u,{label:s.formatMessage(tH.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:(0,k.jsx)("button",{onClick:function(){return i(!0)},children:(0,k.jsx)(eZ,{className:"-mt-0.5 ml-0.5 inline-block text-link-base hover:text-link-hover"})})}),a&&(0,k.jsx)(tE,{codeMessage:t.codeMessage,codeExecutionOutputMessage:t.codeExecutionOutputMessage,onDismiss:function(){return i(!1)}})]}):null}function tW(e){var t=e.citationMetadata,n=e.invalidReason,a=e.onClick,i=(0,to.O6)(),s=(null==t?void 0:t.type)==="file",r=t?(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"flex shrink-0 items-center justify-center",children:s?(0,k.jsx)(j.NOg,{}):(0,k.jsx)(tZ,{url:t.url,className:"my-0"})}),(0,k.jsx)("div",{className:"max-w-xs truncate",children:s?t.name:t.title}),(0,k.jsx)("div",{className:"shrink-0",children:(0,k.jsx)(j.AlO,{className:"icon-xs"})})]}):(0,k.jsx)("div",{className:"text-red-500",children:null!=n?n:(0,k.jsx)(ep.Z,(0,h._)({},tH.invalid))});return s?(0,k.jsx)("button",{onClick:function(){i(t.id,t.name),null==a||a()},className:"text-xs",children:r}):(0,k.jsx)("a",{href:null==t?void 0:t.url,target:"_blank",rel:"noreferrer",className:"text-xs !no-underline",onClick:a,children:r})}function tG(e){return"file"===e.type?e.id:e.url}var tH=(0,S.vU)({invalid:{id:"citations.invalid",description:"Text when citation is invalid",defaultMessage:"Invalid citation"},viewAnalysis:{id:"citations.viewAnalysis",description:"Tooltip text for a citation link to analysis",defaultMessage:"View analysis"}}),tQ=n(10558),tJ=n(98135),t$=n(2827);function tX(){var e=(0,y._)(["text-center mt-2 flex justify-center"]);return tX=function(){return e},e}function tY(){var e=(0,y._)(["flex gap-2 flex-wrap"]);return tY=function(){return e},e}var tK=(0,S.vU)({saveAndSubmit:{id:"NodeEditor.saveAndSubmit",defaultMessage:"Save & Submit",description:"Save and submit button label in the NodeEditor component."},cancel:{id:"NodeEditor.cancel",defaultMessage:"Cancel",description:"Cancel button label in the NodeEditor component."}}),t0=M.Z.div(tX());function t9(e){var t=e.initialText,n=e.clientThreadId,a=e.currentLeaf,i=e.onChangeItemInView,s=e.onExitEdit,r=e.onRequestCompletion,o=e.disabled,l=e.attachments,d=(0,w.useId)(),u="".concat(a,"-").concat(d),c=(0,v._)((0,w.useState)(null!=t?t:""),2),m=c[0],x=c[1],f=(0,w.useRef)(null),g=(0,w.useCallback)(function(e){x(e.currentTarget.value)},[]),p=(0,_.WA)(n),y=(0,w.useCallback)(function(){R.tQ.updateTree(n,function(e){var t=e.getParentId(a);e.addNode(u,m,t,P.uU.User,void 0,l?{attachments:l}:void 0)}),i(u),r({type:P.Os.Next,promptId:u,eventMetadata:{eventSource:"mouse"},cancelActiveRequests:!0,completionMetadata:{conversationMode:p}}),s(),T.A.logEvent(I.M.changeNode,{intent:"edit_save"})},[l,n,a,u,m,i,r,s,p]),b=(0,w.useCallback)(function(){i(a),T.A.logEvent(I.M.changeNode,{intent:"edit_cancel"}),s(),T.A.logEvent(I.M.cancelEditPrompt,{threadId:R.tQ.getServerThreadId(n)})},[a,i,s,n]);(0,w.useEffect)(function(){var e=f.current,t=function(e){"Enter"===e.key&&e.metaKey?y():"Escape"===e.key&&b()};return e&&e.addEventListener("keydown",t),function(){e&&e.removeEventListener("keydown",t)}},[b,y]);var j=l&&l.length>0;return(0,k.jsxs)(k.Fragment,{children:[j&&(0,k.jsx)(t1,{children:l.map(function(e){return(0,k.jsx)(tJ.Z,{file:e.name},e.id)})}),(0,k.jsx)(t$.ZP,{ref:f,value:m,onChange:g,className:"m-0 resize-none border-0 bg-transparent p-0 focus:ring-0 focus-visible:ring-0"}),(0,k.jsxs)(t0,{children:[(0,k.jsx)(ee.z,{as:"button",onClick:y,className:"mr-2",disabled:o,children:(0,k.jsx)(ep.Z,(0,h._)({},tK.saveAndSubmit))}),(0,k.jsx)(ee.z,{as:"button",color:"neutral",onClick:b,children:(0,k.jsx)(ep.Z,(0,h._)({},tK.cancel))})]})]})}var t1=M.Z.div(tY()),t2=n(98486),t5=n(47635),t3=n(13246);function t6(){var e=(0,y._)(["text-xs text-black\n",""]);return t6=function(){return e},e}function t4(){var e=(0,y._)(["relative w-full overflow-hidden pt-[67%]"]);return t4=function(){return e},e}function t7(e){var t,n=e.title,a=e.url,i=e.imageUrl,s=e.logoUrl,r=e.className,o=e.mini,l=(0,N.Z)(),d=!!i,u=(0,w.useCallback)(function(){T.A.logEvent(I.M.carouselCardClick,{content:a})},[a]);try{t=t5.get(new URL(a).hostname)}catch(e){return console.error("Invalid card url: ",e),null}return(0,k.jsxs)(a?"a":"div",{className:(0,b.default)("flex h-full w-full flex-col overflow-hidden rounded-md border border-black/10 bg-gray-50 shadow-[0_2px_24px_rgba(0,0,0,0.05)]",r),href:a,target:a?"_blank":"",onClick:u,children:[d&&(0,k.jsx)(ne,{children:(0,k.jsx)("div",{className:"absolute inset-0",children:(0,k.jsx)("img",{src:i,alt:l.formatMessage(nt.imageAlt,{title:n}),className:"h-full w-full border-b border-black/10 object-cover"})})}),(0,k.jsxs)("div",{className:"flex flex-1 flex-col justify-between gap-1.5 p-3",children:[(0,k.jsx)(t8,{$clamp:void 0!==o&&o||d,children:n}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[s?(0,k.jsx)(t3.Z,{url:s,name:t,size:13}):(0,k.jsx)(tZ,{url:a,size:13}),(0,k.jsx)("div",{className:"text-[10px] leading-3 text-gray-500 line-clamp-1",children:t})]})]})]})}var t8=M.Z.div(t6(),function(e){return e.$clamp&&"line-clamp-2"}),ne=M.Z.div(t4()),nt=(0,S.vU)({imageAlt:{id:"Card.imageAlt",description:"Alt text for the image, describing the content of the image",defaultMessage:"image of {title}"}}),nn=n(33554),na=n(46244),ni=n(95182),ns=n.n(ni);function nr(e){var t=e.disabled,n=e.onClick,a=e.left,i=e.children;return(0,k.jsx)("button",{disabled:t,onClick:n,"aria-disabled":t,className:(0,b.default)("flex h-6 w-[30px] items-center justify-center rounded-full","bg-gray-900 text-white shadow-sm hover:bg-gray-700 disabled:hover:bg-gray-900 dark:bg-white dark:text-gray-900 dark:hover:bg-gray-200 dark:disabled:hover:bg-white","transition-opacity disabled:opacity-20","cursor-pointer disabled:cursor-auto","absolute top-full translate-y-3 lg:top-1/2 lg:-translate-y-1/2",void 0!==a&&a?"left-1/2 -translate-x-[calc(100%+4px)] lg:-left-3 lg:-translate-x-full":"left-1/2 translate-x-1 lg:-right-3 lg:left-auto lg:translate-x-full",t&&"lg:hidden"),children:i})}var no=n(97296),nl=function(e){var t=e.x,n=e.children,a=e.className;return(0,k.jsx)(no.E.div,{className:(0,b.default)("mr-3 h-full w-full flex-none sm:w-[calc((100%-12px)/2)] lg:w-[calc((100%-24px)/3)]",a),style:{x:t},children:n})},nd={type:"spring",bounce:0},nu=(0,w.forwardRef)(function(e,t){return(0,k.jsx)("div",{ref:t,className:(0,b.default)("relative flex h-full w-full overflow-hidden",e.className),children:e.children})});nu.displayName="CarouselContainer";var nc=(u={},(0,X._)(u,L._G.Mobile,1),(0,X._)(u,L._G.Small,2),(0,X._)(u,L._G.Medium,2),(0,X._)(u,L._G.Large,3),(0,X._)(u,L._G.XLarge,3),u);function nm(e){var t=e.children,n=e.loop,a=void 0===n||n,i=e.className,s=(0,nn.c)(0),r=(0,w.useRef)(null),o=(0,v._)((0,w.useState)(0),2),l=o[0],d=o[1],u=nc[(0,L.dQ)()]||1,c=w.Children.count(t)>u,m=w.Children.toArray(t),x=(0,w.useCallback)(function(){var e,t=null===(e=r.current)||void 0===e?void 0:e.clientWidth;return t?-Math.floor(l/u)*(t+12):0},[u,l]),f=(0,w.useCallback)(function(e){var t=u*e;a?d(function(e){return(e+t)%m.length-1}):d(function(e){return ns()(e+t,0,m.length-1)})},[m.length,a,u]),g=(0,w.useCallback)(function(){f(1)},[f]),h=(0,w.useCallback)(function(){f(-1)},[f]),p=(0,v._)((0,w.useMemo)(function(){if(a)return[!0,!0];var e=l<m.length-u;return[l>0,e]},[m.length,l,a,u]),2),y=p[0],M=p[1];return(0,w.useEffect)(function(){return(0,na.j)(s,x(),nd).stop},[x,l,s]),(0,k.jsxs)("div",{className:(0,b.default)("relative h-full w-full",i,c&&"mb-12 lg:mb-0"),children:[(0,k.jsx)(nu,{ref:r,children:m.map(function(e,t){return(0,k.jsx)(nl,{x:s,children:e},t)})}),c&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(nr,{onClick:h,left:!0,disabled:!y,children:(0,k.jsx)(j.YFh,{className:"icon-sm"})}),(0,k.jsx)(nr,{onClick:g,disabled:!M,children:(0,k.jsx)(j.Tfp,{className:"icon-sm"})})]})]})}var nx=new Set(["og:site_name","og:title","og:description","og:image","og:url"]),nf={"og:site_name":"metadataTitle","og:title":"title","og:description":"description","og:image":"imageUrl","og:url":"url"},ng=/https:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,nh=w.memo(function(e){var t,n=e.clientThreadId,a=e.urls,i=(0,G.i)(n),s=(t=(0,t2.h)({queries:a.map(function(e){return{queryKey:["opengraph",e],queryFn:(0,$._)(function(){return(0,K.Jh)(this,function(t){switch(t.label){case 0:return[4,ta.ZP.getPageMetadata({url:e})];case 1:return[2,t.sent()]}})}),enabled:!!e,retry:!1}})}),(0,w.useMemo)(function(){return t.map(function(e,t){var n=e.data,i=e.isError,s=e.isLoading,r=a[t];if(i||s)return null;var o=n.tags.reduce(function(e,t){return nx.has(t.type)&&(e[nf[t.type]]=t.value),e},{});try{var l,d=r.split(/[#?]/)[0],u=null===(l=o.url)||void 0===l?void 0:l.endsWith("/login"),c=o.url&&"/"===new URL(o.url||"").pathname;if(d!==o.url&&(u||c))return null}catch(e){return null}return o.url=r,o}).filter(Boolean)},[t,a])),r=(0,w.useMemo)(function(){return!s.some(function(e){return!!(null==e?void 0:e.imageUrl)})},[s]),o=(0,w.useMemo)(function(){return i.reduce(function(e,t){return e[t5.get(t.domain)]=t.manifest.logo_url,e},{})},[i]),l=(0,w.useMemo)(function(){return s.map(function(e){var t,n;if(!e)return null;try{t=t5.get(new URL(e.url).hostname)}catch(e){return console.error("Invalid card url: ",e),null}return t in o&&(n=o[t]),(0,k.jsx)(t7,{title:e.title||"",url:e.url,imageUrl:e.imageUrl,logoUrl:n,mini:r},e.url)})},[s,r,o]);return 0===s.length?null:(0,k.jsx)(nm,{loop:!1,children:l})}),np=n(52811),nv=n(95496),ny=n(51217),nk=function(){function e(t){(0,ny._)(this,e),this.updateReactComponentDisplay=t,this.textMessageParts=[],this.textMessagePartsTextLength=0,this.displayedTextLength=0,this.displayNextCharDelayMs=e.MAX_BUFFERING_MS_PER_CHAR}var t=e.prototype;return t.displayNextChar=function(){var e=this;this.displayNextCharTimeout=void 0,this.isBuffering()&&(this.displayedTextLength++,this.updateReactComponentDisplay(nS(this.textMessageParts,this.displayedTextLength)),this.displayNextCharTimeout=window.setTimeout(function(){return e.displayNextChar()},this.displayNextCharDelayMs))},t.isBuffering=function(){return this.displayedTextLength<this.textMessagePartsTextLength},t.onMessagePartsUpdated=function(t){this.textMessageParts=t,this.textMessagePartsTextLength=nN(this.textMessageParts).length;var n=this.textMessagePartsTextLength-this.displayedTextLength;if(n>0){var a=e.MAX_BUFFERING_LAG_MS/n;this.displayNextCharDelayMs=Math.min(a,e.MAX_BUFFERING_MS_PER_CHAR)}null==this.displayNextCharTimeout&&this.displayNextChar()},t.destroy=function(){window.clearTimeout(this.displayNextCharTimeout)},e}();nk.MAX_BUFFERING_LAG_MS=500,nk.MAX_BUFFERING_MS_PER_CHAR=30;var nb=function(){function e(t){(0,ny._)(this,e),this.updateReactComponentDisplay=t,this.textMessageParts=[],this.textMessagePartsTextLength=0,this.displayedTextLength=0,this.chunkLength=0}var t=e.prototype;return t.displayNextChunk=function(){var t=this;this.displayNextChunkTimeout=void 0,this.isBuffering()&&(this.displayedTextLength=Math.min(this.displayedTextLength+this.chunkLength,this.textMessagePartsTextLength),this.updateReactComponentDisplay(nS(this.textMessageParts,this.displayedTextLength)),this.displayNextChunkTimeout=window.setTimeout(function(){return t.displayNextChunk()},e.UPDATE_FREQUENCY_MS))},t.isBuffering=function(){return this.displayedTextLength<this.textMessagePartsTextLength},t.onMessagePartsUpdated=function(t){this.textMessageParts=t,this.textMessagePartsTextLength=nN(this.textMessageParts).length;var n=this.textMessagePartsTextLength-this.displayedTextLength;n>=e.MIN_CHARS_BEHIND_TO_CATCHUP?(this.chunkLength=Math.ceil(n*e.UPDATE_FREQUENCY_MS/e.CATCHUP_TIME_MS),null==this.displayNextChunkTimeout&&this.displayNextChunk()):(this.displayNextChunkTimeout=void 0,window.clearTimeout(this.displayNextChunkTimeout),this.displayedTextLength=this.textMessagePartsTextLength,this.updateReactComponentDisplay(nS(this.textMessageParts,this.displayedTextLength)))},t.destroy=function(){window.clearTimeout(this.displayNextChunkTimeout)},e}();function nw(){var e=(0,y._)(["flex gap-2 flex-wrap"]);return nw=function(){return e},e}nb.MIN_CHARS_BEHIND_TO_CATCHUP=20,nb.CATCHUP_TIME_MS=300,nb.UPDATE_FREQUENCY_MS=30;var nj=w.memo(function(e){var t,n,a,i=e.message,s=e.isEditing,r=e.format,o=e.isCompletionInProgress,l=e.className,d=e.isCompletion,u=e.isResponseToPluginMessage,c=e.prevCodeMessages,m=(0,eD._)(e,["message","isEditing","format","isCompletionInProgress","className","isCompletion","isResponseToPluginMessage","prevCodeMessages"]),x=(0,w.useMemo)(function(){return"parts"in i.message.content?i.message.content.parts:[(0,A.RR)(i.message)]},[i]);return s?(0,k.jsx)(t9,(0,h._)({currentLeaf:i.nodeId,initialText:(0,A.RR)(i.message),attachments:null===(a=i.message.metadata)||void 0===a?void 0:a.attachments},m)):(0,k.jsx)(nM,{parts:x,messages:[i],isCompletionInProgress:o,format:r,className:l,citations:null===(t=i.message.metadata)||void 0===t?void 0:t.citations,attachments:null===(n=i.message.metadata)||void 0===n?void 0:n.attachments,isCompletion:d,id:i.nodeId,onRequestMoreCompletions:m.onRequestMoreCompletions,clientThreadId:m.clientThreadId,showExtractedLinkCards:u,prevCodeMessages:c})});function nM(e){var t=(0,F.hz)(),n=(0,ew.F4)(),a=e.messages.length>1,i="danger"!==(0,W.ZC)(a?void 0:e.messages[0]).flagSeverity&&e.isCompletionInProgress,s=!e.parts.some(function(e){return""!==e});return(0,v._)((0,w.useState)(function(){return(t.has(eI.Nj)||n)&&e.isCompletion&&(e.isCompletionInProgress||s)}),1)[0]?(0,k.jsx)(nC,(0,p._)((0,h._)({},e),{isActivelyStreaming:i})):(0,k.jsx)(n_,(0,p._)((0,h._)({},e),{displayParts:nS(e.parts),isActivelyStreaming:i}))}function nC(e){var t,n=e.isActivelyStreaming,a=(0,eD._)(e,["isActivelyStreaming"]),i=(0,F.hz)(),s=e.messages[e.messages.length-1].message.id,r=(0,v._)((0,w.useState)([]),2),o=r[0],l=r[1],d=(0,w.useRef)();return void 0===d.current&&(d.current=i.has(eI.Nj)?new nk(l):new nb(l)),(0,w.useEffect)(function(){null!=d.current&&(d.current.onMessagePartsUpdated(e.parts),d.current.isBuffering()&&np.Bu.addDelayedRenderingMessage(s))},[e.parts,s]),(0,w.useEffect)(function(){null==d.current||d.current.isBuffering()||np.Bu.removeDelayedRenderingMessage(s)},[o,s]),(0,w.useEffect)(function(){return function(){return np.Bu.removeDelayedRenderingMessage(s)}},[s]),(0,w.useEffect)(function(){return function(){null!=d.current&&(d.current.destroy(),d.current=void 0)}},[]),(0,k.jsx)(n_,(0,p._)((0,h._)({},a),{displayParts:o,isActivelyStreaming:n||(null===(t=d.current)||void 0===t?void 0:t.isBuffering())}))}function n_(e){var t,n,a,i,s=e.attachments,r=e.citations,o=e.className,l=e.clientThreadId,u=e.displayParts,c=e.format,m=e.id,x=e.isActivelyStreaming,f=e.isCompletion,g=e.isCompletionInProgress,p=e.messages,v=e.onRequestMoreCompletions,y=e.parts,j=e.prevCodeMessages,M=e.showExtractedLinkCards,C=e.size,_=void 0===C?"medium":C,T=p.length>1,I=(0,W.ZC)(T?void 0:p[0]),N=I.flagSeverity,S=I.shouldHideContent,P=!y.some(function(e){return""!==e}),R=(n=(t={text:nN(y),isCompletionInProgress:g}).text,a=t.isCompletionInProgress,(0,w.useMemo)(function(){if(a)return[];var e=n.match(ng);return Array.from(new Set(e))},[a,n])),E=null===(i=p[0].message.metadata)||void 0===i?void 0:i.targeted_reply,F=y.filter(function(e){return"string"!=typeof e}),D=new Set(F.map(function(e){return(0,to.Iy)(e.asset_pointer)})),L=(null!=s?s:[]).filter(function(e){return null!=e.id&&!D.has(e.id)}),Z=L.length>0&&!f;return(0,k.jsxs)("div",{"data-message-author-role":p[0].message.author.role,"data-message-id":p[0].message.id,className:(0,b.default)(o,"flex flex-col items-start gap-3 whitespace-pre-wrap break-words","danger"===N&&"text-red-500","warning"===N&&"text-orange-500",!P&&"overflow-x-auto"),children:[E&&(0,k.jsxs)("div",{className:"rounded-md bg-token-surface-tertiary p-3 text-token-text-primary",children:[(0,k.jsx)("div",{className:"text-sm font-black uppercase",children:(0,k.jsx)(ep.Z,(0,h._)({},nP.targetedReply))}),(0,k.jsx)("div",{className:"mt-2 overflow-y-auto whitespace-pre-wrap break-words",children:E})]}),Z&&(0,k.jsx)(nT,{children:L.map(function(e){return(0,k.jsx)(tJ.Z,{file:e.name,fileId:e.id,width:"wide",alwaysShowData:!0},e.id)})}),u.map(function(e,t){if("text"===e.type){var n=S?null:e.text;if(!P&&!S&&c){var a=function(e,t,n){var a=[];if(null!=t){for(var i=t.filter(function(t){return t.end_ix<=e.length}),s=1,r={},o={},l=0;l<i.length;l++){var u=i[l],c=u.citation_format_type,m=u.metadata,x=u.invalid_reason;if("tether_markdown"!==c){if(m){var f=tG(m);null==r[f]&&(r[f]=s,s++),o[l]=r[f]}else null!=x&&(o[l]=s,s++)}}for(var g=i.length-1;g>=0;g--){var h=i[g],p=h.citation_format_type,v=h.start_ix,y=h.end_ix,k=h.metadata,b=h.invalid_reason;if("tether_markdown"===p){if(k&&"file"!==k.type){var w=e.slice(v,y).replace(/\[(.*?)\]\((\d+)\)/g,"[$1](".concat(k.url,")"));e=e.slice(0,v)+w+e.slice(y)}}else{var j={type:d.Standard,number:o[g]};k?j.metadata=k:null!=b&&(j.invalid_reason=b);var M=!1;if(g>0){var C=i[g-1];null!=C.metadata&&null!=k&&tG(C.metadata)===tG(k)&&0===e.slice(C.end_ix,h.start_ix).trim().length&&(e=e.slice(0,C.end_ix)+e.slice(h.end_ix),M=!0)}if(!M){var _=a.length;e=e.slice(0,v)+tU(_)+e.slice(y),a.push(j)}}}}if(null!=n){var T=n.find(function(e){return(0,A.rH)(e)===A.Cs.Code}),I=n.find(function(e){return(0,A.rH)(e)===A.Cs.CodeExecutionOutput});null!=T&&null!=I&&(e+=tU(a.length),a.push({type:d.CodeExecution,codeMessage:T,codeExecutionOutputMessage:I}))}return{text:e,displayedCitations:a}}(e.text,r,x?void 0:null==j?void 0:j.map(function(e){return e.message})),i=a.text,s=a.displayedCitations;return(0,k.jsx)(tB.Provider,{value:{clientThreadId:l,displayedCitations:s},children:(0,k.jsx)(ty,{clientThreadId:l,messageId:m,size:_,className:(0,b.default)(x&&"result-streaming","danger"===N&&"text-red-500","warning"===N&&"text-orange-500"),children:""===i?"&#8203;":i})},t)}return(0,k.jsx)("div",{className:(0,b.default)(P&&x&&"result-thinking relative"),children:n},t)}var o=e.imageAssets.length>1;return(0,k.jsx)("div",{className:(0,b.default)(o&&"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4"),children:e.imageAssets.map(function(e,t){return(0,k.jsx)(nI,{asset:e,showAsGrid:o},t)})},t)}),(0,k.jsx)(W.ZP,{message:T?void 0:p[0],id:m,onRequestMoreCompletions:v,clientThreadId:l}),f&&M&&R.length>0&&(0,k.jsx)(nh,{clientThreadId:l,urls:R})]})}var nT=M.Z.div(nw());function nI(e){var t=e.asset,n=e.showAsGrid,a=(0,v._)((0,w.useState)(!1),2),i=a[0],s=a[1],r=(0,q.QH)().gizmoTemplate,o=(0,N.Z)(),l=(0,nv.GF)(t,null==r?void 0:r.id),d=l.url,u=l.width,c=l.height,m=l.isLoading,x=l.error,f=m||!i;return(0,k.jsx)("div",{className:(0,b.default)("relative mt-1 flex h-auto w-full max-w-lg items-center justify-center overflow-hidden bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400",n&&"aspect-square"),children:null!==d?(0,k.jsx)(tQ.l,{src:d,alt:o.formatMessage(nP.imageAltText),children:(0,k.jsx)(nv.sH,{alt:o.formatMessage(nP.imageAltText),className:(0,b.default)("max-w-full",n&&"aspect-square object-cover"),src:d,width:u,height:c,onLoadingComplete:function(){return s(!0)}})}):(0,k.jsx)("div",{className:"flex items-center justify-center",style:{aspectRatio:"".concat(u," / ").concat(c),width:u},title:f?o.formatMessage(nP.loadingImage):o.formatMessage(nP.errorLoadingImage),children:f?(0,k.jsx)(tl.Z,{}):x?(0,k.jsx)(j.BJv,{}):null})})}function nN(e){return e.map(function(e){return"string"==typeof e?e:""}).join("")}function nS(e,t){for(var n=[],a=0,i=0;i<e.length;i++){var s=e[i];if("string"==typeof s){if(null!=t&&t<a+s.length){n.push({type:"text",text:s.slice(0,t-a)});break}n.push({type:"text",text:s}),a+=s.length}else{var r=i>0?n[i-1]:null;(null==r?void 0:r.type)==="images"?r.imageAssets.push(s):n.push({type:"images",imageAssets:[s]})}}return n}var nP=(0,S.vU)({loadingImage:{id:"textMessage.loadingImage",defaultMessage:"Loading...",description:"Text that describes a loading image"},errorLoadingImage:{id:"textMessage.errorLoadingImage",defaultMessage:"Could not load image",description:"Text that describes an image that failed to load"},imageAltText:{id:"textMessage.imageAltText",defaultMessage:"Uploaded image",description:"Alt text for image asset"},targetedReply:{id:"textMessage.targetedReply",defaultMessage:"Replying to",description:"Header shown above a targeted reply"}});function nR(e){var t=e.messages,n=e.clientThreadId,a=e.isCompletionInProgress,i=e.isCompletion,s=e.prevCodeMessages,r=e.onRequestMoreCompletions,o=(0,w.useMemo)(function(){return[t.reduce(function(e,t){return null==t.err?e+(0,A.RR)(t.message):e},"")]},[t]);return(0,k.jsx)(nM,{clientThreadId:n,parts:o,format:!0,isCompletion:i,isCompletionInProgress:a,id:"",messages:t,onRequestMoreCompletions:r,prevCodeMessages:s})}var nE=n(64502),nF=n(8874),nD=n(13002),nL=n(55068),nA=n(61491),nZ=n(59837),nB=n(62853),nq=n(77421);function nU(){var e=(0,y._)(["0px 1px 12px 0px rgba(162, 107, 247, ",")"]);return nU=function(){return e},e}function nz(){var e=(0,y._)(["1px solid rgba(171, 97, 253, ",")"]);return nz=function(){return e},e}var nO=nL._.apply(void 0,(0,nE._)([.28,.52,.83,.67])),nV=function(e,t){return function(n){var a=n%2150;return a<250?e:(e-t)*(1-Math.sin(2*(1900*nO((a-250)/1900))*Math.PI/1900-Math.PI/2))/2+t}},nW=w.memo(function(e){var t=e.children,n=e.isComplete,a=e.results,i=e.initialExpanded,s=e.onExpand,r=(0,v._)((0,w.useState)(void 0!==i&&i),2),o=r[0],l=r[1],d=(0,v._)((0,w.useState)(t),2),u=d[0],c=d[1],m=(0,N.Z)(),x=(0,b.default)("bg-white dark:bg-gray-600 rounded-xl max-w-full overflow-hidden",n?"border-black/10 border-[0.5px] shadow-xxs":""),f=(0,k.jsx)(nH,{className:(0,b.default)(x,"w-[280px]"),onNewLoop:function(){c(t)},isComplete:n,children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("div",{className:"min-w-0",children:n?t:u}),n&&null!=a&&(0,k.jsx)("div",{className:"mr-3 flex w-5 justify-center text-gray-600/50",children:o?(0,k.jsx)(j.rH8,{className:"icon-sm"}):(0,k.jsx)(j.bTu,{className:"icon-sm"})})]})});return n&&null!=a&&(f=(0,k.jsx)("button",{className:o?"group/tool-expander-open":"group/tool-expander-closed",onClick:function(){l(function(e){return!e}),null==s||s()},"aria-label":m.formatMessage(o?nJ.collapse:nJ.expand),children:f})),(0,k.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[f,null!=a&&n&&o&&(0,k.jsx)("div",{className:(0,b.default)(x,"min-w-[280px]"),children:a})]})});function nG(e){var t=e.icon,n=e.title,a=e.subtitle;return(0,k.jsxs)("div",{className:"flex h-14 items-center gap-2.5 px-3 py-2",children:[(0,k.jsx)("div",{className:"flex h-[34px] w-[34px] shrink-0 items-center justify-center",children:t}),(0,k.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col items-start text-sm leading-[18px]",children:[null!=n&&(0,k.jsx)("div",{className:"truncate font-medium",children:n}),null!=a&&(0,k.jsx)("div",{className:"max-w-full truncate opacity-70",children:a})]})]})}var nH=function(e){var t=e.children,n=e.className,a=e.isComplete,i=e.onNewLoop;return a?(0,k.jsx)("div",{className:n,children:t}):(0,k.jsx)(nQ,{className:n,onNewLoop:i,children:t})},nQ=function(e){var t=e.children,n=e.className,a=e.onNewLoop,i=(0,v._)((0,w.useState)(0),2),s=i[0],r=i[1],o=(0,nA.r)(),l=(0,nZ.H)(o,nV(.05,.2)),d=(0,nB.Y)(nU(),l),u=(0,nZ.H)(o,nV(.33,1)),c=(0,nB.Y)(nz(),u);return(0,nq.W)(o,"change",function(e){r(e);var t=Math.floor(e/2150);Math.floor(s/2150)!==t&&a(t)}),(0,k.jsx)(no.E.div,{className:n,style:{boxShadow:d,border:c},children:t})},nJ=(0,S.vU)({expand:{id:"NewToolMessage.expand",defaultMessage:"Expand",description:"Aria-label for the expand button"},collapse:{id:"NewToolMessage.collapse",defaultMessage:"Collapse",description:"Aria-label for the collapse button"}}),n$=(0,S.vU)({startingBrowsing:{id:"browsingMessage.startingBrowsingV2",defaultMessage:"Starting up",description:"Status message when browsing is starting"},startingFileSearch:{id:"browsingMessage.startingFileSearch",defaultMessage:"Searching files...",description:"Status message when searching files is starting"},finishedFileSearch:{id:"browsingMessage.finishedFileSearch",defaultMessage:"Finished searching files",description:"Status message when searching files is finished"},searchInProgressTitle:{id:"browsingMessage.searchInProgressTitle",defaultMessage:"Browsing...",description:"Browsing command title when in progress"},searchFinishedTitle:{id:"browsingMessage.searchFinishedTitle",defaultMessage:"Finished browsing",description:"Browsing command title when finished"},searchInProgressWeb:{id:"browsingMessage.command.search.inProgress.web",defaultMessage:"Browsing",description:"Browsing command to search Bing is in progress"},searchInProgressFiles:{id:"browsingMessage.command.search.inProgress.files",defaultMessage:"Searching files: <bold>“{searchQuery}”</bold>",description:"Browsing command to search files is in progress"},searchFinishedWeb:{id:"browsingMessage.command.search.finished.web",defaultMessage:"Searched Bing: <bold>“<link>{searchQuery}</link>”</bold>",description:"Browsing command to search Bing finished"},searchFinishedFiles:{id:"browsingMessage.command.search.finished.files",defaultMessage:"Searched files: <bold>“{searchQuery}”</bold>",description:"Browsing command to search files finished"},searchError:{id:"browsingMessage.command.search.error",defaultMessage:"Search failed",description:"Browsing command to search the web failed"},clickInProgressForUrl:{id:"browsingMessage.command.click.inProgressForUrl",defaultMessage:"Clicking on {url}",description:"Browsing command to click on a link is in progress"},clickInProgress:{id:"browsingMessage.command.click.inProgress",defaultMessage:"Clicking…",description:"Browsing command to click on a link is in progress"},openFileInProgress:{id:"browsingMessage.command.openFile.inProgress",defaultMessage:"Opening a file...",description:"Browsing command to click into a file is in progress"},clickFinished:{id:"browsingMessage.command.click.finished",defaultMessage:"Clicked on a link",description:"Browsing command to click on a link finished"},openFileFinished:{id:"browsingMessage.command.openFile.finished",defaultMessage:"Opened a file",description:"Browsing command to click into a file finished"},clickFinishedWithLink:{id:"browsingMessage.command.click.finishedWithLink",defaultMessage:"Clicked on:",description:"Browsing command to click on a link finished. The link that was clicked will be displayed after the :"},openFileFinishedWithLink:{id:"browsingMessage.command.openFile.finishedWithLink",defaultMessage:"Opened:",description:"Browsing command to click into a file finished. The file that was opened will be displayed after the :"},clickError:{id:"browsingMessage.command.click.error",defaultMessage:"Click failed",description:"Browsing command to click on a link failed"},openFileError:{id:"browsingMessage.command.openFile.error",defaultMessage:"Opening file failed",description:"Browsing command to click on a link failed"},quote:{id:"browsingMessage.command.quote",defaultMessage:"Reading content",description:"Browsing command to read a specific quote from a page"},quoteWithTitle:{id:"browsingMessage.command.quoteWithTitle",defaultMessage:"Reading “{pageTitle}”",description:"Browsing command to read a specific quote from a page (with the page title included)"},quoteError:{id:"browsingMessage.command.quote.error",defaultMessage:"Reading content failed",description:"Browsing command to read a specific quote from a page failed"},error:{id:"browsingMessage.command.error",defaultMessage:"Trying something new",description:"Browsing command when there was an error"},back:{id:"browsingMessage.command.back",defaultMessage:"Going back",description:"Browsing command to go back to the last page"},backError:{id:"browsingMessage.command.back.error",defaultMessage:"Going back failed",description:"Browsing command to go back to the last page failed"},scroll:{id:"browsingMessage.command.scroll",defaultMessage:"Scrolling page",description:"Browsing command to scroll down on a page"},scrollError:{id:"browsingMessage.command.scroll.error",defaultMessage:"Scroll failed",description:"Browsing command to scroll down on a page failed"},showSteps:{id:"browsingMessage.showSteps",defaultMessage:"Show work",description:"Button label for showing the steps of a browsing session"},hideSteps:{id:"browsingMessage.hideSteps",defaultMessage:"Hide work",description:"Button label for hiding the steps of a browsing session"}}),nX=w.memo(function(e){var t=e.messages,n=e.isComplete,a=e.isRetrieval,i=an(t.map(function(e){return e.message})),s=[(0,k.jsx)(n6,{isRetrieval:a},"starting")].concat((0,nE._)(i.map(function(e,t){return(0,k.jsx)(nY,{command:e,citationMetadata:ai(i,t),isRetrieval:a},t)}))),r=null;return n?(s.push((0,k.jsx)(n4,{isRetrieval:a},"finished")),r=(0,k.jsx)(n4,{isRetrieval:a,isPreview:!0})):r=0===i.length?(0,k.jsx)(n6,{isRetrieval:a,isPreview:!0}):(0,k.jsx)(nY,{command:i[i.length-1],citationMetadata:ai(i,i.length-1),isRetrieval:a,isPreview:!0}),a?(0,k.jsx)(tM,{isComplete:n,results:(0,k.jsx)(tT,{className:"text-xs",children:s}),children:r}):(0,k.jsx)(nW,{isComplete:n,children:r})});function nY(e){var t=e.command,n=e.citationMetadata,a=e.isRetrieval,i=e.isPreview;if(t.didError)return(0,k.jsx)(n5,{isRetrieval:a,commandType:t.type,citationMetadata:n});switch(t.type){case"search":var s,r,o,l,d="browser_one_box"===t.message.author.name?null===(s=t.message.metadata)||void 0===s?void 0:null===(r=s._cite_metadata)||void 0===r?void 0:r.original_query:null===(o=t.message.metadata)||void 0===o?void 0:null===(l=o.args)||void 0===l?void 0:l[0];if(null==d)return null;return(0,k.jsx)(nK,{searchQuery:d,isComplete:t.status===P.L5.Finished,isRetrieval:a,isPreview:i});case"click":case"open_url":return(0,k.jsx)(n0,{isRetrieval:a,citationMetadata:n,isPreview:i});case"quote":case"quote_full":case"quote_lines":return(0,k.jsx)(n9,{isRetrieval:a,isPreview:i,citationMetadata:n});case"back":return(0,k.jsx)(n1,{isRetrieval:a,isPreview:i,citationMetadata:n});case"scroll":return(0,k.jsx)(n2,{isRetrieval:a,isPreview:i,citationMetadata:n});default:return null}}function nK(e){var t=e.searchQuery,n=e.isComplete,a=e.isRetrieval,i=e.isPreview,s=ta.ZP.getBingLink({query:t});if(!a)return(0,k.jsxs)(n8,{isRetrieval:a,icon:eL.ol,isPreview:i,iconBase:(0,k.jsx)(eL.jE,{className:"absolute -left-1 -top-1 h-[21px] w-[21px]"}),link:s,children:["“",t,"”"]});var r=n$.searchInProgressFiles,o=n$.searchFinishedFiles;return(0,k.jsx)(at,{icon:eL.ol,isPreview:i,children:n?(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},o),{values:{bold:function(e){return(0,k.jsx)("span",{className:"font-medium",children:e})},searchQuery:t}})):(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},r),{values:{bold:function(e){return(0,k.jsx)("span",{className:"font-medium",children:e})},searchQuery:t}}))})}function n0(e){var t=e.isRetrieval,n=e.citationMetadata,a=e.isPreview,i=t?n$.openFileInProgress:n$.clickInProgress;if(!t){var s=n?(0,k.jsx)(n7,{citationMetadata:n,size:18}):null,r=function(e){if(null!=e){var t=as(e);try{return new URL(t).hostname}catch(e){return}}}(n);return null!=r&&(i=n$.clickInProgressForUrl),(0,k.jsx)(n8,{isRetrieval:t,icon:eL.G$,iconBase:s,isPreview:a,link:n?as(n):void 0,children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},i),{values:{url:r}}))})}var o=t?n$.openFileFinished:n$.clickFinished,l=t?n$.openFileFinishedWithLink:n$.clickFinishedWithLink;return(0,k.jsx)(at,{icon:j.NOg,isPreview:a,children:n?!0===a?(0,k.jsx)(ep.Z,(0,h._)({},o)):(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(ep.Z,(0,h._)({},l)),(0,k.jsx)("div",{className:"rounded border border-black/10 bg-white px-2 py-1",children:(0,k.jsx)(tW,{citationMetadata:n,onClick:function(){if(void 0===n.type||"webpage"===n.type){var e,t;nF.m9.logEvent("chatgpt_browsing_click_link",n.url,{domain:null!==(e=t5.get(new URL(n.url).hostname))&&void 0!==e?e:""}),T.A.logEvent(I.M.browsingClickLink,{url:n.url,domain:null!==(t=t5.get(new URL(n.url).hostname))&&void 0!==t?t:""})}}})})]}):(0,k.jsx)(ep.Z,(0,h._)({},i))})}function n9(e){var t=e.isPreview,n=e.citationMetadata,a=e.isRetrieval,i=n?(0,k.jsx)(n7,{citationMetadata:n}):void 0,s=n$.quote,r=(null==n?void 0:n.type)==="webpage"?n.title:void 0;return null!=r&&(s=n$.quoteWithTitle),(0,k.jsx)(n8,{iconBase:i,icon:a?j.SnF:void 0,isPreview:t,isRetrieval:a,children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},s),{values:{pageTitle:r}}))})}function n1(e){var t=e.isPreview,n=e.citationMetadata,a=e.isRetrieval,i=n?(0,k.jsx)(n7,{citationMetadata:n,size:18}):null;return(0,k.jsx)(n8,{isRetrieval:a,icon:a?j.cww:nD.LVY,isPreview:t,iconBase:i,children:(0,k.jsx)(ep.Z,(0,h._)({},n$.back))})}function n2(e){var t=e.isPreview,n=e.citationMetadata,a=e.isRetrieval,i=n?(0,k.jsx)(n7,{citationMetadata:n,size:18}):null;return(0,k.jsx)(n8,{icon:a?j.nlg:eL.NV,isPreview:t,iconBase:i,isRetrieval:a,children:(0,k.jsx)(ep.Z,(0,h._)({},n$.scroll))})}function n5(e){var t,n=e.commandType,a=e.isPreview,i=e.citationMetadata,s=e.isRetrieval;if(!s)return(0,k.jsx)(n3,{isPreview:a,citationMetadata:i,isRetrieval:s});switch(n){case"search":t=n$.searchError;break;case"click":case"open_url":t=n$.clickError;break;case"quote":case"quote_full":case"quote_lines":t=n$.quoteError;break;case"back":t=n$.backError;break;case"scroll":t=n$.scrollError;break;default:return null}return(0,k.jsx)(at,{icon:j.bcx,isPreview:a,children:(0,k.jsx)(ep.Z,(0,h._)({},t))})}function n3(e){var t=e.isPreview,n=e.citationMetadata,a=e.isRetrieval,i=n?(0,k.jsx)(n7,{citationMetadata:n,size:18}):null;return(0,k.jsx)(n8,{icon:nD.LVY,isPreview:t,iconBase:i,isRetrieval:a,children:(0,k.jsx)(ep.Z,(0,h._)({},n$.error))})}function n6(e){var t=e.isRetrieval,n=e.isPreview,a=t?n$.startingFileSearch:n$.startingBrowsing;return(0,k.jsx)(n8,{isPreview:n,iconBase:(0,k.jsx)(eL.Wp,{className:"icon-2xl text-brand-purple"}),isRetrieval:t,children:(0,k.jsx)(ep.Z,(0,h._)({},a))})}function n4(e){var t=e.isRetrieval,n=e.isPreview;return(0,k.jsx)(n8,{iconBase:(0,k.jsx)(eL.aS,{className:"icon-2xl"}),icon:t?j._rq:void 0,isPreview:n,isComplete:!0,isRetrieval:t,children:t?(0,k.jsx)(ep.Z,(0,h._)({},n$.finishedFileSearch)):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"hidden group-hover/tool-expander-closed:block",children:(0,k.jsx)(ep.Z,(0,h._)({},n$.showSteps))}),(0,k.jsx)("div",{className:"hidden group-hover/tool-expander-open:block",children:(0,k.jsx)(ep.Z,(0,h._)({},n$.hideSteps))})]})})}var n7=function(e){var t=e.citationMetadata,n=e.size,a=void 0===n?24:n;return(0,k.jsx)("div",{className:"overflow-hidden rounded-sm bg-[rgba(30,203,239,0.07)]",style:{width:a,height:a},children:(0,k.jsx)(tZ,{url:as(t),size:a})})};function n8(e){var t=e.isRetrieval,n=(0,eD._)(e,["isRetrieval"]);return t?(0,k.jsx)(at,(0,h._)({},n)):(0,k.jsx)(ae,(0,h._)({},n))}function ae(e){var t=e.children,n=e.icon,a=e.isPreview,i=e.iconBase,s=e.link,r=e.isComplete,o=null!=n?null!=i?(0,k.jsxs)("div",{className:"relative h-full w-full text-gray-600 dark:text-gray-200",children:[(0,k.jsx)("div",{className:"absolute left-1 top-1",children:i}),(0,k.jsx)(n,{className:"absolute bottom-1 right-1 h-4 w-4 stroke-white",strokeWidth:.5})]}):(0,k.jsx)(n,{className:"h-4 w-4 stroke-white text-gray-600 dark:text-gray-200",strokeWidth:.5}):(0,k.jsx)("div",{className:"flex h-full w-full items-center justify-center text-gray-600 dark:text-gray-200",children:i}),l=(0,k.jsx)(nG,{icon:o,title:r?(0,k.jsx)(ep.Z,(0,h._)({},n$.searchFinishedTitle)):a?(0,k.jsx)(ep.Z,(0,h._)({},n$.searchInProgressTitle)):null,subtitle:t});return a||null==s||(l=(0,k.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",className:"block hover:bg-gray-50 dark:hover:bg-gray-800",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("div",{className:"min-w-0",children:l}),(0,k.jsx)("div",{className:"mr-3 text-gray-600/50",children:(0,k.jsx)(j.AlO,{className:"icon-sm"})})]})})),(0,k.jsx)("div",{className:"border-b-[0.5px] border-black/10 border-opacity-75 last:border-b-0",children:l})}function at(e){var t=e.children,n=e.icon,a=e.isPreview;return(0,k.jsxs)("div",{className:(0,b.default)("flex items-center gap-2",!0!==a&&"min-h-[24px]"),children:[null!=n&&(0,k.jsx)(n,{className:"icon-sm shrink-0"}),(0,k.jsx)("div",{children:t})]})}function an(e){return e.map(function(t,n){if(t.author.role!==P.uU.Tool||n>0&&aa(t)&&aa(e[n-1]))return null;if("browser_one_box"===t.author.name)return{type:"search",didError:"system_error"===t.content.content_type,message:t};var a=t.metadata;if(!a)return null;var i=a.command,s=a.status;return i?{type:i,status:s,didError:"system_error"===t.content.content_type,message:t}:null}).filter(Boolean)}function aa(e){var t,n,a;return(null===(t=e.metadata)||void 0===t?void 0:t.command)==="quote"||(null===(n=e.metadata)||void 0===n?void 0:n.command)==="quote_full"||(null===(a=e.metadata)||void 0===a?void 0:a.command)==="quote_lines"}function ai(e,t){for(var n=t;n>=0;n--){var a,i,s=null===(a=e[n].message.metadata)||void 0===a?void 0:null===(i=a._cite_metadata)||void 0===i?void 0:i.metadata_list[0];if(null!=s)return s}}function as(e){return(null==e?void 0:e.type)!=="file"?e.url:""}function ar(e){var t,n,a=e.messages,i=e.isLastMessageInTurn,s=e.isRequestActive,r=e.isRetrieval,o=a.map(function(e){return e.message}),l=an(o),d=l.filter(function(e){return function(e,t){switch(e.type){case P.$x.Search:return!0;case P.$x.Click:case P.$x.OpenUrl:case P.$x.Quote:case P.$x.QuoteFull:case P.$x.QuoteLines:return t?null!=al(e):null!=ao(e);case P.$x.Back:case P.$x.Scroll:return!1;default:return(0,eN.Z)(e.type),!1}}(e,r)}),u=ek.X.Running,c=r?ad.startingRetrieval:ad.starting;return o.some(ew.We)?(u=ek.X.Stopped,c=ad.browsingStopped):i&&s?d.length>0&&(c=(n=function(e,t){switch(e.type){case P.$x.Search:if(t)return{displayMessage:ad.startingRetrieval};var n,a,i=null===(n=e.message.metadata)||void 0===n?void 0:null===(a=n.args)||void 0===a?void 0:a[0];if(null!=i)return{displayMessage:ad.searchingForQuery,displayMessageValues:{query:i}};return{displayMessage:ad.searching};case P.$x.Click:case P.$x.OpenUrl:case P.$x.Quote:case P.$x.QuoteFull:case P.$x.QuoteLines:if(t)return{displayMessage:ad.readingDocument,displayMessageValues:{filename:al(e)}};var s=ao(e);return{displayMessage:ad.visiting,displayMessageValues:{url:null!=s?function(e){try{return new URL(e).hostname}catch(e){return null}}(s):null}};case P.$x.Back:case P.$x.Scroll:throw Error("No display string for command: ".concat(e.type));default:throw(0,eN.Z)(e.type),Error("Unknown command type: ".concat(e.type))}}(d[d.length-1],r)).displayMessage,t=n.displayMessageValues):l.every(function(e){return e.didError})?(u=ek.X.Error,c=r?ad.retrievalFailed:ad.browsingFailed):(u=ek.X.Finished,c=void 0),(0,k.jsx)(ek.Z,{conversationMessages:a,icon:r?eb.BK:eb.ED,status:u,displayMessage:c,displayMessageValues:t,estimatedToolDurationMs:r?ey.cf:ey.Tv})}function ao(e){var t,n,a=null===(t=e.message.metadata)||void 0===t?void 0:null===(n=t._cite_metadata)||void 0===n?void 0:n.metadata_list[0];return null!=a&&"file"!==a.type?a.url:null}function al(e){var t,n,a=null===(t=e.message.metadata)||void 0===t?void 0:null===(n=t._cite_metadata)||void 0===n?void 0:n.metadata_list[0];return null!=a&&"file"===a.type?a.name:null}var ad=(0,S.vU)({starting:{id:"browsingMessage.startingV2",defaultMessage:"Browsing with Bing",description:"Status message when browsing is starting"},browsingStopped:{id:"browsingMessage.browsingStopped",defaultMessage:"Stopped browsing",description:"Status message when browsing was stopped"},browsingFailed:{id:"browsingMessage.browsingFailed",defaultMessage:"Error browsing",description:"Status message when browsing failed"},searching:{id:"browsingMessage.searching",defaultMessage:"Searching Bing",description:"Status message when searching Bing"},searchingForQuery:{id:"browsingMessage.searchingForQuery",defaultMessage:"Searching “{query}”",description:"Status message when searching for a query"},visiting:{id:"browsingMessage.visiting",defaultMessage:"Visiting {url}",description:"Status message when visiting a webpage"},startingRetrieval:{id:"browsingMessage.startingRetrieval",defaultMessage:"Reading documents",description:"Status message when document retrieval is starting"},retrievalStopped:{id:"browsingMessage.retrievalStopped",defaultMessage:"Stopped reading documents",description:"Status message when document retrieval was stopped"},retrievalFailed:{id:"browsingMessage.retrievalFailed",defaultMessage:"Error reading documents",description:"Status message when document retrieval failed"},readingDocument:{id:"browsingMessage.readingDocument",defaultMessage:"Reading {filename}",description:"Status message when reading a document"}});function au(e){var t,n=e.messages,a=e.isRequestActive,i=(0,v._)(n,2),s=i[0],r=i[1],o=(0,ew.We)(s.message),l=null===(t=null==r?void 0:r.message.metadata)||void 0===t?void 0:t.aggregate_result,d=ek.X.Running,u=ac.running;return(null==l?void 0:l.status)==="success"?(d=ek.X.Finished,u=void 0):null!=r&&r.message.content.content_type!==P.PX.ExecutionOutput||null!=l&&"running"!==l.status?(d=ek.X.Error,u=ac.error):(o||!a)&&(d=ek.X.Stopped,u=ac.stopped),(0,k.jsx)(ek.Z,{conversationMessages:n,icon:eb.BU,status:d,displayMessage:u,estimatedToolDurationMs:ey.yF})}var ac=(0,S.vU)({running:{id:"codeInterpreterMessage.running",defaultMessage:"Analyzing",description:"Status message when code interpreter is running"},stopped:{id:"codeInterpreterMessage.stopped",defaultMessage:"Stopped analyzing",description:"Status message when code interpreter was stopped by the user"},error:{id:"codeInterpreterMessage.error",defaultMessage:"Error analyzing",description:"Status message when code interpreter ran into an error"}}),am=n(56115),ax=n(71950),af=n(11615),ag=n(70737);(i=c||(c={}))[i.Left=-1]="Left",i[i.Right=1]="Right",i[i.None=0]="None";var ah={enter:function(e){return{zIndex:0,x:e===c.Left?"10%":"-10%",opacity:0}},center:{zIndex:1,x:0,opacity:1},exit:function(e){return{zIndex:0,x:e===c.Right?"10%":"-10%",opacity:0}}},ap={enter:{opacity:0,y:"10%"},visible:{opacity:1,y:0},exit:{opacity:0,y:"10%"}},av=function(e,t){return Math.abs(e)*t};function ay(e){var t,n=function(){p(function(t){var n=(e.images.findIndex(function(e){return e.url===t.url})+1)%e.images.length;return e.images[n]}),P(c.Left)},a=function(){p(function(t){var n=e.images.findIndex(function(e){return e.url===t.url}),a=n>0?(n-1)%e.images.length:e.images.length-1;return e.images[a]}),P(c.Right)},i=function(e){"ArrowLeft"===e.key?a():"ArrowRight"===e.key&&n()},s=(0,N.Z)(),r=(0,L.dQ)(),o=[L._G.Small,L._G.Mobile].includes(r),l=(0,v._)((0,w.useState)({width:0,height:0}),2),d=l[0],u=l[1],m=(0,v._)((0,w.useState)(!1),2),x=m[0],f=m[1],g=(0,v._)((0,w.useState)(e.image),2),h=g[0],p=g[1],y=(0,v._)((0,w.useState)(!1),2),j=y[0],M=y[1],_=d.width>0&&d.height>0,T=(0,w.useRef)(null),I=(0,v._)((0,w.useState)(c.None),2),S=I[0],P=I[1];(0,w.useEffect)(function(){if(!h.url)throw Error("ExpandableImage requires a src");var e=new Image;e.onload=function(){u({width:e.naturalWidth,height:e.naturalHeight})},e.onerror=function(){af.D0&&console.error("Could not load image ".concat(h.url))},e.src=h.url},[h.url]),(0,w.useEffect)(function(){var t=T.current;if(j)return null==t||t.addEventListener("keydown",i),function(){null==t||t.removeEventListener("keydown",i)};p(e.image)},[j]);var R=e.images.findIndex(function(e){return e.url===h.url});return(0,k.jsxs)(ax.fC,{onOpenChange:function(t){var n;M(t),t&&(null===(n=e.onOpen)||void 0===n||n.call(e))},children:[(0,k.jsx)(ax.xz,{disabled:!_,className:e.className,"aria-label":s.formatMessage(ak.showImage),children:e.children}),(0,k.jsx)(ax.h_,{children:(0,k.jsx)(ax.aV,{className:"fixed inset-0 flex items-center justify-center bg-black/90 backdrop-blur-xl radix-state-open:animate-show",children:(0,k.jsxs)(ax.VY,{className:(0,b.default)("relative flex h-[100dvh] w-screen justify-stretch divide-x divide-white/10 focus:outline-none radix-state-open:animate-contentShow"),ref:T,children:[(0,k.jsx)("div",{className:(0,b.default)("flex flex-1 transition-[flex-basis]",!x&&"md:basis-[75vw]"),children:(0,k.jsxs)("div",{className:"flex flex-1 flex-col md:p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between px-6 py-2 pt-6 text-white sm:mb-4 md:mt-2 md:px-0 md:py-2",children:[(0,k.jsx)(ax.x8,{asChild:!0,children:(0,k.jsx)("button",{"aria-label":s.formatMessage(ak.closeModal),children:(0,k.jsx)(C.v7,{})})}),(0,k.jsx)("div",{children:!o&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(ee.z,{color:"none",size:"small",onClick:function(){return e.onDownload(h)},"aria-label":s.formatMessage(ak.downloadImage),children:(0,k.jsx)(C.Sg,{})}),(0,k.jsx)(ee.z,{color:"none",size:"small",onClick:function(){return f(function(e){return!e})},"aria-label":s.formatMessage(ak.toggleSidebar),className:"md:inline-flex",children:(0,k.jsx)(C.VX,{})})]})})]}),(0,k.jsx)("div",{className:"relative flex flex-1 flex-col items-center justify-center overflow-hidden",children:(0,k.jsx)(ag.M,{initial:!1,custom:S,children:(0,k.jsxs)(no.E.div,{className:"absolute grid h-full w-full grid-rows-2",custom:S,variants:ah,drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:function(e,t){var i=t.offset,s=t.velocity,r=av(i.x,s.x);r<-1e3?n():r>1e3&&a()},children:[(0,k.jsx)(no.E.img,{src:h.url,alt:h.alt,className:"row-span-4 mx-auto h-full object-scale-down",onPanEnd:function(e,t){var n=t.offset,a=t.velocity,i=av(n.y,a.y);i<-1e3?f(!0):i>1e3&&f(!1)}},h.url),o&&x&&(0,k.jsx)(no.E.div,{className:"flex text-white",variants:ap,initial:"enter",animate:"visible",exit:"exit",transition:{y:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},children:e.metadataRenderer(h)})]},h.url)})}),e.images.length>1?(0,k.jsxs)("div",{className:"flex items-center justify-center gap-4 p-8 text-white",children:[(0,k.jsx)(ee.z,{color:"none",size:"small",onClick:a,"aria-label":s.formatMessage(ak.previousImage),children:(0,k.jsx)(C.FX,{})}),e.images.map(function(e,n){return(0,k.jsx)("img",{src:e.url,alt:null!==(t=e.alt)&&void 0!==t?t:"",className:(0,b.default)("h-12 w-12 cursor-pointer rounded object-cover transition duration-300 hover:opacity-100",e.url===h.url?"ring-2 ring-white ring-offset-4 ring-offset-black":"opacity-25"),onClick:function(){p(e),P(n<R?c.Right:c.Left)},"aria-label":s.formatMessage(ak.showImage),role:"button"},e.url)}),(0,k.jsx)(ee.z,{color:"none",size:"small",onClick:n,"aria-label":s.formatMessage(ak.nextImage),children:(0,k.jsx)(C.Gb,{})})]}):null]})}),(0,k.jsx)("div",{className:(0,b.default)("hidden items-center justify-start overflow-hidden bg-gray-900 text-white transition-[flex-basis] duration-500 md:flex",x?"md:basis-[25vw]":"md:basis-0"),children:(0,k.jsx)("div",{className:"w-[25vw] min-w-[25vw]",children:e.metadataRenderer(h)})})]})})})]})}var ak=(0,S.vU)({showImage:{id:"imageViewer.showImage",defaultMessage:"Show Image",description:"Button to show the image in a modal"},closeModal:{id:"imageViewer.closeModal",defaultMessage:"Close Modal",description:"Button to close the modal"},downloadImage:{id:"imageViewer.downloadImage",defaultMessage:"Download Image",description:"Button to download the image"},toggleSidebar:{id:"imageViewer.toggleSidebar",defaultMessage:"Toggle Sidebar",description:"Button to toggle the sidebar"},nextImage:{id:"imageViewer.nextImage",defaultMessage:"Next Image",description:"Button to go to the next image"},previousImage:{id:"imageViewer.previousImage",defaultMessage:"Previous Image",description:"Button to go to the previous image"}});function ab(){var e=(0,y._)(["grid gap-2\n",""]);return ab=function(){return e},e}function aw(e){var t,n=e.messages,a=(0,v._)(n,2),i=a[0],s=a[1],r=(0,ew.We)(i.message),o=(0,ew.F4)(),l=(0,np.t9)(),d=n.some(function(e){return l.has(e.message.id)}),u=null;null!=s&&"multimodal_text"===s.message.content.content_type&&(u=s.message.content.parts.filter(function(e){return"object"==typeof e&&"asset_pointer"in e}));var c=ek.X.Running,m=aN.creatingImages;return null!=u?(c=ek.X.Finished,m=o?void 0:aN.finishedCreating,t={numImages:u.length}):null!=s?(c=ek.X.Error,m=aN.errorCreating):r&&(c=ek.X.Stopped,m=aN.stopped),(0,k.jsxs)(k.Fragment,{children:[o?(0,k.jsx)(ek.Z,{conversationMessages:n,icon:eb.CJ,status:c,displayMessage:m,estimatedToolDurationMs:ey.X_,animationLoopDurationMs:4e3}):(0,k.jsx)(nW,{isComplete:null!=s||r,children:(0,k.jsx)(nG,{icon:(0,k.jsx)(eL.ql,{className:"h-[34px] w-[34px]"}),title:"DALL\xb7E 3",subtitle:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},m),{values:t}))})}),null!=u&&u.length>0&&!d&&(0,k.jsx)(aj,{imageAssets:u})]})}function aj(e){var t,n,a,i=e.imageAssets,s=function(){nF.m9.logEvent("chatgpt_dalle_image_view_full"),T.A.logEvent(I.M.dalledImageViewFull)},r=(0,N.Z)(),o=(0,v._)((0,w.useState)(!1),2),l=o[0],d=o[1];(0,w.useEffect)(function(){d(!0)},[]);var u=(0,nv.H)(i);function c(e){return x.apply(this,arguments)}function x(){return(x=(0,$._)(function(e){var t,n,a,i;return(0,K.Jh)(this,function(s){switch(s.label){case 0:var r,o,l;return r=null!==(a=null===(t=e.metadata)||void 0===t?void 0:null===(n=t.dalle)||void 0===n?void 0:n.prompt)&&void 0!==a?a:"",o=(0,am.Z)(new Date,"yyyy-MM-dd HH.mm.ss"),(l=r.slice(0,150)).endsWith(".")&&(l=l.slice(0,-1)),i="DALL\xb7E ".concat(o," - ").concat(l,".png"),[4,function(e,t){return aI.apply(this,arguments)}(e.url,i)];case 1:return s.sent(),nF.m9.logEvent("chatgpt_dalle_image_download"),T.A.logEvent(I.M.dalledImageDownload),[2]}})})).apply(this,arguments)}var f=(n=(t=i[0]).width)>(a=t.height)?m.WIDE:n<a?m.TALL:m.SQUARE;return(0,k.jsx)(aT,{$numItems:u.length,className:(0,b.default)("transition-opacity duration-300",l?"opacity-100":"opacity-0"),children:u.map(function(e,t){var n,a,i,o=e.isLoading,l=e.data,d=e.error;if(o)return(0,k.jsx)(aC,{shape:f,bgClassName:"animate-pulse",bgStyle:{animationDelay:"".concat(200*t,"ms")}},t);if(null!=d||(null==l?void 0:l.url)==null)return(0,k.jsx)(aC,{className:"text-sm text-gray-500",shape:f,children:(0,k.jsxs)("div",{className:"flex min-h-full flex-col items-center justify-center gap-3 px-4 pb-5",children:[(0,k.jsx)(j.bcx,{className:"icon-sm self-center text-gray-400"}),r.formatMessage(aN.imageLoadError)]})},t);var m=(0,p._)((0,h._)({},l),{alt:null!==(i=null==l?void 0:null===(n=l.metadata)||void 0===n?void 0:null===(a=n.dalle)||void 0===a?void 0:a.prompt)&&void 0!==i?i:""});return(0,k.jsx)("div",{className:"flex",children:(0,k.jsx)(ay,{image:m,images:u.filter(function(e){return null!=e.data}).map(function(e){var t,n,a,i=e.data;return(0,p._)((0,h._)({},i),{alt:null!==(a=null===(t=i.metadata)||void 0===t?void 0:null===(n=t.dalle)||void 0===n?void 0:n.prompt)&&void 0!==a?a:""})}),metadataRenderer:function(e){return(0,k.jsx)(aM,{image:e})},onDownload:c,onOpen:s,children:(0,k.jsx)(a_,{image:m,shape:f,onDownload:function(){return c(m)},bgClassName:"animate-pulse",bgStyle:{animationDelay:"".concat(200*t,"ms")}})})},t)})})}function aM(e){var t,n,a=e.image,i=(0,N.Z)(),s=(0,v._)((0,w.useState)(!1),2),r=s[0],o=s[1];return(0,k.jsxs)("div",{className:"flex flex-col items-start gap-3 p-6",children:[(0,k.jsx)("div",{className:"text-sm text-gray-300 sm:text-base",children:i.formatMessage(aN.imageViewerMetadataTitle)}),(0,k.jsx)("div",{className:"max-h-32 overflow-y-auto text-sm md:max-h-[80vh] md:text-lg",children:null===(t=a.metadata)||void 0===t?void 0:null===(n=t.dalle)||void 0===n?void 0:n.prompt}),(0,k.jsxs)(ee.z,{color:"dark",onClick:function(){var e,t,n,i=null!==(n=null===(e=a.metadata)||void 0===e?void 0:null===(t=e.dalle)||void 0===t?void 0:t.prompt)&&void 0!==n?n:"";try{navigator.clipboard.writeText(i),o(!0),setTimeout(function(){o(!1)},2e3)}catch(e){console.error("Error copying to clipboard",e)}},disabled:r,className:"hidden sm:block",children:[(0,k.jsx)(j.C3L,{className:"h-5 w-5"}),r?i.formatMessage(aN.imageViewerMetadataCopyButtonCopied):i.formatMessage(aN.imageViewerMetadataCopyButton)]})]})}function aC(e){var t=e.children,n=e.shape,a=e.className,i=e.bgClassName,s=e.bgStyle;return(0,k.jsxs)("div",{className:(0,b.default)("relative overflow-hidden",a,n===m.WIDE&&"aspect-[7/4]",n===m.SQUARE&&"aspect-square max-w-[400px]",n===m.TALL&&"aspect-[4/7] max-w-xs"),children:[(0,k.jsx)("div",{className:(0,b.default)("pointer-events-none absolute inset-0 bg-gray-100",i),style:s}),(0,k.jsx)("div",{className:"relative h-full",children:t})]})}function a_(e){var t=e.image,n=e.shape,a=e.onDownload,i=e.bgClassName,s=e.bgStyle,r=(0,N.Z)(),o=t.url,l=t.width,d=t.height;function u(){return(u=(0,$._)(function(e){return(0,K.Jh)(this,function(t){return e.stopPropagation(),a(),[2]})})).apply(this,arguments)}return(0,k.jsxs)(aC,{shape:n,className:"group/dalle-image",bgClassName:i,bgStyle:s,children:[(0,k.jsx)(nv.sH,{alt:r.formatMessage(aN.generatedImageAltText),src:o,width:l,height:d}),(0,k.jsx)("div",{className:"pointer-events-none absolute inset-0 shadow-[inset_0_0_0_1px_rgba(0,0,0,0.1)] dark:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.1)]"}),(0,k.jsx)("div",{className:"invisible absolute left-1 top-1 group-hover/dalle-image:visible",children:(0,k.jsx)("button",{className:"flex h-6 w-6 items-center justify-center rounded bg-black/50",onClick:function(e){return u.apply(this,arguments)},children:(0,k.jsx)(C.Sg,{className:"icon-sm text-white"})})})]})}(s=m||(m={})).WIDE="1792x1024",s.SQUARE="1024x1024",s.TALL="1024x1792";var aT=M.Z.div(ab(),function(e){return 1===e.$numItems?"grid-cols-1":"grid-cols-2"});function aI(){return(aI=(0,$._)(function(e,t){var n,a,i,s;return(0,K.Jh)(this,function(r){switch(r.label){case 0:(n=new Image).crossOrigin="anonymous",n.src=e,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,new Promise(function(e,t){n.onload=function(){e(null)},n.onerror=t})];case 2:return r.sent(),[3,4];case 3:return console.error("Error downloading image",r.sent()),[2];case 4:if((a=document.createElement("canvas")).width=n.naturalWidth,a.height=n.naturalHeight,null==(i=a.getContext("2d")))return[2];return i.drawImage(n,0,0),(s=document.createElement("a")).href=a.toDataURL("image/png"),s.download=t,s.click(),a.remove(),n.remove(),s.remove(),[2]}})})).apply(this,arguments)}var aN=(0,S.vU)({creatingImages:{id:"dalleMessage.creatingImages",defaultMessage:"Creating images",description:"Status message when DALL\xb7E is creating images"},stopped:{id:"dalleMessage.stoppedV2",defaultMessage:"Stopped creating images",description:"Status message when DALL\xb7E was stopped by the user"},errorCreating:{id:"dalleMessage.errorCreating",defaultMessage:"Error creating images",description:"Status message when DALL\xb7E failed to create images"},finishedCreating:{id:"dalleMessage.finishedCreating",defaultMessage:"Created {numImages, plural, =0 {images} one {image} other {# images}}",description:"Status message when DALL\xb7E finished creating images"},generatedImageAltText:{id:"dalleMessage.generatedImageAltText",defaultMessage:"Generated by DALL\xb7E",description:"Alt text for images generated by DALL\xb7E"},imageLoadError:{id:"dalleMessage.imageLoadError",defaultMessage:"Error loading image",description:"Error message when an image fails to load"},imageViewerMetadataTitle:{id:"dalleMessage.imageViewerMetadataTitle",defaultMessage:"Prompt",description:"Title for the prompt metadata in the image viewer"},imageViewerMetadataCopyButton:{id:"dalleMessage.imageViewerMetadataCopyButton",defaultMessage:"Copy",description:"Copy button for the prompt metadata in the image viewer"},imageViewerMetadataCopyButtonCopied:{id:"dalleMessage.imageViewerMetadataCopyButtonCopied",defaultMessage:"Copied!",description:"Copy button for the prompt metadata in the image viewer when the prompt is copied"}}),aS=n(20485);function aP(e){return e.status===P.RF.Done||e.status===P.RF.Timeout||e.status===P.RF.Error||e.status===P.RF.Cancelled}function aR(e){var t,n,a,i,s,r,o,l,d,u,c,m,f,g=e.messages,y=(0,ew.F4)(),b=(0,v._)(g,2),w=(t=b[0],d=null!==(o=null===(a=null==(n=b[1])?void 0:n.message.metadata)||void 0===a?void 0:null===(i=a.parallel_browse)||void 0===i?void 0:i.frontend_info.sub_agent_infos)&&void 0!==o?o:null===(s=t.message.metadata)||void 0===s?void 0:null===(r=s.parallel_browse)||void 0===r?void 0:r.frontend_info.sub_agent_infos,u=0,c=0,null!=d&&(u=(l=Object.values(Object.values(d).reduce(function(e,t){var n=t.task_index;return null==e[n]&&(e[n]=[]),e[n].push(t),e},{})).map(function(e){return(0,p._)((0,h._)({},e[0]),{status:function(e){var t=e.map(function(e){return e.status}),n=[P.RF.Starting,P.RF.Running,P.RF.Done,P.RF.Error,P.RF.Timeout,P.RF.Cancelled],a=!0,i=!1,s=void 0;try{for(var r,o=n[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var l=function(){var e=r.value;if(t.some(function(t){return t===e}))return{v:e}}();if("object"===(0,aS._)(l))return l.v}}catch(e){i=!0,s=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw s}}return P.RF.Starting}(e)})}).sort(function(e,t){return e.task_index-t.task_index})).length,c=l.filter(aP).length),m=x.Planning,(0,ew.We)(t.message)?m=x.Stopped:null!=n&&(m=c===u?x.Done:x.Running),{status:m,subAgentInfos:l,numTotalSubAgents:u,numCompletedSubAgents:c}),j=ek.X.Running,M=aE.creatingPlan;switch(w.status){case x.Running:w.numTotalSubAgents>0&&w.numCompletedSubAgents/w.numTotalSubAgents>=.75?M=aE.almostDone:(M=aE.running,f={numTasks:w.numTotalSubAgents});break;case x.Done:j=ek.X.Finished,M=y?void 0:aE.finished;break;case x.Stopped:j=ek.X.Stopped,M=aE.cancelled}var C=w.status===x.Done||w.status===x.Stopped;return y?(0,k.jsx)(ek.Z,{conversationMessages:g,icon:eb.Ts,status:j,displayMessage:M,displayMessageValues:f,estimatedToolDurationMs:ey.kA,animationLoopDurationMs:3500}):(0,k.jsx)(nW,{isComplete:C,children:(0,k.jsx)(nG,{icon:C?(0,k.jsx)(eL.aS,{className:"icon-2xl"}):(0,k.jsx)(eL.Wp,{className:"icon-2xl text-brand-purple"}),title:(0,k.jsx)(ep.Z,(0,h._)({},C?aE.finishedTitle:aE.inProgressTitle)),subtitle:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},M),{values:f}))})})}(r=x||(x={})).Planning="planning",r.Running="running",r.Done="done",r.Stopped="stopped",(0,S.vU)({planning:{id:"legacyParallelBrowsingMessage.planning",defaultMessage:"Creating a browsing plan...",description:"Status message when browsing is being planned"},running:{id:"legacyParallelBrowsingMessage.running",defaultMessage:"Executing browsing plan. Check back again in a few minutes. ({numCompleted}/{numTotal})",description:"Status message when browsing is in progress"},done:{id:"legacyParallelBrowsingMessage.done",defaultMessage:"Finished browsing",description:"Status message when browsing is finished"},stopped:{id:"legacyParallelBrowsingMessage.stopped",defaultMessage:"Stopped browsing",description:"Status message when browsing was stopped"},subAgentStarting:{id:"legacyParallelBrowsingMessage.subAgent.starting",defaultMessage:"Waiting to start",description:"Status when a browsing task is waiting to start"},subAgentRunning:{id:"legacyParallelBrowsingMessage.subAgent.running",defaultMessage:"In progress",description:"Status when a browsing task is in progress"},subAgentDone:{id:"legacyParallelBrowsingMessage.subAgent.done",defaultMessage:"Completed",description:"Status when a browsing task is complete"},subAgentFailed:{id:"legacyParallelBrowsingMessage.subAgent.failed",defaultMessage:"Could not complete",description:"Status when a browsing task failed to complete"}});var aE=(0,S.vU)({creatingPlan:{id:"parallelBrowsingMessage.creatingPlanV2",defaultMessage:"Making a research plan",description:"Status message when browsing is being planned"},running:{id:"parallelBrowsingMessage.running_2",defaultMessage:"Visiting {numTasks, plural, one {# site} other {# sites}}",description:"Status message when browsing is visiting sites"},almostDone:{id:"parallelBrowsingMessage.almostDone",defaultMessage:"Almost done",description:"Status message when browsing is almost done visiting sites"},finished:{id:"parallelBrowsingMessage.finishedV2",defaultMessage:"Research complete",description:"Status message when browsing is finished"},cancelled:{id:"parallelBrowsingMessage.cancelledV2",defaultMessage:"Stopped doing research",description:"Status message when browsing was cancelled"},inProgressTitle:{id:"parallelBrowsingMessage.inProgressTitleV3",defaultMessage:"Researching...",description:"Title when browsing is in progress"},finishedTitle:{id:"parallelBrowsingMessage.finishedTitleV2",defaultMessage:"Finished researching",description:"Title when browsing is finished"}}),aF=n(96251),aD=n(40803);function aL(){var e=(0,y._)(["grid gap-4\n",""]);return aL=function(){return e},e}var aA=(0,S.vU)({generatedImage:{id:"pluginDisplayParams.generatedImage",defaultMessage:"Generated by plugin",description:"Description text for an image that was generated by a plugin"}});function aZ(e){var t,n,a,i=e.plugin,s=e.pluginMessage,r=e.toolMessage;if(null!=i&&"plugin-bd1fbb6d-40f9-4159-8da9-7a8975c5793b"!==i.id)return null;var o=f.WIDE;if("text"===s.content.content_type)try{(null==(t=function(e){var t=!0,n=!1,a=void 0;try{for(var i,s=["","}",'"}',"]}",'"]}'][Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var r=i.value,o=e.trimEnd().endsWith(",")?e.trimEnd().slice(0,-1):e;try{return{result:JSON.parse(o+r),isComplete:""===r}}catch(e){}}}catch(e){n=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}return{result:JSON.parse(e),isComplete:!1}}(s.content.parts[0]).result)?void 0:t.image_shape)!=null&&(o=t.image_shape)}catch(e){}var l=!1;if(null!=r){if("text"===r.content.content_type){try{n=JSON.parse(r.content.parts[0])}catch(e){}if((null==n?void 0:n.images)!=null)return(0,k.jsx)(aq,{images:n.images,gridItemShape:o})}l=!0}return(null==t?void 0:t.prompts)!=null?(0,k.jsx)(aB,{numItems:null!==(a=null==t?void 0:t.n)&&void 0!==a?a:Math.max(t.prompts.length,1),prompts:t.prompts,gridItemShape:o,showErrorState:l||(0,ew.We)(s)}):null}function aB(e){for(var t=e.numItems,n=e.prompts,a=e.gridItemShape,i=e.showErrorState,s=[],r=0;r<t;r++){var o=n[r];s.push((0,k.jsx)(aU,{className:(0,b.default)("text-sm",i&&"text-gray-500"),shape:a,bgColor:i?"medium":null==o?"dark":"light",children:(0,k.jsx)(aD.default,{className:"hide-scrollbar h-full",followButtonClassName:"hidden",children:(0,k.jsx)("div",{className:"flex min-h-full flex-col items-center justify-center gap-3 px-4 pb-5",children:i?(0,k.jsx)(j.bcx,{className:"icon-sm self-center text-gray-400"}):(0,k.jsx)(tl.Z,{className:"h-4 w-4 self-center"})})})},r))}return(0,k.jsx)(aO,{$numItems:t,children:s})}function aq(e){var t=e.images,n=e.gridItemShape;return(0,k.jsx)(aO,{$numItems:t.length,children:t.map(function(e,t){return(0,k.jsx)(az,{imageUrl:e.url,shape:n},t)})})}function aU(e){var t=e.children,n=e.shape,a=e.className,i=e.bgColor,s=void 0===i?"light":i;return(0,k.jsxs)("div",{className:(0,b.default)("relative overflow-hidden rounded",a,n===f.WIDE&&"aspect-[7/4]",n===f.SQUARE&&"aspect-square max-w-[400px]",n===f.TALL&&"aspect-[4/7] max-w-xs"),children:[(0,k.jsx)("div",{className:(0,b.default)("pointer-events-none absolute inset-0 blur-xl","light"===s&&"bg-black/[.04]","medium"===s&&"bg-black/[.08]","dark"===s&&"bg-black/[.12]")}),t]})}function az(e){var t=e.imageUrl,n=e.shape,a=(0,N.Z)();return(0,k.jsx)(aU,{shape:n,children:(0,k.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:(0,k.jsx)("img",{src:t,alt:a.formatMessage(aA.generatedImage)})})})}(o=f||(f={})).WIDE="wide",o.SQUARE="square",o.TALL="tall";var aO=M.Z.div(aL(),function(e){return 1===e.$numItems?"grid-cols-1":"grid-cols-2"}),aV=n(96096),aW=w.memo(function(e){var t,n=e.clientThreadId,a=e.messages,i=(0,v._)(a,2),s=i[0],r=i[1],o=(0,G.i)(n),l=(0,A.Lx)(s.message.recipient),d=o.find(function(e){return e.namespace===(null==l?void 0:l.namespace)}),u=null==d?void 0:d.manifest.name_for_human,c=(0,ew.We)(s.message),m=null!=u?(0,k.jsx)("b",{children:u}):"unknown plugin",x=null!=r?(0,k.jsx)("div",{children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},aQ.used),{values:{pluginName:m}}))}):c?(0,k.jsx)("div",{children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},aQ.triedToUse),{values:{pluginName:m}}))}):(0,k.jsx)("div",{children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},aQ.using),{values:{pluginName:m}}))});return d&&((0,aF.cf)(d)?t=(0,k.jsx)(aV.nA,{}):"approved"!==d.status&&(t=(0,k.jsx)(aV.uM,{}))),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(tM,{isComplete:null!=r||c,results:(0,k.jsx)(aG,{pluginName:null!=u?u:"unknown plugin",pluginMessage:s,toolMessage:r}),children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[x,t]})}),null!=d&&(0,k.jsx)(aZ,{plugin:d,pluginMessage:s.message,toolMessage:null==r?void 0:r.message})]})});function aG(e){var t=e.pluginName,n=e.pluginMessage,a=e.toolMessage,i=(0,N.Z)(),s=(0,A.RR)(n.message),r=a?(0,A.RR)(a.message):null;try{s=JSON.stringify(JSON.parse(s),null,2),null!=r&&(r=JSON.stringify(JSON.parse(r),null,2))}catch(e){}var o=(null==a?void 0:a.message.author.name)==="plugin_service";return(0,k.jsxs)("div",{className:"my-3 flex max-w-full flex-col gap-3",children:[(0,k.jsx)(aH,{title:i.formatMessage(aQ.requestTo,{pluginName:t}),infoTooltip:n.message.recipient,children:s}),null!=r&&(0,k.jsx)(aH,{title:o?i.formatMessage(aQ.error):i.formatMessage(aQ.responseFrom,{pluginName:t}),infoTooltip:n.message.recipient,children:(0,k.jsx)("span",{className:(0,b.default)(o&&"text-red-500"),children:r})})]})}function aH(e){var t=e.title,n=e.infoTooltip,a=e.children;return(0,k.jsx)(em,{title:(0,k.jsx)("span",{className:"uppercase",children:t}),headerDecoration:void 0!==n?(0,k.jsx)(tr.u,{label:n,children:(0,k.jsx)(j.H33,{className:"icon-sm text-white/50"})}):void 0,shouldWrapCode:!0,className:"w-full text-xs text-white/80",children:a})}var aQ=(0,S.vU)({used:{id:"PluginMessage.used",description:"Used plugin text",defaultMessage:"Used {pluginName}"},triedToUse:{id:"PluginMessage.triedToUse",description:"Tried to use plugin text",defaultMessage:"Tried to use {pluginName}"},using:{id:"PluginMessage.using",description:"Using plugin text",defaultMessage:"Using {pluginName}..."},requestTo:{id:"ResultsSection.requestTo",description:"Request to plugin title",defaultMessage:"Request to {pluginName}"},responseFrom:{id:"ResultsSection.responseFrom",description:"Response from plugin title",defaultMessage:"Response from {pluginName}"},error:{id:"ResultsSection.error",description:"Error title",defaultMessage:"Error"}}),aJ=n(94750);function a$(){var e=(0,y._)(["flex flex-grow flex-col max-w-full gap-3 gizmo:gap-0"]);return a$=function(){return e},e}var aX=eP()(function(){return n.e(8682).then(n.bind(n,59119))},{loadableGenerated:{webpack:function(){return[59119]}}});function aY(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],i=(0,A.rH)(a.message),s=null==e?void 0:e[n-1],r=null!=s&&((0,A.lD)(s.message)||(0,A.qs)(a.message)),o=i===A.Cs.Text&&(0,A.RR)(a.message);if(i!==A.Cs.System){if(i===A.Cs.ModelEditableContext)continue;if(i===A.Cs.UserModelBio||i===A.Cs.UserModelBioTool)t.push({type:g.Debug,message:a});else if(i===A.Cs.Browsing||i===A.Cs.BrowseTool){var l=t[t.length-1];(null==l?void 0:l.type)===g.Browsing?l.messages.push(a):t.push({type:g.Browsing,messages:[a]})}else if(i===A.Cs.RetrievalBrowsing||i===A.Cs.RetrievalBrowsingTool){var d=t[t.length-1];(null==d?void 0:d.type)===g.RetrievalBrowsing?d.messages.push(a):t.push({type:g.RetrievalBrowsing,messages:[a]})}else if(i===A.Cs.ParallelBrowsing||i===A.Cs.ParallelBrowsingTool){var u=t[t.length-1];(null==u?void 0:u.type)===g.ParallelBrowsing?u.messages.push(a):t.push({type:g.ParallelBrowsing,messages:[a]})}else if(i===A.Cs.Plugin||i===A.Cs.PluginTool){var c=t[t.length-1];i===A.Cs.PluginTool&&(null==c?void 0:c.type)===g.Plugin?c.messages.push(a):t.push({type:g.Plugin,messages:[a]})}else if(i===A.Cs.JITPlugin||i===A.Cs.JITPluginTool){var m=t[t.length-1];(null==m?void 0:m.type)===g.JITPlugin?m.messages.push(a):t.push({type:g.JITPlugin,messages:[a]})}else if(i===A.Cs.Dalle||i===A.Cs.DalleTool){var x=t[t.length-1];i===A.Cs.DalleTool&&(null==x?void 0:x.type)===g.Dalle?x.messages.push(a):t.push({type:g.Dalle,messages:[a]})}else if(i===A.Cs.Code)t.push({type:g.Code,message:a});else if(i===A.Cs.CodeExecutionOutput)t.push({type:g.CodeExecutionOutput,message:a});else if(i===A.Cs.GizmoEditor){var f=t[t.length-1];(null==f?void 0:f.type)===g.GizmoEditor?f.messages.push(a):t.push({type:g.GizmoEditor,messages:[a]})}else if(r&&null!=o){var h=t.pop();(null==h?void 0:h.type)===g.MultiText?(h.messages.push(a),t.push(h)):(null==h?void 0:h.type)===g.Text&&t.push({type:g.MultiText,messages:[h.message,a]})}else t.push({type:g.Text,message:a})}}return t}function aK(e){var t=e.groupedMessagesToRender,n=e.allGroupedMessages,a=e.clientThreadId,i=e.isEditing,s=e.isCompletion,r=e.isCompletionRequestInProgress,o=e.isFinalTurn,l=e.hasActiveRequest,d=e.handleExitEdit,u=e.onChangeItemInView,c=e.onRequestMoreCompletions,m=e.onRequestCompletion,x=(0,ew.F4)(),f=(0,F.hz)().has(eI.L0.OldJitPluginsUI),h=(0,aJ.N)().showDebugConversationTurns,p=t.map(function(e,p){var v=p===n.length-1;switch(e.type){case g.Text:case g.MultiText:for(var y,b=[],w=p-1;w>=0;w--){var j=t[w];if(j.type===g.Code||j.type===g.CodeExecutionOutput)b.unshift(j.message);else break}if(e.type===g.Text)return(0,k.jsx)(nj,{className:"min-h-[20px]",message:e.message,isEditing:i,format:s,isCompletionInProgress:v&&r,clientThreadId:a,onChangeItemInView:u,onRequestCompletion:m,onExitEdit:d,disabled:l,isCompletion:s,onRequestMoreCompletions:c,isResponseToPluginMessage:(null===(y=t[p-1])||void 0===y?void 0:y.type)===g.Plugin,prevCodeMessages:b},e.message.nodeId);if(e.type===g.MultiText)return(0,k.jsx)(nR,{clientThreadId:a,messages:e.messages,isCompletionInProgress:v&&r,isCompletion:s,onRequestMoreCompletions:c,prevCodeMessages:b},p);return null;case g.Browsing:case g.RetrievalBrowsing:var M=e.messages[e.messages.length-1],C=e.type===g.RetrievalBrowsing;return x?(0,k.jsx)(ar,{messages:e.messages,isLastMessageInTurn:v,isRequestActive:l,isRetrieval:C},e.messages[0].nodeId):(0,k.jsx)(nX,{messages:e.messages,isComplete:!o||!v||!l||(0,ew.We)(M.message),isRetrieval:e.type===g.RetrievalBrowsing},e.messages[0].nodeId);case g.ParallelBrowsing:return(0,k.jsx)(aR,{messages:e.messages},e.messages[0].nodeId);case g.Code:var _,T,I=n[p+1],N=null!=I&&I.type===g.CodeExecutionOutput?I.message:void 0;return x?(0,k.jsx)(au,{messages:null!=N?[e.message,N]:[e.message],isRequestActive:l},e.message.nodeId):(0,k.jsx)(tP,{clientThreadId:a,message:e.message,outputMessage:N,isComplete:!o||!v||!l||(null==(T=null===(_=null==N?void 0:N.message.metadata)||void 0===_?void 0:_.aggregate_result)?void 0:T.status)!==void 0&&(null==T?void 0:T.status)!=="running"||(0,ew.We)(e.message.message)},e.message.nodeId);case g.CodeExecutionOutput:return(0,k.jsx)(tk.ZP,{message:e.message,isCollapsed:!1},e.message.nodeId);case g.Plugin:return(0,k.jsx)(aW,{clientThreadId:a,messages:e.messages},e.messages[0].nodeId);case g.JITPlugin:return f?(0,k.jsx)(aW,{clientThreadId:a,messages:e.messages},e.messages[0].nodeId):(0,k.jsx)(ej,{messages:e.messages,clientThreadId:a,isLastTurnInConversation:o,onRequestCompletion:m},e.messages[0].nodeId);case g.Dalle:return(0,k.jsx)(aw,{messages:e.messages},e.messages[0].nodeId);case g.GizmoEditor:return(0,k.jsx)(aX,{messages:e.messages},e.messages[0].nodeId);case g.Debug:if(!h)return null;return(0,k.jsx)(eF,{message:e.message},e.message.nodeId);default:return null}});return(0,k.jsx)(a0,{children:p})}(l=g||(g={}))[l.Text=0]="Text",l[l.MultiText=1]="MultiText",l[l.Browsing=2]="Browsing",l[l.Code=3]="Code",l[l.CodeExecutionOutput=4]="CodeExecutionOutput",l[l.Plugin=5]="Plugin",l[l.JITPlugin=6]="JITPlugin",l[l.RetrievalBrowsing=7]="RetrievalBrowsing",l[l.ParallelBrowsing=8]="ParallelBrowsing",l[l.Dalle=9]="Dalle",l[l.GizmoEditor=10]="GizmoEditor",l[l.Debug=11]="Debug";var a0=M.Z.div(a$()),a9=n(54655);function a1(){var e=(0,y._)(["p-2 rounded-md hover:bg-gray-200 hover:text-gray-800 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200 flex items-center gap-2 flex-wrap justify-center"]);return a1=function(){return e},e}function a2(){var e=(0,y._)(["flex justify-between items-center p-4 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm"]);return a2=function(){return e},e}function a5(e){var t=e.clientThreadId,n=e.messageForRating,a=e.variantIds,i=e.conversationTurnMountTime,s=function(e){var s,r,u=R.tQ.getTree(t),c=a[0]||"",m=(null==u?void 0:u.getConversationTurns(c))||[],x=m[m.length-1],f=(null==x?void 0:x.messages)||[],g=f[f.length-1],h=(null==g?void 0:null===(s=g.message)||void 0===s?void 0:s.id)||"",p=a[1]||"",v=(null==u?void 0:u.getConversationTurns(p))||[],y=v[v.length-1],k=(null==y?void 0:y.messages)||[],b=k[k.length-1],w=(null==b?void 0:null===(r=b.message)||void 0===r?void 0:r.id)||"";ta.ZP.submitMessageComparisonFeedback({feedback_version:d?"inline_guided_regen_feedback:a:1.0":"inline_regen_feedback:a:1.0",original_message_id:h,new_message_id:w,rating:"none",conversation_id:R.tQ.getServerThreadId(t),text:"",tags:[],completion_comparison_rating:e,new_completion_placement:"not-applicable",feedback_start_time:i,compare_step_start_time:i,new_completion_load_start_time:o,new_completion_load_end_time:l,frontend_submission_time:Date.now(),timezone_offset_min:new Date().getTimezoneOffset()}),R.tQ.updateTree(t,function(t){t.updateNodeMetadata(n.nodeId,{inlineComparisonRating:e})}),R.tQ.updateTree(t,function(e){e.updateNodeMetadata(g.nodeId,{inlineComparisonRating:"baseline"})})},r=(0,N.Z)(),o=(0,v._)((0,w.useState)(function(){return null!=n.message.create_time?1e3*n.message.create_time:Date.now()}),1)[0],l=(0,v._)((0,w.useState)(function(){return Date.now()}),1)[0],d=(0,F.hz)().has(eI.L0.GuidedRegenerate);return(0,k.jsxs)(a6,{children:[(0,k.jsx)("div",{className:(0,b.default)("mr-4"),children:(0,k.jsx)(ep.Z,(0,h._)({},a4.regenTitle))}),(0,k.jsxs)(a3,{onClick:function(){return s("new")},title:r.formatMessage(a4.regenBetterLabel),children:[(0,k.jsx)(j.fmn,{className:"icon-sm mr-1 flex-shrink-0"}),(0,k.jsx)("span",{className:"flex-shrink-0",children:(0,k.jsx)(ep.Z,(0,h._)({},a4.regenBetterText))})]}),(0,k.jsxs)(a3,{onClick:function(){return s("original")},title:r.formatMessage(a4.regenWorseLabel),children:[(0,k.jsx)(j.oLd,{className:"icon-sm mr-1 flex-shrink-0"}),(0,k.jsx)("span",{className:"flex-shrink-0",children:(0,k.jsx)(ep.Z,(0,h._)({},a4.regenWorseText))})]}),(0,k.jsxs)(a3,{onClick:function(){return s("same")},title:r.formatMessage(a4.regenSameLabel),children:[(0,k.jsx)(a9.Ny3,{className:"icon-sm mr-1 flex-shrink-0 rounded-full border border-gray-400 dark:border-gray-300"}),(0,k.jsx)("span",{className:"flex-shrink-0",children:(0,k.jsx)(ep.Z,(0,h._)({},a4.regenSameText))})]}),(0,k.jsx)(a3,{onClick:function(){R.tQ.updateTree(t,function(e){e.updateNodeMetadata(n.nodeId,{inlineComparisonRating:"skip"})})},title:r.formatMessage(a4.regenSkipLabel),children:(0,k.jsx)(j.q5L,{className:"icon-lg flex-shrink-0"})})]})}var a3=M.Z.button(a1()),a6=M.Z.div(a2()),a4=(0,S.vU)({regenTitle:{id:"ConversationTurnInlineFeedback.regenTitle",description:"Title of the regeneration rating",defaultMessage:"Was this response better or worse?"},regenBetterLabel:{id:"ConversationTurnInlineFeedback.regenBetterLabel",description:"Regeneration was better button label",defaultMessage:"This response was better than the previous response"},regenBetterText:{id:"ConversationTurnInlineFeedback.regenBetterText",description:"Regeneration was better button text",defaultMessage:"Better"},regenWorseLabel:{id:"ConversationTurnInlineFeedback.regenWorseLabel",description:"Regeneration was worse button label",defaultMessage:"This response was worse than the previous response"},regenWorseText:{id:"ConversationTurnInlineFeedback.regenWorseText",description:"Regeneration was worse button text",defaultMessage:"Worse"},regenSameLabel:{id:"ConversationTurnInlineFeedback.regenSameLabel",description:"Regeneration was Same button label",defaultMessage:"This response was the same in quality"},regenSameText:{id:"ConversationTurnInlineFeedback.regenSameText",description:"Regeneration was Same button text",defaultMessage:"Same"},regenSkipLabel:{id:"ConversationTurnInlineFeedback.regenSkipLabel",description:"Regeneration skip button label",defaultMessage:"Skip this comparison"}}),a7=n(84844),a8=n(88887),ie=n(84829),it=n(61888),ia=n(84056);function ii(){var e=(0,y._)(["relative flex w-full flex-col gap-1 bg-white cursor-pointer truncate rounded-lg border border-gray-300 text-left\nbg-white dark:bg-[#444654] py-4 px-5\nhover:border-[var(--avatar-color)]"]);return ii=function(){return e},e}function is(){var e=(0,y._)(["text-sm text-token-text-tertiary"]);return is=function(){return e},e}function ir(){var e=(0,y._)(["flex gap-4 items-center mb-1"]);return ir=function(){return e},e}function io(e,t,n){R.tQ.updateTree(e,function(e){e.updateNodeMetadata(t,{inlineComparisonRating:n})})}function il(){return(0,k.jsxs)("div",{className:"mx-auto flex flex-col",children:[(0,k.jsx)("div",{className:"text-center text-lg",children:(0,k.jsx)(ep.Z,(0,h._)({},ix.responsePrompt))}),(0,k.jsx)("div",{className:"text-center text-sm text-token-text-tertiary",children:(0,k.jsx)(ep.Z,(0,h._)({},ix.responsePromptExplanation))})]})}function id(e){var t=function(e){return o.showDebugConversationTurns?(0,k.jsx)("div",{className:"text-sm uppercase text-red-500",children:e===_?"Original":"New"}):null},n=e.clientThreadId,a=e.variantIds,i=e.variantsInStreamInfo,s=e.avatarColor;(0,ie.ok)(2===a.length);var r=(0,v._)((0,w.useState)(function(){return Date.now()}),1)[0],o=(0,aJ.N)(),l=(0,U.B$)(),d=(0,v._)((0,w.useMemo)(function(){return(0,it.shuffle)([0,1])},[a[0],a[1]]),2),u=d[0],c=d[1],m=u<c?"left":"right",x="left"===m?"right":"left",f=a[u],g=a[c],y=(0,R.Rz)(n,f),j=(0,R.Rz)(n,g),M=(0,R.uj)(n,y.id),C=(0,R.uj)(n,j.id),_="left"===m?M:C,T="left"===m?C:M,I="unskippable"===i.display_treatment,N=I?"unskippable_parallel_2_in_stream:a:1.0":"skippable_parallel_2_in_stream:a:1.0";(0,w.useEffect)(function(){return ia.i.setState({displayingSideBySideFeedback:!0,unskippable:I}),function(){ia.i.setState({displayingSideBySideFeedback:!1,unskippable:!1})}},[I]),(0,w.useEffect)(function(){return(0,a7.LW)(a8.E,{requestCompletion:function(){var e,t,a,i,s=null===(e=(0,it.last)(_.messages))||void 0===e?void 0:e.completionSampleFinishTime,o=null===(t=(0,it.last)(T.messages))||void 0===t?void 0:t.completionSampleFinishTime;ta.ZP.submitMessageComparisonFeedback({feedback_version:N,original_message_id:null===(a=_.messages[_.messages.length-1])||void 0===a?void 0:a.message.id,new_message_id:null===(i=T.messages[T.messages.length-1])||void 0===i?void 0:i.message.id,rating:"none",conversation_id:R.tQ.getServerThreadId(n),text:"",tags:[],completion_comparison_rating:"skip",new_completion_placement:x,feedback_start_time:r,compare_step_start_time:r,original_completion_load_start_time:r,original_completion_load_end_time:null!=s?s:0,new_completion_load_start_time:r,new_completion_load_end_time:null!=o?o:0,frontend_submission_time:Date.now(),timezone_offset_min:new Date().getTimezoneOffset()})}})},[M,C,n,r,N,x,_.messages,T.messages]);var S=function(e){var t,a,i,s,o=R.tQ.getTree(n).getLeafFromNode(e);R.tQ.setThreadCurrentLeafId(n,o.id);var l=e===f==("left"===m),d=null===(t=(0,it.last)(_.messages))||void 0===t?void 0:t.completionSampleFinishTime,u=null===(a=(0,it.last)(T.messages))||void 0===a?void 0:a.completionSampleFinishTime;_.messages.length>0&&io(n,_.messages[_.messages.length-1].nodeId,l?"original":"new"),T.messages.length>0&&io(n,T.messages[T.messages.length-1].nodeId,l?"original":"new"),null!=d&&null!=u&&ta.ZP.submitMessageComparisonFeedback({feedback_version:N,original_message_id:null===(i=_.messages[_.messages.length-1])||void 0===i?void 0:i.message.id,new_message_id:null===(s=T.messages[T.messages.length-1])||void 0===s?void 0:s.message.id,rating:"none",conversation_id:R.tQ.getServerThreadId(n),text:"",tags:[],completion_comparison_rating:l?"original":"new",new_completion_placement:x,feedback_start_time:r,compare_step_start_time:r,original_completion_load_start_time:r,original_completion_load_end_time:d,new_completion_load_start_time:r,new_completion_load_end_time:u,frontend_submission_time:Date.now(),timezone_offset_min:new Date().getTimezoneOffset()})},P=(0,U.Yk)(Z.Cv.getRequestIdFromConversationTurn(M)),E=(0,U.Yk)(Z.Cv.getRequestIdFromConversationTurn(C)),F=Z.Cv.getRequestIdFromConversationTurn(M),D=(0,U.Yk)(F),L=Z.Cv.getRequestIdFromConversationTurn(C),A=(0,U.Yk)(L),B=(0,w.useMemo)(function(){return aY(M.messages)},[M.messages]),q=(0,w.useMemo)(function(){return aY(C.messages)},[C.messages]);return(0,k.jsx)("div",{className:(0,b.default)("relative flex w-[calc(100%-50px)] flex-col gap-1 md:gap-3 lg:w-[calc(100%-115px)]"),children:(0,k.jsxs)("div",{className:"relative mt-3 flex gap-1 md:gap-3",children:[(0,k.jsxs)(iu,{onClick:function(){S(f)},children:[(0,k.jsxs)(im,{children:[(0,k.jsx)(J,{isCompletionRequestInProgress:P,messages:M.messages,clientThreadId:n,isCompletion:iN(M),avatarColor:s,showInlineEmbeddedDisplay:!1}),(0,k.jsx)(ic,{children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},ix.responseNumber),{values:{responseIndex:1}}))})]}),(0,k.jsx)(aK,(0,p._)((0,h._)({},e),{groupedMessagesToRender:B,allGroupedMessages:B,isEditing:!1,isCompletion:iN(M),isCompletionRequestInProgress:D,hasActiveRequest:l,handleExitEdit:it.noop})),t(M)]}),(0,k.jsxs)(iu,{onClick:function(){S(g)},children:[(0,k.jsxs)(im,{children:[(0,k.jsx)(J,{isCompletionRequestInProgress:E,messages:C.messages,clientThreadId:n,isCompletion:iN(C),avatarColor:s,showInlineEmbeddedDisplay:!1}),(0,k.jsx)(ic,{children:(0,k.jsx)(ep.Z,(0,p._)((0,h._)({},ix.responseNumber),{values:{responseIndex:2}}))})]}),(0,k.jsx)(aK,(0,p._)((0,h._)({},e),{groupedMessagesToRender:q,allGroupedMessages:q,isEditing:!1,isCompletion:iN(C),isCompletionRequestInProgress:A,hasActiveRequest:l,handleExitEdit:it.noop})),t(C)]})]})})}var iu=M.Z.button(ii()),ic=M.Z.div(is()),im=M.Z.div(ir()),ix=(0,S.vU)({responsePrompt:{id:"ConversationTurnTwoUpFeedback.responsePrompt",description:"A prompt for the user to choose between two responses",defaultMessage:"Which response do you prefer?"},responsePromptExplanation:{id:"ConversationTurnTwoUpFeedback.responsePromptExplanation",description:"An explanation of why a user would choose between two responses",defaultMessage:"Your choice will help make ChatGPT better."},responseNumber:{id:"ConversationTurnTwoUpFeedback.responseNumber",description:"A label for the response number, e.g. 'Response 1'",defaultMessage:"Response {responseIndex, number}"}}),ig=n(23211),ih=n(25952),ip=n(41143),iv=n(47346),iy=n(74102),ik=n(10499);function ib(){var e=(0,y._)(["p-4 gizmo:py-2 justify-center text-base md:gap-6 md:py-6"]);return ib=function(){return e},e}function iw(){var e=(0,y._)(["justify-center flex flex-1 p-4 gap-4 text-base mx-auto max-w-6xl"]);return iw=function(){return e},e}function ij(){var e=(0,y._)(["flex-shrink-0 flex flex-col relative items-end"]);return ij=function(){return e},e}function iM(){var e=(0,y._)(["font-semibold"]);return iM=function(){return e},e}function iC(){var e=(0,y._)(["text-center border-b p-3 text-gray-500 dark:border-black/20 dark:text-gray-400 text-xs"]);return iC=function(){return e},e}function i_(){var e=(0,y._)(["flex flex-1 gap-4 text-base mx-auto md:gap-6 gizmo:gap-3 gizmo:md:px-5 gizmo:lg:px-1 gizmo:xl:px-5 ","\n}"]);return i_=function(){return e},e}function iT(){var e=(0,y._)(["p-1 gizmo:pl-0 rounded-md disabled:dark:hover:text-gray-400  dark:hover:text-gray-200 dark:text-gray-400 ","\n"]);return iT=function(){return e},e}function iI(){var e=(0,y._)(["text-gray-400 flex self-end lg:self-center justify-center gizmo:lg:justify-start mt-2 gizmo:mt-0\n"," ",""]);return iI=function(){return e},e}function iN(e){return e.role!==P.uU.User}var iS=w.memo(function(e){var t,n=e.turnIndex,a=e.conversationLeafId,i=e.isFinalTurn,s=e.clientThreadId,r=e.onChangeItemInView,o=e.onChangeRating,l=e.showInlineEmbeddedDisplay,d=void 0!==l&&l,u=e.currentModelId,c=e.initiallyHighlightedMessageId,m=e.avatarColor,x=null!==(0,w.useContext)(D.gB),f=(0,F.ec)(F.F_.isBusinessWorkspace),y=(0,B.ur)(s),M=(0,V.Ml)(),N=(0,R.GD)(s,n,a),S=N.messages,z=N.variantIds,O=N.variantsInStreamInfo,W=aY(S),G=(0,np.t9)(),H=S[S.length-1],Q=!0,$=!1,X=void 0;try{for(var Y,K=W[Symbol.iterator]();!(Q=(Y=K.next()).done);Q=!0){var ee=Y.value,et=function(e){var t=e.type;switch(t){case g.Text:case g.Code:case g.CodeExecutionOutput:case g.Debug:return[e.message];case g.MultiText:case g.Browsing:case g.Plugin:case g.JITPlugin:case g.RetrievalBrowsing:case g.ParallelBrowsing:case g.Dalle:case g.GizmoEditor:return e.messages;default:return(0,eN.Z)(t),[]}}(ee);if(et.some(function(e){return G.has(e.message.id)})){H=et[et.length-1];break}}}catch(e){$=!0,X=e}finally{try{Q||null==K.return||K.return()}finally{if($)throw X}}var ea=S.slice(0,S.indexOf(H)+1),ei=(0,L.x_)(),es=(0,v._)((0,w.useState)(!1),2),er=es[0],eo=es[1],el=z.indexOf(ea[0].nodeId),ed=iN(N),eu=(0,w.useContext)(D.QL).historyDisabled,ec=(0,E.tN)(function(e){return e.isDesktopNavCollapsed}),em=(0,_.WA)(s),ex=ea.some(function(e){return e.message.content.content_type===P.PX.MultimodalText}),ef=(0,w.useRef)(null);(0,w.useEffect)(function(){var e;null!=c&&N.messages.map(function(e){return e.message.id}).includes(c)&&(null===(e=ef.current)||void 0===e||e.scrollIntoView({behavior:"auto"}))},[c]);var eg=ea[ea.length-1],eh=eg.rating,ep=ed&&(null==ea?void 0:ea[0])!=null&&(0,A.Rc)(ea[0].message)||u,ev=function(){1===ea.length&&(T.A.logEvent(I.M.editPrompt,{id:ea[0].message.id,threadId:R.tQ.getServerThreadId(s)}),eo(!0))},ey=(0,w.useCallback)(function(){eo(!1)},[]),ek=(0,w.useCallback)(function(){R.tQ.copyMessageToClipboard(s,n)},[s,n]),eb=(0,w.useCallback)(function(e){o(eg.nodeId,eg.message.id,e)},[eg,o]),ew=(0,v._)((0,w.useState)(function(){return Date.now()}),1)[0],ej=(0,w.useMemo)(function(){return Z.Cv.getRequestIdFromConversationTurn(N)},[N]),eM=(0,U.Yk)(ej),eC=(0,U.B$)(),e_=function(){if(ed&&em.kind===P.OL.PrimaryAssistant){var e,t,n=R.tQ.getTree(s),a=ea[0],i=null==a?void 0:a.nodeId;if(null==a||null==i||""===i)return null;var r=n.getParentPromptNode(i),o=null==r?void 0:r.parentId;if(null==o||""===o)return null;var l=n.getNodeByIdOrMessageId(o),d=null==l?void 0:null===(e=l.message)||void 0===e?void 0:null===(t=e.metadata)||void 0===t?void 0:t.model_slug;if(ep&&null!=d&&ep!==d)return ik.n2.has(d)?"The previous model used in this conversation has been deprecated. We've switched you to the latest default model.":"The previous model used in this conversation is unavailable. We've switched you to the latest default model."}return null}(),eT=aY(ea),eI=(0,R.r7)(s),eS=(0,iv.Z)(s),eP=(0,iy.Z)(s),eR=(0,R.oq)(s),eE=!x&&!eI&&!eu&&ei&&ed,eF=eE&&!f&&!eM&&!d&&!er&&em.kind!==P.OL.GizmoMagicCreate&&1===el&&i&&!eg.inlineComparisonRating&&!eh&&2===z.length&&Date.now()-(null!==(t=eg.message.create_time)&&void 0!==t?t:0)*1e3<6e5,eD=(0,R.yt)(s,z),eL=em.kind!==P.OL.GizmoMagicCreate&&em.kind!==P.OL.GizmoTest&&eE&&i&&(null==O?void 0:O.num_variants_in_stream)===2&&2===z.length&&!eg.inlineComparisonRating&&!eD,eA=(0,q.p_)().playgroundTemplate,eZ=(0,q.QH)().gizmoTemplate,eB=ed&&!d&&!x&&!eI&&null==eZ&&null==eA,eq=eB&&!f&&em.kind!==P.OL.GizmoMagicCreate,eU=!x&&!d&&!er&&!eL,ez=ei&&!M,eO=!ed&&!d&&em.kind!==P.OL.GizmoMagicCreate&&!x&&!ex&&1===ea.length&&!er,eV=function(e){r(z[e]),T.A.logEvent(I.M.changeNode,{intent:"toggle_between"})};if([P.uU.Root,P.uU.System].includes(N.role)&&!eL)return null;var eW=eO&&!M,eG=eW?(0,k.jsx)(iZ,{$isGizmoUI:!1,onClick:ev,className:(0,b.default)(ei&&"md:invisible md:group-hover:visible"),children:(0,k.jsx)(j.vPQ,{className:"icon-sm"})}):null,eH=eO&&M,eQ=eH?(0,k.jsx)(iZ,{$isGizmoUI:M,onClick:ev,children:(0,k.jsx)("div",{className:"flex items-center gap-1.5 text-xs",children:(0,k.jsx)(C.QP,{})})}):null,eJ=i&&eS&&M?(0,k.jsx)(iZ,{$isGizmoUI:M,onClick:function(){eP(eR,{eventSource:"mouse"}),(0,ip.go)()},children:(0,k.jsx)("div",{className:"flex items-center gap-1.5 text-xs",children:(0,k.jsx)(C.vX,{})})}):null,e$=!ed||d||i&&eM?null:(0,k.jsx)(en.Z,{shouldChangeText:!1,onCopy:ek,iconClassName:M?"h-3.5 w-3.5":"icon-sm",className:(0,b.default)("rounded-md p-1 text-xs gizmo:gap-1.5 gizmo:pl-0 dark:text-gray-400 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400",M?"hover:text-gray-950 md:invisible md:group-hover:visible md:group-[.final-completion]:visible":"hover:text-gray-700")}),eX=!eq||M&&eM?null:(0,k.jsxs)("div",{className:"flex gap-1",children:["thumbsDown"!==eh&&!eu&&(0,k.jsx)(iZ,{$isGizmoUI:M,onClick:function(){return eb("thumbsUp")},disabled:"thumbsUp"===eh,className:(0,b.default)("thumbsUp"===eh&&"!dark:text-gray-200 bg-gray-100 text-gray-700 dark:bg-gray-700"),children:M?(0,k.jsx)(C.ib,{}):(0,k.jsx)(j.fmn,{className:"icon-sm"})},"thumbsUp:".concat(eg.nodeId)),"thumbsUp"!==eh&&!eu&&(0,k.jsx)(iZ,{$isGizmoUI:M,onClick:function(){return eb("thumbsDown")},disabled:"thumbsDown"===eh,className:(0,b.default)("thumbsDown"===eh&&"!dark:text-gray-200 bg-gray-100 text-gray-700 dark:bg-gray-700"),children:M?(0,k.jsx)(C.Q7,{}):(0,k.jsx)(j.oLd,{className:"icon-sm"})},"thumbsDown:".concat(eg.nodeId))]}),eY=eF?(0,k.jsx)(a5,{clientThreadId:s,messageForRating:eg,variantIds:z,conversationTurnMountTime:ew}):null;return(0,k.jsxs)("div",{className:(0,b.default)(!M&&"group","w-full text-token-text-primary",(0,b.default)(!d&&"border-b border-black/10 gizmo:border-0 dark:border-gray-900/50 gizmo:dark:border-0",ed?"bg-gray-50 gizmo:bg-transparent dark:bg-[#444654] gizmo:dark:bg-transparent":"gizmo:bg-transparent dark:bg-gray-800 gizmo:dark:bg-transparent")),ref:ef,style:{"--avatar-color":m},"data-testid":"conversation-turn-".concat(n),children:[e_&&(0,k.jsx)(iL,{children:e_}),(0,k.jsxs)(iR,{className:(0,b.default)(d?"ml-5":"m-auto"),children:[(0,k.jsx)(iA,{$isDesktopNavCollapsed:ec,className:(0,b.default)(M&&"group",ed&&i&&M&&"final-completion"),children:eL?(0,k.jsx)(il,{}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(iF,{children:[(0,k.jsx)(J,{isCompletionRequestInProgress:eM,messages:ea,clientThreadId:s,isCompletion:ed,avatarColor:m,showInlineEmbeddedDisplay:d}),eU&&ez&&(0,k.jsx)(ih.h,{currentPage:el,onChangeIndex:eV,length:z.length,className:(0,b.default)("absolute left-0 top-2 -ml-4 -translate-x-full gizmo:top-1 gizmo:-ml-6",z.length>1?"group:hover-visible visible":"invisible")})]}),(0,k.jsxs)("div",{className:(0,b.default)("relative flex w-[calc(100%-50px)] flex-col gizmo:w-full lg:w-[calc(100%-115px)]",ed&&"agent-turn"),children:[M&&(0,k.jsx)(iP,{messages:ea,isCompletion:ed,conversationTemplate:y}),(0,k.jsxs)("div",{className:"flex-col gap-1 md:gap-3",children:[(0,k.jsx)(aK,(0,p._)((0,h._)({groupedMessagesToRender:eT,allGroupedMessages:W},e),{isEditing:er,isCompletion:ed,isCompletionRequestInProgress:eM,isFinalTurn:i,hasActiveRequest:eC,handleExitEdit:ey})),eW&&ei&&(0,k.jsx)(iB,{$hidden:eC,$isGizmoUI:M,className:"gizmo:absolute gizmo:right-0 gizmo:top-1/2 gizmo:-translate-y-1/2 gizmo:transform",children:eG}),(eB||eU)&&(0,k.jsxs)(k.Fragment,{children:[eW&&!ei&&M&&(0,k.jsx)(iB,{$hidden:eM,$isGizmoUI:M,className:"gizmo:absolute gizmo:right-0 gizmo:top-1/2 gizmo:-translate-y-1/2 gizmo:transform",children:eG}),(0,k.jsxs)("div",{className:"flex justify-between empty:hidden gizmo:justify-start gizmo:gap-3 lg:block gizmo:lg:flex",children:[!ez&&eU&&z.length>1&&(0,k.jsx)(ih.h,{currentPage:el,onChangeIndex:eV,length:z.length,className:(0,b.default)("self-center pt-2 gizmo:pt-0",z.length>1?"visible":"!invisible")}),eW&&!ei&&(0,k.jsx)(iB,{$hidden:eM,$isGizmoUI:M,children:eG}),eB?(0,k.jsxs)(iB,{$hidden:eM,$isGizmoUI:M,children:[e$,eX,eJ]}):eH?(0,k.jsx)(iB,{$hidden:!1,$isGizmoUI:M,children:eQ}):null,eF&&eY]})]})]})]})]})}),eL&&(0,k.jsx)(iE,{children:(0,k.jsx)(id,(0,h._)({variantIds:z,variantsInStreamInfo:O,conversationTurnMountTime:ew},e))})]})]})}),iP=function(e){var t,n=e.messages,a=e.isCompletion,i=e.conversationTemplate,s=(0,N.Z)(),r=null===(t=n[0].message.metadata)||void 0===t?void 0:t.shared_conversation_id,o=(0,q.p_)().playgroundTemplate,l=(0,q.QH)(),d=l.gizmoTemplate,u=l.mode,c="ChatGPT";return a?(null==o?void 0:o.name)!=null&&""!==o.name?c=null==o?void 0:o.name:null!=d?c="magic"===u?ex.HW:(null==d?void 0:d.name)||ig.z:(null==i?void 0:i.name)!=null&&(c=i.name):c=null!=r?s.formatMessage(iq.anonymousName):s.formatMessage(iq.you),(0,k.jsx)(iD,{children:c})},iR=M.Z.div(ib()),iE=M.Z.div(iw()),iF=M.Z.div(ij()),iD=M.Z.div(iM()),iL=M.Z.div(iC()),iA=M.Z.div(i_(),function(e){return e.$isDesktopNavCollapsed?"md:max-w-3xl":"md:max-w-2xl lg:max-w-[38rem] gizmo:md:max-w-3xl gizmo:lg:max-w-[40rem] gizmo:xl:max-w-[48rem] xl:max-w-3xl"}),iZ=M.Z.button(iT(),function(e){return e.$isGizmoUI?"text-gray-400 hover:text-gray-950 md:invisible md:group-hover:visible md:group-[.final-completion]:visible":"hover:bg-gray-100 hover:text-gray-700 dark:hover:bg-gray-700"}),iB=M.Z.div(iI(),function(e){return e.$hidden?"invisible":"visible"},function(e){return e.$isGizmoUI?"gap-1":"lg:gap-1 lg:absolute lg:top-0 lg:translate-x-full lg:right-0 lg:mt-0 lg:pl-2 gap-2 md:gap-3"}),iq=(0,S.vU)({you:{id:"ConversationTurn.you",defaultMessage:"You",description:"Name shown when for the author's own messages in a conversation"},anonymousName:{id:"ConversationTurn.anonymousName",defaultMessage:"Anonymous",description:"Name on a conversation turn when the original author is unknown or anonymous"}})},95413:function(e,t,n){n.d(t,{Z:function(){return b}});var a=n(39324),i=n(4337),s=n(35250),r=n(7813),o=n(62682),l=n(55548),d=n(17944),u=n(54636),c=n(42780),m=n(19841),x=n(1454),f=n(32004),g=n(94968),h=n(21389),p=n(31731);function v(){var e=(0,i._)(["flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm"]);return v=function(){return e},e}var y=h.Z.a(v());function k(e){var t=e.onClick,n=e.href,a=e.target,i=e.children;return(0,s.jsx)(r.v.Item,{children:function(e){var r=e.active;return(0,s.jsx)(y,{as:void 0!==n?"a":"button",onClick:t,href:n,target:a,className:(0,m.default)(r?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:i})}})}function b(){return(0,d.hz)().has(o.rk)?(0,s.jsxs)(r.v,{as:"div",className:"group relative",children:[(0,s.jsx)(r.v.Button,{className:"flex items-center justify-center rounded-full border border-gray-200 bg-gray-50 text-gray-600 dark:border-white/10 dark:bg-white/10 dark:text-gray-200",children:(0,s.jsx)("div",{className:"flex h-6 w-6 items-center justify-center text-xs",children:"?"})}),(0,s.jsx)(p.m,{children:(0,s.jsxs)(r.v.Items,{className:"absolute bottom-full right-0 z-20 mb-2 w-full min-w-[175px] overflow-hidden rounded-md bg-gray-50 pb-1.5 pt-1 outline-none dark:bg-gray-950",children:[(0,s.jsxs)(k,{as:"a",href:"https://help.openai.com/en/collections/3742473-chatgpt",target:"_blank",onClick:function(){u.A.logEvent(c.M.clickFaqLink)},children:[(0,s.jsx)(x.AlO,{className:"icon-sm"}),(0,s.jsx)("span",{className:"text-xs",children:(0,s.jsx)(f.Z,(0,a._)({},w.helpAndFaq))})]}),(0,s.jsxs)(k,{as:"a",href:"https://help.openai.com/en/articles/6825453-chatgpt-release-notes",target:"_blank",children:[(0,s.jsx)(x.AlO,{className:"icon-sm"}),(0,s.jsx)("span",{className:"text-xs",children:(0,s.jsx)(f.Z,(0,a._)({},w.releaseNotes))})]}),(0,s.jsxs)(k,{as:"a",href:"https://openai.com/policies",target:"_blank",onClick:function(){u.A.logEvent(c.M.clickPrivacyPolicy)},children:[(0,s.jsx)(x.AlO,{className:"icon-sm"}),(0,s.jsx)("span",{className:"text-xs",children:(0,s.jsx)(f.Z,(0,a._)({},w.termsAndPolicies))})]}),(0,s.jsxs)(k,{onClick:function(){l.vm.openModal(l.B.KeyboardActions)},children:[(0,s.jsx)(x.aCJ,{className:"icon-sm"}),(0,s.jsx)("span",{className:"text-xs",children:(0,s.jsx)(f.Z,(0,a._)({},w.keyboardShortcutsMenu))})]})]})})]}):null}var w=(0,g.vU)({helpAndFaq:{id:"thread.helpAndFaq",defaultMessage:"Help & FAQ",description:"Help & FAQ menu item"},releaseNotes:{id:"thread.releaseNotes",defaultMessage:"Release notes",description:"Release notes menu item"},termsAndPolicies:{id:"thread.termsAndPolicies",defaultMessage:"Terms & policies",description:"Terms & Policies menu item"},keyboardShortcutsMenu:{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts",description:"Keyboard shortcuts menu item"}})},25952:function(e,t,n){n.d(t,{h:function(){return g},t:function(){return y}});var a=n(4337),i=n(35250),s=n(95182),r=n.n(s),o=n(1454),l=n(21389);function d(){var e=(0,a._)(["text-xs flex items-center justify-center gap-1"]);return d=function(){return e},e}function u(){var e=(0,a._)(["dark:text-white disabled:text-gray-300 dark:disabled:text-gray-400"]);return u=function(){return e},e}function c(){var e=(0,a._)(["flex-grow flex-shrink-0 tabular-nums"]);return c=function(){return e},e}function m(){var e=(0,a._)(["text-xs inline-flex bg-token-surface-secondary h-8 border rounded border-token-border-medium"]);return m=function(){return e},e}function x(){var e=(0,a._)(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-surface-tertiary"]);return x=function(){return e},e}function f(){var e=(0,a._)(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest"]);return f=function(){return e},e}function g(e){var t=e.currentPage,n=e.onChangeIndex,a=e.length,s=e.className,l=function(e){n(r()(t+e,0,a-1))};return(0,i.jsxs)(h,{className:s,children:[(0,i.jsx)(p,{onClick:function(){return l(-1)},disabled:0===t,children:(0,i.jsx)(o.YFh,{className:"icon-xs"})}),(0,i.jsx)(v,{children:"".concat(t+1," / ").concat(a)}),(0,i.jsx)(p,{onClick:function(){return l(1)},disabled:t===a-1,children:(0,i.jsx)(o.Tfp,{className:"icon-xs"})})]})}var h=l.Z.div(d()),p=l.Z.button(u()),v=l.Z.span(c());function y(e){var t=e.currentPage,n=e.onChangeIndex,a=e.length,s=e.className,l=function(e){n(r()(t+e,0,a-1))};return(0,i.jsxs)(k,{className:s,children:[(0,i.jsx)(b,{onClick:function(){return l(-1)},disabled:0===t,children:(0,i.jsx)(o.YFh,{className:"icon-sm"})}),(0,i.jsx)(w,{children:"".concat(t+1,"/").concat(a)}),(0,i.jsx)(b,{onClick:function(){return l(1)},disabled:t===a-1,children:(0,i.jsx)(o.Tfp,{className:"icon-sm"})})]})}var k=l.Z.div(m()),b=l.Z.button(x()),w=l.Z.span(f())},31731:function(e,t,n){n.d(t,{m:function(){return r}});var a=n(35250),i=n(98359),s=n(70079);function r(e){var t=e.children;return(0,a.jsx)(i.u,{as:s.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:t})}},33851:function(e,t,n){n.d(t,{Z:function(){return aW}});var a,i,s,r,o,l=n(21722),d=n(39324),u=n(71209),c=n(70216),m=n(10064),x=n(4337),f=n(38104),g=n(35250),h=n(21950),p=n(2064),v=n(4536),y=n(54636),k=n(42780),b=n(5397),w=n.n(b),j=n(29124),M=n.n(j),C=n(73040),_=n.n(C),T=n(10721),I=n(70079),N=n(1454),S=n(13002),P=n(94968),R=n(32004),E=n(70671),F=n(21389),D=n(8844),L=n(61098),A=n(86646),Z=n(62682),B=n(51505),q=n(72871),U=n(55548),z=n(17944),O=n(25687),V=n(1491),W=n(86925),G=n(18481),H=n(39368),Q=n(48133),J=n(41955),$=n(94705),X=n(7184),Y=n(84056),K=n(64502),ee=n(19841),et=n(91530),en=n.n(et),ea=n(2827),ei=n(15066),es=n(13205),er=n(40710),eo=n(15635),el=n(72290);function ed(){var e=(0,x._)(["mb-2 mt-auto ml-auto mr-auto"]);return ed=function(){return e},e}function eu(){var e=(0,x._)(["relative rounded-md border border-black/10 bg-gray-50 dark:border-gray-900/50 dark:bg-[#444654] flex flex-col overflow-hidden"]);return eu=function(){return e},e}function ec(){var e=(0,x._)(["mb-5 border dark:bg-gray-800 overflow-hidden"]);return ec=function(){return e},e}function em(){var e=(0,x._)([""]);return em=function(){return e},e}var ex=(0,P.vU)({submitFeedback:{id:"feedbackModal.submitFeedback",defaultMessage:"Submit feedback",description:"Button text for submitting the feedback"},submitReport:{id:"feedbackModal.submitReport",defaultMessage:"Submit report",description:"Button text for submitting a content-moderation report"},submitRejectModeration:{id:"feedbackModal.moderationReject",defaultMessage:"Block Content",description:"Button text for rejecting the share link and blocking it from being viewed"},submitAcceptModeration:{id:"feedbackModal.moderationAccept",defaultMessage:"Allow Content",description:"Button text for accepting the share link and allowing it to be viewed"},thumbsUpPlaceholder:{id:"feedbackModal.thumbsUpPlaceholder",defaultMessage:"What do you like about the response?",description:"Placeholder for textarea input when user chooses thumbs up"},thumbsDownPlaceholder:{id:"feedbackModal.thumbsDownPlaceholder",defaultMessage:"What was the issue with the response? How could it be improved?",description:"Placeholder for textarea input when user chooses thumbs down"},reportContentExplanationPlaceholder:{id:"feedbackModal.reportContentExplanationPlaceholder",defaultMessage:"What is wrong with the response? What about this response is harmful? Please be as specific as possible, and add any details that are not present in the checkboxes below.",description:"Placeholder for textarea input when user chooses to report a shared chat"},harmfulUnsafe:{id:"feedbackModal.harmfulUnsafe",defaultMessage:"This is harmful / unsafe",description:"Label for harmful/unsafe checkbox"},harmfulOffensive:{id:"feedbackModal.harmfulOffensive",defaultMessage:"This content is harmful or offensive",description:"Label for harmful/offensive checkbox"},copyrightContent:{id:"feedbackModal.copyrightContent",defaultMessage:"This content violates copyright law",description:"Label for Copyrighted Content checkbox"},reportOtherContent:{id:"feedbackModal.reportOtherContent",defaultMessage:"I don't like this for some other reason (please describe)",description:"Label for Report Other Content checkbox"},notTrue:{id:"feedbackModal.notTrue",defaultMessage:"This isn't true",description:"Label for not true checkbox"},notHelpful:{id:"feedbackModal.notHelpful",defaultMessage:"This isn't helpful",description:"Label for not helpful checkbox"},dontLikeThis:{id:"feedbackModal.dontLikeThis",defaultMessage:"I don't like this",description:"Label for I Don't Like This checkbox"},sexualAbuse:{id:"feedbackModal.sexualAbuse",defaultMessage:"This content contains sexual abuse",description:"Label for Sexual Abuse checkbox"},provideAdditionalFeedback:{id:"feedbackModal.provideAdditionalFeedback",defaultMessage:"Provide additional feedback",description:"Title for the critique feedback modal"},provideReportModalTitle:{id:"feedbackModal.provideReportModalTitle",defaultMessage:"Report This Content",description:"Title for the 'report' feedback modal"},pickBestAnswer:{id:"feedbackModal.pickBestAnswer",defaultMessage:"Pick the best answer to improve the model",description:"Title for the compare feedback modal"},newAnswer:{id:"feedbackModal.newAnswer",defaultMessage:"New Answer",description:"Title for the new answer during comparison"},originalAnswer:{id:"feedbackModal.originalAnswer",defaultMessage:"Original Answer",description:"Title for the original answer during comparison"},newAnswerBetter:{id:"feedbackModal.newAnswerBetter",defaultMessage:"New answer is better",description:"Button text for choosing new answer during comparison"},originalAnswerBetter:{id:"feedbackModal.originalAnswerBetter",defaultMessage:"Original answer is better",description:"Button text for choosing original answer during comparison"},neitherAnswerBetter:{id:"feedbackModal.neitherAnswerBetter",defaultMessage:"Neither answer is better",description:"Button text for choosing neither answer during comparison"},skipStep:{id:"feedbackModal.skipStep",defaultMessage:"Skip this step",description:"Button text for skipping comparison step"},continueWithChosenAnswer:{id:"feedbackModal.continueWithChosenAnswer",defaultMessage:"The conversation will continue with the answer you choose.",description:"Information text for user during comparison"},employeeConsent:{id:"feedbackModal.employeeConsent",defaultMessage:"Allow this content to be used for model evals",description:"Open AI employee is consenting to allow this content to be used in evals"},employeeConsentExplanation:{id:"feedbackModal.employeeConsentExplanation",defaultMessage:"Allow your feedback and conversation to be used to in model evals. Please verify there is no confidential data in the conversation.",description:"Explanation for employee consent checkbox"}});function ef(e){var t,n,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==e?void 0:null===(t=e.messages)||void 0===t?void 0:t.length)===1&&!(null==e?void 0:null===(n=e.messages)||void 0===n?void 0:n.some(function(e){return"error"in e}))&&(!i||!((null==e?void 0:null===(a=e.messages)||void 0===a?void 0:a.length)===1&&(0,W.RR)(null==e?void 0:e.messages[0].message).length<20))}function eg(e){var t,n,a=e.ratingModalNodeId,i=e.ratingModalOpen,s=e.onCloseRatingModal,r=e.onSubmitFeedback,o=e.onHandleChangeFeedbackComparisonRating,l=e.feedbackTextareaRef,u=e.clientThreadId,c=e.currentModelId,x=e.onChangeItemInView,f=e.onRequestMoreCompletions,h=e.onRequestCompletion,p=(0,E.Z)(),b=B.tQ.getTree(u),w=(0,B.XK)(u),j=(0,z.aF)(),M=!!j&&(0,v.yl)(j),C=(0,m._)((0,I.useState)(!1),2),_=C[0],T=C[1];(0,I.useEffect)(function(){"report"===i&&v.pg.forceEnableSession()},[i]);var S=(0,I.useRef)(.5>Math.random()?"left":"right"),P=null==b?void 0:b.getConversationTurns(a||"root"),F=P.length-1,D=P[P.length-1],L=(0,m._)((0,I.useState)("critique"),2),Z=L[0],q=L[1],U=(0,V.w$)(),O=ef(D,!0)&&U,W=(0,I.useMemo)(function(){return{id:a||"root",threadId:B.tQ.getServerThreadId(u),rating:i,model:c}},[a,u,i,c]),G=null==P?void 0:P[(null==P?void 0:P.length)-1].variantIds,H=null==G?void 0:G[(null==G?void 0:G.length)-1],Q=(n=(t=null==b?void 0:b.getConversationTurns(H))[t.length-1]).messages[n.messages.length-1].nodeId,Y=null==b?void 0:b.getConversationTurns(Q),et=(0,I.useMemo)(function(){var e=null==Y?void 0:Y[(null==Y?void 0:Y.length)-1];return"thumbsDown"===i&&O&&ef(e)&&ef(D)},[i,O,Y,D]),ed=(0,I.useRef)(Date.now()),eu=(0,I.useRef)(-1),ec=(0,I.useRef)(Date.now()),em=(0,I.useRef)(Date.now());(0,I.useEffect)(function(){"compare"===Z?(eu.current=Date.now(),y.A.logEvent(k.M.displayedComparisonUIV0,W)):"critique"===Z&&"thumbsDown"===i&&y.A.logEvent(k.M.displayedThumbsDownFeedbackForm,W)},[Z]);var eg=P.length-2,ek=Y.length-1,eb=Y[Y.length-1],ew=(0,I.useMemo)(function(){return eb&&ei.Cv.getRequestIdFromConversationTurn(eb)},[eb]),ej=(0,J.Yk)(ew);(0,I.useMemo)(function(){ej||(em.current=Date.now())},[ej]);var eM=D.messages,eC=eM[eM.length-1],e_=eC.message.id,eT=eC.nodeId,eI=b.getLeafFromNode(eT),eN=eb.messages,eS=eN[eN.length-1],eP=eS.message.id,eR=eS.nodeId,eE=b.getLeafFromNode(eR),eF="critique"===Z?"report"===i?p.formatMessage(ex.provideReportModalTitle):p.formatMessage(ex.provideAdditionalFeedback):p.formatMessage(ex.pickBestAnswer),eD=(0,I.useRef)([]),eL=(0,I.useRef)(""),eA=(0,I.useCallback)(function(){var e,t=null===(e=l.current)||void 0===e?void 0:e.elements;eD.current=(0,K._)(t||[]).filter(function(e){return e.checked}).map(function(e){return e.id}).map(function(e){return e.replace("feedback-","")}),eL.current=(null==t?void 0:t["feedback-other"].value)||""},[l]),eZ=(0,I.useCallback)(function(){eA(),r({customFeedback:eL.current,tags:eD.current,employeeConsented:M?_:void 0}),"thumbsDown"===i&&y.A.logEvent(k.M.submitThumbsDownFeedbackForm,W),et?q("compare"):s()},[eA,r,M,_,i,et,W,s]),eB=(0,I.useCallback)(function(e,t){var n=B.tQ.getServerThreadId(u);if(null!=n){var a=b.getMessageId(B.tQ.getThreadCurrentLeafId(u));A.ZP.submitSharedConversationReportFeedback({message_id:a,shared_conversation_id:n,text:e,tags:t}).then(function(){el.m.success("Moderation logged successfully")}).catch(function(){el.m.danger("Moderation NOT logged successfully! Please try again")}),s()}},[b,u,s]),eq=(0,I.useCallback)(function(){eA(),eD.current.push("moderation-reject"),eB(eL.current,eD.current)},[eB,eA]),eU=(0,I.useCallback)(function(){eA(),eD.current.push("moderation-accept"),eB(eL.current,eD.current)},[eB,eA]),ez="moderate"===i?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($.ZP.Button,{title:p.formatMessage(ex.submitRejectModeration),color:"danger",onClick:eq}),(0,g.jsx)($.ZP.Button,{title:p.formatMessage(ex.submitAcceptModeration),color:"primary",onClick:eU})]}):"critique"===Z?(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[M&&"report"!==i&&(0,g.jsx)(eo.u,{label:p.formatMessage(ex.employeeConsentExplanation),children:(0,g.jsx)(es.Z,{id:"employee-consent",checked:_,onChange:function(e){return T(e.currentTarget.checked)},label:p.formatMessage(ex.employeeConsent)})}),(0,g.jsx)($.ZP.Button,{title:p.formatMessage("report"===i?ex.submitReport:ex.submitFeedback),onClick:eZ})]}):null,eO="left"===S.current,eV=eO?eT:eR,eW=eO?"new":"original",eG=eO?"original":"new",eH=eO?p.formatMessage(ex.newAnswer):p.formatMessage(ex.originalAnswer),eQ=eO?p.formatMessage(ex.originalAnswer):p.formatMessage(ex.newAnswer),eJ=eO?p.formatMessage(ex.newAnswerBetter):p.formatMessage(ex.originalAnswerBetter),e$=eO?p.formatMessage(ex.originalAnswerBetter):p.formatMessage(ex.newAnswerBetter),eX=i&&"report"!==i&&"moderate"!==i,eY=(0,I.useCallback)(function(e){var t="left"===e?eW:"right"===e?eG:"same";if(y.A.logEvent(k.M.submittedComparisonUIV0,Object.assign({},W,{choice:t})),eX){var n=B.tQ.getTree(u);n.updateNodeMetadata(eT,{inlineComparisonRating:"baseline"}),n.updateNodeMetadata(eR,{inlineComparisonRating:t}),o(e_,eP,i,t,S.current,ed.current,eu.current,ec.current,em.current,eL.current,eD.current)}B.tQ.setThreadCurrentLeafId(u,e===S.current?eE.id:eI.id),s()},[eW,eG,W,eX,u,eE.id,eI.id,s,eT,eR,o,e_,eP,i]),eK=!ej&&null!=em.current&&et,e0=(0,I.useCallback)(function(){s(),"critique"===Z?y.A.logEvent(k.M.skippedThumbsDownFeedbackForm,Object.assign({},W)):"compare"===Z&&y.A.logEvent(k.M.skippedComparisonUIV0,Object.assign({},W))},[s,W,Z]),e9=(0,m._)((0,I.useState)([]),2),e1=e9[0],e2=e9[1];return(0,I.useEffect)(function(){"moderate"===i&&A.ZP.fetchShareModerationCategories().then(function(e){var t=e.moderation_categories;e2(Object.keys(t).map(function(e){return[e,t[e]]}))})},[]),(0,g.jsxs)(X.Z,{isOpen:!0,onClose:e0,size:"custom",className:"md:max-w-[672px] lg:max-w-[896px] xl:max-w-6xl",type:"critique"===Z?"thumbsUp"===i?"success":"danger":"success",icon:"critique"===Z?"thumbsUp"===i?N.fmn:N.oLd:void 0,title:eF,closeButton:(0,g.jsx)($.ZP.CloseButton,{onClose:e0}),children:["critique"===Z&&(0,g.jsxs)("form",{ref:l,children:[(0,g.jsx)(ea.ZP,{id:"feedback-other",placeholder:"thumbsUp"===i?p.formatMessage(ex.thumbsUpPlaceholder):"report"===i?p.formatMessage(ex.reportContentExplanationPlaceholder):p.formatMessage(ex.thumbsDownPlaceholder),rows:3,className:"mb-1 mt-4 w-full resize-none rounded-md dark:bg-gray-800 dark:focus:border-white dark:focus:ring-white"}),"thumbsDown"===i&&(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)(es.Z,{id:"feedback-harmful",label:p.formatMessage(ex.harmfulUnsafe)}),(0,g.jsx)(es.Z,{id:"feedback-false",label:p.formatMessage(ex.notTrue)}),(0,g.jsx)(es.Z,{id:"feedback-not-helpful",label:p.formatMessage(ex.notHelpful)})]}),null!=i&&!eX&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"mb-4",children:["report"===i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(es.Z,{id:"feedback-dont-like-this",label:p.formatMessage(ex.dontLikeThis)}),(0,g.jsx)(es.Z,{id:"feedback-false",label:p.formatMessage(ex.notTrue)}),(0,g.jsx)(es.Z,{id:"feedback-not-helpful",label:p.formatMessage(ex.notHelpful)}),(0,g.jsx)(es.Z,{id:"feedback-harmful-offensive",label:p.formatMessage(ex.harmfulOffensive)}),(0,g.jsx)(es.Z,{id:"feedback-sexual-abuse",label:p.formatMessage(ex.sexualAbuse)})]}),"moderate"===i&&(0,g.jsxs)(g.Fragment,{children:[e1.map(function(e){var t=(0,m._)(e,2),n=t[0],a=t[1];return(0,g.jsx)(es.Z,{id:"feedback-"+n,label:a},n)}),(0,g.jsx)(es.Z,{id:"feedback-copyright",label:p.formatMessage(ex.copyrightContent)})]}),(0,g.jsx)(es.Z,{id:"feedback-content-other",label:p.formatMessage(ex.reportOtherContent)})]})})]}),"compare"===Z&&Y&&void 0!==w&&(0,g.jsxs)("div",{className:(0,ee.default)("w-full"),children:[(0,g.jsx)("p",{className:(0,ee.default)("mb-7 mt-3"),children:(0,g.jsx)(R.Z,(0,d._)({},ex.continueWithChosenAnswer))}),(0,g.jsx)(ev,{className:"rounded-md",children:(0,g.jsx)(ey,{children:(0,g.jsx)(er.Z,{currentModelId:c,turnIndex:eg,conversationLeafId:eV,isFinalTurn:!1,clientThreadId:u,onChangeItemInView:x,onChangeRating:en(),onRequestMoreCompletions:f,onRequestCompletion:h,showInlineEmbeddedDisplay:!0})})}),(0,g.jsxs)("div",{className:(0,ee.default)(),children:[(0,g.jsxs)("div",{className:(0,ee.default)("mb-2 grid w-full grid-cols-2 gap-5"),children:[(0,g.jsx)("div",{children:(0,g.jsx)("p",{className:(0,ee.default)("font-semibold"),children:eH})}),(0,g.jsx)("div",{children:(0,g.jsx)("p",{className:(0,ee.default)("font-semibold"),children:eQ})})]}),(0,g.jsxs)("div",{className:(0,ee.default)("mb-5 grid w-full grid-cols-2 gap-5"),children:[(0,g.jsxs)(ep,{children:[(0,g.jsx)(ey,{children:(0,g.jsx)(er.Z,{currentModelId:c,turnIndex:eO?ek:F,conversationLeafId:eO?eR:eT,isFinalTurn:!0,clientThreadId:u,onChangeItemInView:x,onChangeRating:en(),onRequestMoreCompletions:f,onRequestCompletion:h,showInlineEmbeddedDisplay:!0})}),(0,g.jsx)(eh,{children:(0,g.jsx)($.ZP.Button,{disabled:!eK,title:eJ,onClick:function(){return eY("left")},color:"dark"})})]}),(0,g.jsxs)(ep,{children:[(0,g.jsx)(ey,{children:(0,g.jsx)(er.Z,{currentModelId:c,turnIndex:eO?F:ek,conversationLeafId:eV,isFinalTurn:!0,clientThreadId:u,onChangeItemInView:x,onChangeRating:en(),onRequestMoreCompletions:f,onRequestCompletion:h,showInlineEmbeddedDisplay:!0})}),(0,g.jsx)(eh,{children:(0,g.jsx)($.ZP.Button,{disabled:!eK,title:e$,onClick:function(){return eY("right")},color:"dark"})})]})]}),(0,g.jsx)("div",{className:(0,ee.default)("grid w-full"),children:(0,g.jsxs)("div",{className:(0,ee.default)("mb-2 text-right"),children:[(0,g.jsx)($.ZP.Button,{disabled:!eK,title:p.formatMessage(ex.neitherAnswerBetter),color:"primary",onClick:function(){return eY("same")},className:(0,ee.default)("mr-2")}),(0,g.jsx)($.ZP.Button,{title:p.formatMessage(ex.skipStep),onClick:function(){return s()}})]})})]})]}),(0,g.jsx)($.ZP.Actions,{primaryButton:ez})]},"RatingModal-".concat(a))}var eh=F.Z.div(ed()),ep=F.Z.div(eu()),ev=F.Z.div(ec()),ey=F.Z.div(em()),ek=n(41711),eb=n(61888);function ew(e){var t,n=e.clientThreadId,a=e.currentLeafId,i=e.currentModelId,s=e.onChangeItemInView,r=e.onRequestMoreCompletions,o=e.onChangeRating,d=e.onRequestCompletion,u=e.ratingModalOpen,c=e.ratingModalNodeId,x=e.ratingModalCompletionId,h=e.sharedConversationReportModalNodeId,p=e.sharedConversationModerationModalOpen,v=e.setRatingModalOpen,b=e.setSharedConversationReportModalNodeId,w=e.setSharedConversationModerationModalOpen,j=(0,E.Z)(),M=(0,I.useRef)(null),C=(0,m._)((0,I.useState)(!1),2),_=C[0],T=C[1],N=(0,I.useCallback)(function(e){var t=e.customFeedback,a=e.tags,s=e.employeeConsented;if(u&&null!=c&&""!==c&&(t||a.length>0||s)){var r=B.tQ.getServerThreadId(n);y.A.logEvent(k.M.reportResult,{id:x,threadId:r,content:t,model:i,rating:u,tags:a}),n&&x&&A.ZP.submitMessageFeedback({message_id:x,conversation_id:r,rating:u,text:t,tags:a,employee_consented:s})}},[u,c,n,x,i]),S=(0,I.useCallback)(function(e){var t=e.customFeedback,a=e.tags;if(null!=h&&""!==h){var s=B.tQ.getServerThreadId(n);y.A.logEvent(k.M.reportResult,{id:x,threadId:s,content:t,model:i,rating:u,tags:a}),A.ZP.submitSharedConversationReportFeedback({message_id:h,shared_conversation_id:s,text:t,tags:a}),T(!0)}},[h,n,x,i,u,T]),P=(0,I.useCallback)((t=(0,l._)(function(e,t,a,i,s,r,o,l,d,u,c){return(0,f.Jh)(this,function(m){switch(m.label){case 0:return[4,A.ZP.submitMessageComparisonFeedback({feedback_version:"comparison_feedback_modal:a:1.0",original_message_id:e,new_message_id:t,rating:a,conversation_id:B.tQ.getServerThreadId(n),text:u,tags:c.map(function(e){return e.replace("feedback-","")}),completion_comparison_rating:i,new_completion_placement:s,feedback_start_time:r,compare_step_start_time:o,new_completion_load_start_time:l,new_completion_load_end_time:d,frontend_submission_time:Date.now(),timezone_offset_min:new Date().getTimezoneOffset()})];case 1:return m.sent(),[2]}})}),function(e,n,a,i,s,r,o,l,d,u,c){return t.apply(this,arguments)}),[n]);return null!=u?(0,g.jsx)(eg,{ratingModalNodeId:c,ratingModalOpen:u,onCloseRatingModal:function(){return v(void 0)},onSubmitFeedback:N,onHandleChangeFeedbackComparisonRating:P,currentModelId:i,feedbackTextareaRef:M,clientThreadId:n,onChangeItemInView:s,onRequestMoreCompletions:r,onChangeRating:o,onRequestCompletion:d}):null!=h?(0,g.jsx)(eg,{ratingModalNodeId:h,ratingModalOpen:"report",onCloseRatingModal:function(){return b(void 0)},onSubmitFeedback:S,onHandleChangeFeedbackComparisonRating:eb.noop,currentModelId:i,feedbackTextareaRef:M,clientThreadId:n,onChangeItemInView:s,onRequestMoreCompletions:r,onChangeRating:o,onRequestCompletion:d}):_?(0,g.jsx)(X.Z,{onClose:function(){return T(!1)},isOpen:!0,icon:ek.Z,title:j.formatMessage(ej.reportModalThankYouTitle),description:j.formatMessage(ej.reportModalThankYouDescription),primaryButton:(0,g.jsx)($.ZP.Button,{onClick:function(){return T(!1)},title:j.formatMessage(ej.reportModalThankYouDismiss)}),type:"danger"}):p?(0,g.jsx)(eg,{ratingModalNodeId:a,ratingModalOpen:"moderate",onCloseRatingModal:function(){return w(!1)},onSubmitFeedback:eb.noop,onHandleChangeFeedbackComparisonRating:function(){},currentModelId:i,feedbackTextareaRef:M,clientThreadId:n,onChangeItemInView:s,onRequestMoreCompletions:r,onChangeRating:o,onRequestCompletion:d}):null}var ej=(0,P.vU)({reportModalThankYouTitle:{id:"thread.modal.reportModalThankYou.title",defaultMessage:"Thank you for your report!",description:"Title for the post-report thank-you modal"},reportModalThankYouDescription:{id:"thread.modal.reportModalThankYou.description",defaultMessage:"Thank you for your report.",description:"Description for the post-report thank-you modal"},reportModalThankYouDismiss:{id:"thread.modal.reportModalThankYou.dismissButton",defaultMessage:"Close",description:"Close button for the post-report thank-you modal"}}),eM=n(12065),eC=n(23234),e_=n(61236),eT=n(82473),eI=n(25494),eN=n(8874),eS=n(25005),eP=n(42798);function eR(e){var t,n=e.isOpen,a=e.onClose,i=(0,I.useCallback)(function(){y.A.logEvent(k.M.closeAccountPaymentModal),a()},[a]),s=(0,e_.a)({queryKey:["referralInvites"],queryFn:function(){return A.ZP.getEligibleReferralInvites()},enabled:n}),r=s.data,o=s.isLoading,l=s.isSuccess,c=null!==(t=null==r?void 0:r.invites_remaining)&&void 0!==t?t:0,m=l?r.invite_codes:[];return((0,I.useEffect)(function(){n&&(eN.m9.logEvent("chatgpt_referral_invite_modal_opened"),y.A.logEvent(k.M.chatgptReferralInviteModalOpened))},[n]),l)?(0,g.jsxs)(eS.x,{isOpen:n,onClose:a,children:[(0,g.jsxs)("div",{className:"flex w-full flex-row items-center justify-between border-b px-4 py-3 dark:border-gray-700",children:[(0,g.jsx)("span",{className:"text-base font-semibold sm:text-base",children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},eL.modalTitle),{values:{remainingInviteCount:c}}))}),(0,g.jsx)("button",{className:"text-gray-700 opacity-50 transition hover:opacity-75 dark:text-white",onClick:i,children:(0,g.jsx)(N.q5L,{className:"h-6 w-6"})})]}),(0,g.jsx)("div",{className:"px-4 py-4",children:(0,g.jsx)("div",{className:"relative col-span-1 px-3 md:w-[500px] md:px-0",children:(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"flex flex-col items-center pb-5 pt-4",children:(0,g.jsx)(N.E33,{className:"h-12 w-12 text-gray-800"})}),(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,g.jsx)("p",{className:"text-xl font-semibold leading-6",children:(0,g.jsx)(R.Z,(0,d._)({},eL.inviteDescription))}),(0,g.jsx)("p",{className:"max-w-sm text-xs text-gray-500",children:(0,g.jsx)(R.Z,(0,d._)({},eL.inviteDescriptionFollowUp))})]}),(0,g.jsxs)("div",{className:"mt-6",children:[(0,g.jsxs)("div",{className:"flex flex-row justify-between px-2",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:(0,g.jsx)(R.Z,(0,d._)({},eL.referralCodeLabel))}),(0,g.jsx)("label",{className:"block text-sm text-gray-500",children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},eL.inviteRemaining),{values:{remainingInviteCount:c}}))})]}),o?(0,g.jsx)("div",{className:"h-40 py-2",children:(0,g.jsx)(eP.Z,{className:"h-4 w-4"})}):null,(null==m?void 0:m.length)>0&&(0,g.jsx)(eF,{referralCodes:m})]})]})})})]}):null}var eE=function(e){return"".concat(window.location.host,"/invite/").concat(e)},eF=function(e){var t=e.referralCodes,n=(0,I.useRef)(null);return(0,g.jsx)("div",{className:"mt-2 flow-root",children:(0,g.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,g.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,g.jsx)("div",{ref:n,className:(0,ee.default)("shadow ring-1 ring-black ring-opacity-5 sm:rounded-md",{"h-44 overflow-y-scroll":t.length>4,"overflow-hidden":t.length<=4}),children:(0,g.jsx)("table",{className:"min-w-full",children:(0,g.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-900 dark:bg-gray-800",children:t.sort(function(e,t){var n={activated:0,created:1,claimed:2,subscription_granted:3},a=e.status,i=t.status;return n[a]<n[i]?-1:n[a]>n[i]?1:e.updated_at>t.updated_at?-1:e.updated_at<t.updated_at?1:0}).map(function(e){return(0,g.jsx)(eD,{tableRef:n,referralCode:e},e.id)})})})})})})})},eD=function(e){var t,n=e.referralCode,a=e.tableRef,i=(0,E.Z)(),s=(0,I.useRef)(null),r=(0,m._)((0,I.useState)(!1),2),o=r[0],u=r[1],c=(0,m._)((0,I.useState)(!1),2),x=c[0],h=c[1],p=(0,eT.NL)(),v=(0,eI.D)({mutationFn:function(){return A.ZP.postActivateReferralInvite(n.id)},onSettled:function(){p.invalidateQueries({queryKey:["referralInvites"]}),u(!1)},onError:(0,l._)(function(){return(0,f.Jh)(this,function(e){return el.m.danger(i.formatMessage(eL.activateReferralError)),[2]})}),onSuccess:function(e){u(!1);var t,n,r=e.invite_code;navigator.clipboard.writeText(eE(null!=r?r:"")),h(!0),null===(t=s.current)||void 0===t||t.select(),el.m.success(i.formatMessage(eL.copiedReferralToastMessage,{referralInviteCode:r}),{duration:3,hasCloseButton:!0}),null===(n=a.current)||void 0===n||n.scrollTo(0,0)}}).mutateAsync,b=(t=(0,l._)(function(e){var t;return(0,f.Jh)(this,function(n){switch(n.label){case 0:switch(e.status){case"created":return[3,1];case"activated":return[3,3];case"claimed":return[3,4];case"subscription_granted":return[3,5]}return[3,6];case 1:return u(!0),eN.m9.logEvent("chatgpt_referral_invite_link_activated"),y.A.logEvent(k.M.chatgptReferralInviteLinkActivated),[4,v()];case 2:return n.sent(),[3,7];case 3:return eN.m9.logEvent("chatgpt_referral_invite_link_copied"),y.A.logEvent(k.M.chatgptReferralInviteLinkCopied),navigator.clipboard.writeText(eE(null!==(t=e.code_token)&&void 0!==t?t:"")),h(!0),el.m.success(i.formatMessage(eL.copiedReferralToastMessage,{referralInviteCode:e.code_token}),{duration:3,hasCloseButton:!0}),[3,7];case 4:case 5:case 6:return[3,7];case 7:return[2]}})}),function(e){return t.apply(this,arguments)}),w="".concat(window.location.host,"/invite/");return(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{className:"relative w-full whitespace-nowrap py-1.5 pl-1 pr-3 text-sm text-gray-900 dark:text-white",children:[(0,g.jsx)("input",{ref:s,name:"referral-code",className:"block w-full border-0 bg-transparent py-1.5 pl-2 text-gray-900 shadow-none ring-0 ring-inset placeholder:text-gray-600 focus:ring-0 focus:ring-inset dark:text-white placeholder:dark:text-white sm:text-sm",disabled:"activated"!=n.status,value:"created"==n.status||"subscription_granted"==n.status?"":eE(n.code_token)}),(0,g.jsxs)("span",{className:"absolute top-3 flex items-center pl-2 text-gray-700  dark:text-white",children:["created"==n.status&&(0,g.jsxs)("span",{children:[w,(0,g.jsx)("span",{className:"select-none text-gray-400  dark:text-gray-300",children:"•••••••"})]}),"subscription_granted"==n.status&&(0,g.jsx)("span",{className:"select-none line-through opacity-25",children:eE(n.code_token)})]})]}),(0,g.jsx)("td",{className:"relative whitespace-nowrap py-1.5 pl-3 pr-2 text-right text-sm font-medium sm:pr-2",children:(0,g.jsx)(Q.z,{disabled:o||"claimed"==n.status||"subscription_granted"==n.status,loading:o,as:"button",type:"button",onClick:function(){return b(n)},color:"created"==n.status?"primary":"light",className:(0,ee.default)("w-20 rounded-sm py-1 text-sm",{"bg-brand-green/20 text-green-700 hover:bg-brand-green/30 dark:bg-brand-green/50 dark:text-green-100 dark:hover:bg-brand-green/40":"activated"==n.status,"!bg-gray-200 ":"subscription_granted"==n.status}),children:(0,g.jsx)("span",{className:"flex flex-row items-center",children:"created"==n.status?(0,g.jsx)(R.Z,(0,d._)({},eL.referralActivate)):"activated"==n.status?x?(0,g.jsx)(R.Z,(0,d._)({},eL.referralCopied)):(0,g.jsx)(R.Z,(0,d._)({},eL.referralCopy)):"claimed"==n.status?(0,g.jsx)(R.Z,(0,d._)({},eL.referralClaimed)):"subscription_granted"==n.status?(0,g.jsx)(R.Z,(0,d._)({},eL.referralClaimed)):null})})})]})},eL=(0,P.vU)({modalTitle:{id:"InviteReferralModal.modalTitle",description:"Description for the invite referral modal",defaultMessage:"Refer a friend"},inviteFormTitle:{id:"InviteReferralModal.inviteFormTitle",description:"Title for the invite referral form",defaultMessage:"Emails"},invitePlaceholder:{id:"InviteReferralModal.invitePlaceholder",description:"List of placeholder emails for the invite referral form",defaultMessage:"friend@openai.com, friend2@openai.com..."},referralActivate:{id:"InviteReferralModal.referralActivate",description:"Button label for activating a referral code",defaultMessage:"Copy"},referralCopy:{id:"InviteReferralModal.referralCopy",description:"Button label for copying a referral code",defaultMessage:"Copy"},referralCopied:{id:"InviteReferralModal.referralCopied",description:"Button label for when a referral code is copied",defaultMessage:"Copied"},referralClaimed:{id:"InviteReferralModal.referralClaimed",description:"Disabled state for claimed referral code",defaultMessage:"Claimed"},inviteDescription:{id:"InviteReferralModal.inviteDescription",description:"Description text for the invite referral modal",defaultMessage:"Share ChatGPT Plus with your friends!"},inviteDescriptionFollowUp:{id:"InviteReferralModal.inviteDescriptionFollowUp",description:"Description follow up text for the invite referral modal",defaultMessage:"Activate and copy the referral links below to share ChatGPT Plus with your friends, giving them access to a free trial!"},inviteRemaining:{id:"InviteReferralModal.inviteRemaining",description:"Description of invites remaining for the invite referral modal",defaultMessage:"{remainingInviteCount} available"},usersInvited:{id:"InviteReferralModal.usersInvited",description:"Description of users invited for the invite referral modal",defaultMessage:"<showcaseValue>{usersInviteCount}</showcaseValue><description>users invited</description>"},referralCodeLabel:{id:"InviteReferralModal.referralCodeLabel",description:"Label for the referral code input field",defaultMessage:"Links"},sendInviteCta:{id:"InviteReferralModal.sendInviteCta",description:"Button text for the invite referral modal",defaultMessage:"Send invites"},clickToActivateString:{id:"InviteReferralModal.clickToActivateString",description:"Text for the activate referral invite action referral modal",defaultMessage:"chat.openai.com/invite/<codeStyle>•••••••</codeStyle>"},clickToCopyString:{id:"InviteReferralModal.clickToCopyString",description:"Text for clicking to copy invite action referral modal",defaultMessage:"Click to copy"},copiedReferralToastMessage:{id:"InviteReferralModal.copiedReferralToastMessage",description:"Toast text to display when copying a referral invite code",defaultMessage:"Your referral link {referralInviteCode} has been copied to your clipboard. Share it with your friends!"},activateReferralError:{id:"InviteReferralModal.activateReferralError",description:"Text to display when activating a referral invite fails",defaultMessage:"Failed to accept referral invite. Please try again."}}),eA=n(69789),eZ=n(94486),eB=n(43178),eq=n(17314);function eU(){var e,t,n,a,i,s,r=(0,E.Z)(),o=(t=(e=(0,eZ.S)()).isLoggedInWithMfa,n=e.isUsernamePassword,a=e.setupMfa,s=(i=(0,eq.p0)()).filter(function(e){return!("none"===e.manifest.auth.type||"service_http"===e.manifest.auth.type)}),(t||!n)&&(s=[]),{disablePluginsThatWeCantUse:function(){var e=i.filter(function(e){return"none"===e.manifest.auth.type||"service_http"===e.manifest.auth.type});(0,eq.dT)(e.map(function(e){return e.id}))},pluginsWeCantUse:s,setupMfa:a}),l=o.disablePluginsThatWeCantUse,u=o.pluginsWeCantUse,c=o.setupMfa,m=(0,I.useCallback)(function(){l()},[l]);return 0===u.length?null:(0,g.jsx)(X.Z,{isOpen:!0,onClose:m,title:(0,g.jsx)(R.Z,(0,d._)({},ez.title)),primaryButton:(0,g.jsx)($.ZP.Button,{onClick:c,title:r.formatMessage(ez.primaryButtonTitle),color:"primary"}),secondaryButton:(0,g.jsx)($.ZP.Button,{onClick:l,title:r.formatMessage(ez.secondaryButtonTitle)}),type:"danger",children:(0,g.jsx)("div",{className:"flex flex-col gap-2 py-4",children:u.map(function(e){return(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(eB.Z,{plugin:e})},e.id)})})})}var ez=(0,P.vU)({title:{id:"RequireMfaForAuthPluginsModal.title",description:"Title for the Require MFA for Auth Plugins modal",defaultMessage:"Some of your plugins require two-factor authentication."},primaryButtonTitle:{id:"RequireMfaForAuthPluginsModal.primaryButtonTitle",description:"Title for the primary button to set up two-factor authentication",defaultMessage:"Setup two-factor authentication"},secondaryButtonTitle:{id:"RequireMfaForAuthPluginsModal.secondaryButtonTitle",description:"Title for the secondary button to disable plugins",defaultMessage:"Turn off the plugins"}}),eO=n(49279);function eV(e){var t=e.isOpen,n=e.onClose,a=(0,I.useCallback)(function(){y.A.logEvent(k.M.closeAccountPaymentModal),n()},[n]);return(0,g.jsx)($.ZP.Root,{isOpen:t,onClose:a,shouldIgnoreClickOutside:!0,children:(0,g.jsx)($.ZP.Overlay,{children:(0,g.jsx)($.ZP.Content,{className:"focus-none !bg-transparent !shadow-none outline-none md:w-[672px] lg:w-[896px] xl:w-[1024px]",children:(0,g.jsx)("div",{className:"focus-none flex h-full flex-col items-center justify-start outline-none",children:(0,g.jsx)("div",{className:"relative w-full",children:(0,g.jsxs)("div",{className:"flex grow flex-col items-start justify-center overflow-hidden rounded-md border bg-white shadow-md dark:border-gray-700 dark:bg-gray-900",children:[(0,g.jsxs)("div",{className:"flex w-full flex-row items-center justify-between border-b px-4 py-3 dark:border-gray-700",children:[(0,g.jsx)("span",{className:"text-base font-semibold sm:text-base",children:(0,g.jsx)(R.Z,(0,d._)({},eW.modalTitle))}),(0,g.jsx)("button",{className:"text-gray-700 opacity-50 transition hover:opacity-75 dark:text-white",onClick:a,children:(0,g.jsx)(N.q5L,{className:"h-6 w-6"})})]}),(0,g.jsx)("div",{className:"grid w-full",children:(0,g.jsx)("div",{className:"relative w-full ",children:(0,g.jsx)("div",{id:"embedded-checkout-modal"})})})]})})})})})})}var eW=(0,P.vU)({modalTitle:{id:"EmbeddedPaymentModal.modalTitle",description:"Title for the payment page modal",defaultMessage:"Your plan"}}),eG=n(59517),eH=n(26003),eQ=n(6013),eJ=n(38574),e$=n(43477),eX=n(78103),eY=(0,I.createContext)(),eK=function(e){return(0,eX.oR)((0,I.useContext)(eY),e)},e0=n(93028),e9=n(45048);function e1(e){return e.some(function(e){return e.messages.some(function(e){var t,n,a,i;return(null==(a=null===(t=e.message.metadata)||void 0===t?void 0:t.aggregate_result)?void 0:null===(n=a.messages)||void 0===n?void 0:n.some(e9.O1))||("parts"in(i=e.message.content)?i.parts.join(""):"").includes("sandbox:")})})}var e2=function(e){var t=e.children,n=e.color,a=void 0===n?"yellow":n,i=e.icon;return(0,g.jsxs)("div",{className:(0,ee.default)("mb-4 flex items-start justify-start gap-2.5 rounded-md p-4 last:mb-0",{"bg-yellow-300 text-[#756B5C]":"yellow"===a,"bg-gray-50 text-gray-800 dark:bg-[#444654] dark:text-gray-100":"gray"===a}),children:[null!=i&&(0,g.jsx)(i,{className:"icon-sm mt-1 flex-shrink-0"}),t]})},e5=n(70737),e3=n(97296),e6=n(40803),e4=n(35265),e7=n(66273),e8=n(67568),te=n(10499),tt=n(28924);function tn(){var e=(0,x._)(["h-36 md:h-48 flex-shrink-0"]);return tn=function(){return e},e}function ta(){var e=(0,x._)(["cursor-pointer absolute z-10 rounded-full gizmo:bg-clip-padding border text-gray-600 dark:border-white/10 dark:bg-white/10 dark:text-gray-200\n",""]);return ta=function(){return e},e}function ti(){var e=(0,x._)(["\n  rounded-md\n  p-1\n  ","\n  dark:hover:text-gray-200 dark:text-gray-400 hover:bg-gray-100 hover:text-gray-700 dark:hover:bg-gray-700\n"]);return ti=function(){return e},e}var ts=(0,P.vU)({advancedDataAnalysisSupportDisclaimer:{id:"sharedConversation.advancedDataAnalysisSupportDisclaimer",defaultMessage:"This chat contains files or images produced by Advanced Data Analysis which are not yet visible in Shared Chats.",description:"Disclaimer about our lack of support for Advanced Data Analysis inline images and file downloads with shared links"},personalizedDataDisclaimer:{id:"sharedConversation.personalizedDataDisclaimer",defaultMessage:"This conversation may reflect the link creator’s personalized data, which isn’t shared and can meaningfully change how the model responds.",description:"Disclaimer about the creator's personalized data (ex: Custom Instructions, memory) not being part of the shared conversation"},ratingThanks:{id:"rating.thanks",defaultMessage:"Thanks for your feedback!",description:"Thank the user for their rating"},ratingInstructions:{id:"rating.instructions",defaultMessage:"Is this conversation helpful so far?",description:"Ask the user for their rating of the conversation so far"}});function tr(e){var t=e.clientThreadId,n=(0,B.qA)(t),a=(0,B.je)(t),i=(0,B.qN)(function(e){return B.iN.getThreadCreateTime(t,e)}),s=(0,B.oq)(t),r=(0,B.JI)(t,s),o=(0,I.useMemo)(function(){return e1(r)},[r]),l=(0,B.aS)(t),d=(0,B.eY)(t);return(0,g.jsxs)("div",{className:"border-b border-gray-100 pb-4 pt-3 sm:mb-2 sm:pb-6 sm:pt-8",children:[(0,g.jsx)("h1",{className:"text-3xl font-semibold leading-tight text-gray-700 dark:text-gray-100 sm:text-4xl",children:n}),(null!=a||null!=i)&&(0,g.jsxs)("div",{className:"pt-3 text-base text-gray-400 sm:pt-4",children:[null!=a&&(0,g.jsx)("span",{children:a}),null!=a&&null!=i&&(0,g.jsx)("span",{className:"px-2",children:"•"}),null!=i&&(0,g.jsx)(P.Ji,{value:i,month:"long",year:"numeric",day:"numeric"})]}),(0,g.jsx)(to,{shouldShowCodeInterpreterDisclaimer:o,shouldShowPersonalizedDataDisclaimer:l||d})]})}var to=function(e){var t=e.shouldShowCodeInterpreterDisclaimer,n=e.shouldShowPersonalizedDataDisclaimer;return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)("div",{className:"mt-4",children:(0,g.jsx)(e2,{icon:N.H33,color:"gray",children:(0,g.jsx)(R.Z,(0,d._)({},ts.advancedDataAnalysisSupportDisclaimer))})}),n&&(0,g.jsx)("div",{className:"mt-4",children:(0,g.jsx)(e2,{icon:N.H33,color:"gray",children:(0,g.jsx)(R.Z,(0,d._)({},ts.personalizedDataDisclaimer))})})]})};function tl(e){var t=e.onChangeItemInView,n=e.onRequestMoreCompletions,a=e.onChangeRating,i=e.onRequestCompletion,s=e.clientThreadId,r=e.conversationLeafId,o=e.currentThreadModel,l=e.inlineEmbeddedDisplay,d=e.initiallyHighlightedMessageId,u=e.hideHeader,c=null!==(0,I.useContext)(O.gB),x=(0,e6.useScrollToBottom)(),f=(0,m._)((0,e6.useSticky)(),1)[0],h=(0,eC.Ml)(),p=(0,q.H)().isBetaFeaturesUiEnabled,v=(0,z.$T)(),y=(0,te.Xy)(o,s),k=(0,tt.Ri)(y.id),b=(0,B.U0)(s,r),w=(0,K._)(Array(b).keys()).map(function(e){return(0,g.jsx)(er.Z,{isFinalTurn:e===b-1,turnIndex:e,clientThreadId:s,conversationLeafId:r,onChangeItemInView:t,onChangeRating:a,onRequestMoreCompletions:n,onRequestCompletion:i,currentModelId:y.id,showInlineEmbeddedDisplay:l,initiallyHighlightedMessageId:d,avatarColor:null==k?void 0:k.backgroundColor},e)});return(0,g.jsxs)("div",{className:"flex flex-col text-sm gizmo:pb-9 dark:bg-gray-800 gizmo:dark:bg-transparent",children:[!u&&(c||!v)&&!l&&(0,g.jsx)(e7.B,{icon:p?null==k?void 0:k.icon:void 0,currentModelConfig:y,clientThreadId:s}),c&&!l&&(0,g.jsx)("div",{className:"mx-auto w-full p-4 md:max-w-2xl md:px-0 lg:max-w-[38rem] xl:max-w-3xl",children:(0,g.jsx)(tr,{clientThreadId:s})}),w,(0,g.jsx)(tx,{clientThreadId:s,conversationLeafId:r}),!l&&!h&&(0,g.jsx)(td,{}),!f&&!l&&(0,g.jsx)(tu,{$isGizmoUIEnabled:h,onClick:x,children:h?(0,g.jsx)(e4.Hg,{className:"m-1 text-black dark:text-white"}):(0,g.jsx)(N.tv1,{className:"icon-sm m-1"})})]})}var td=F.Z.div(tn()),tu=F.Z.button(ta(),function(e){return e.$isGizmoUIEnabled?"right-1/2 border-black/10 bg-token-surface-primary bottom-5":"right-6 bottom-[124px] md:bottom-[180px] gizmo:md:bottom-[143px] lg:bottom-[120px] border-gray-200 bg-gray-50"}),tc=F.Z.button(ti(),function(e){return e.$selected?"bg-gray-100 text-gray-700":""}),tm=[1,2,3,4];function tx(e){var t,n,a=e.clientThreadId,i=e.conversationLeafId,s=(0,z.ec)(z.F_.isBusinessWorkspace),r=(0,B.XK)(a),o=(0,e8.WA)(a),l=r?tm[r.charCodeAt(r.length-1)%tm.length]:tm[tm.length-1],u=(0,B.JI)(a,i),c=(0,m._)((0,I.useState)(null),2),x=c[0],f=c[1],h=(0,m._)((0,I.useState)(!1),2),p=h[0],v=h[1],y=(0,m._)((0,I.useState)(!1),2),k=y[0],b=y[1],w=(0,I.useMemo)(function(){return(0,eb.debounce)(function(e){var t,n,a=null===(t=null===(n=(0,eb.last)(u))||void 0===n?void 0:n.messages[0])||void 0===t?void 0:t.message.id;r&&a&&A.ZP.submitConversationRating({conversation_id:r,message_id:a,rating:e,shown_at_assistant_turn:l}),v(!0),setTimeout(function(){b(!0)},1500)},2e3)},[u,r,l]),j=function(e){f(e),w(e)},M=u.filter(function(e){return e.role===L.uU.Assistant}).length,C=(0,eb.last)(u),_=["finished_successfully","finished_partial_completion"].includes(null!==(n=null===(t=null==C?void 0:C.messages[0])||void 0===t?void 0:t.message.status)&&void 0!==n?n:""),T=(null==C?void 0:C.role)===L.uU.Assistant;return M===l&&_&&T&&!s&&o.kind===L.OL.PrimaryAssistant?(0,g.jsx)("div",{className:"relative",children:(0,g.jsxs)("div",{className:"absolute left-1/2 top-0 mt-2 flex w-10/12 -translate-x-1/2 items-start justify-center sm:mt-[6px]",children:[(0,g.jsx)(e5.M,{children:p&&!k&&(0,g.jsx)(e3.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,y:-10},transition:{duration:.25},children:(0,g.jsx)("span",{className:"text-sm text-token-text-tertiary",children:(0,g.jsx)(R.Z,(0,d._)({},ts.ratingThanks))})},"submitted")}),!p&&(0,g.jsx)(e3.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.1},children:(0,g.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[(0,g.jsx)(R.Z,(0,d._)({},ts.ratingInstructions)),(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[(0,g.jsx)(tc,{$selected:"thumbsUp"===x,onClick:function(){return j("thumbsUp")},children:(0,g.jsx)(N.fmn,{className:"icon-sm"})}),(0,g.jsx)(tc,{$selected:"thumbsDown"===x,onClick:function(){return j("thumbsDown")},children:(0,g.jsx)(N.oLd,{className:"icon-sm"})})]})]})},"rating")]})}):null}function tf(){var e=(0,x._)(["relative h-full w-full transition-width flex flex-col overflow-hidden items-stretch"]);return tf=function(){return e},e}function tg(){var e=(0,x._)(["grow flex-1 overflow-hidden"]);return tg=function(){return e},e}function th(){var e=(0,x._)(["w-full mb-4 shadow-[0_2px_12px_0px_rgba(0,0,0,0.08)] dark:bg-gray-800/90 rounded-lg border border-gray-100 dark:border-gray-700 overflow-hidden bg-gray-50"]);return th=function(){return e},e}function tp(){var e=(0,x._)(["flex p-4 bg-white dark:bg-gray-800/90 border-t border-gray-100 dark:border-gray-700 rounded-b-lg w-full h-full\n","\n"]);return tp=function(){return e},e}function tv(){var e=(0,x._)(["flex w-full items-center justify-left gap-2 min-h-[1.5rem]"]);return tv=function(){return e},e}function ty(){var e=(0,x._)(["border-none focus:ring-gray-200 dark:focus:ring-gray-600 bg-transparent py-0.5 -my-0.5 pl-1 -ml-1 w-full"]);return ty=function(){return e},e}function tk(){var e=(0,x._)(["flex-none h-full mt-auto mb-auto"]);return tk=function(){return e},e}var tb=(0,P.vU)({sharingModalTitle:{id:"thread.sharingModal.title",defaultMessage:"Share link to Chat",description:"Title of sharing feature in the title of the sharing modal"},sharingModalDescription:{id:"sharingModal.description",defaultMessage:"Messages you send after creating your link won't be shared. Anyone with the URL will be able to view the shared chat.",description:"Description of sharing feature in the first paragraph of the sharing modal"},sharingModalBizDescription:{id:"sharingModal.bizDescription.1",defaultMessage:"Only members of your workspace with the URL will see the latest messages sent in this conversation. Files you attach to the conversation will not be shared, but any file contents referenced in messages will continue to be visible.",description:"Description of sharing feature in the first paragraph of the sharing modal"},existingShareDescription:{id:"sharingModal.exisitingDescription",defaultMessage:"You have shared this chat <existingLink>before</existingLink>. If you want to update the shared chat content, <deleteLink>delete this link</deleteLink> and create a new shared link.",description:"Description in sharing modal when viewing an existing link"},sharingModalMoreInfo:{id:"thread.sharingModal.moreInfo",defaultMessage:"More Info",description:"Link to a helpdesk article with more information about the sharing modal"},moderationBlocked:{id:"sharingModal.moderationBlocked",defaultMessage:"This shared link has been disabled by moderation.",description:"Error message in sharing modal when shared link has been moderated."},confirmCloseWithChanges:{id:"thread.sharingModal.confirmCloseWithChanges",defaultMessage:"You have unsaved changes. Do you want to continue?",description:"Confirmation message when closing share modal with changes"},confirmDeleteLink:{id:"sharingModal.confirmDeleteLink",defaultMessage:"Are you sure you want to delete the share link?",description:"Confirmation message when deleting share link"},advancedDataAnalysisSupportDisclaimer:{id:"sharingModal.advancedDataAnalysisSupportDisclaimer",defaultMessage:"Recipients won’t be able to view Advanced Data Analysis images or download files.",description:"Disclaimer about our lack of support for Advanced Data Analysis inline images and file downloads with shared links"},personalizedDataDisclaimer:{id:"sharingModal.personalizedDataDisclaimer",defaultMessage:"Any personalized data not present in the conversation won’t be shared with viewers (ex: Custom Instructions).",description:"Disclaimer about our policy to not share personalized data (ex: Custom Instructions, memory)"},copied:{id:"thread.sharingModal.copied",defaultMessage:"Copied!",description:"Status message after successfully copying the shared link"},copying:{id:"thread.sharingModal.copying",defaultMessage:"Copying...",description:"Status message while copying the shared link"},updateAndCopyLink:{id:"thread.sharingModal.updateAndCopyLink",defaultMessage:"Update and Copy Link",description:"Button text to update and copy the shared link"},shareYourName:{id:"sharingModal.shareYourName",defaultMessage:"Share your name",description:"Button text to change sharing to show the user's name"},shareAnonymously:{id:"sharingModal.shareAnonymously",defaultMessage:"Share anonymously",description:"Button text to change sharing to be anonymous"},deleteLink:{id:"sharingModal.deleteLink",defaultMessage:"Delete Link",description:"Button text to delete the share link"},failedToCopyLink:{id:"thread.sharingModal.failedToCopyLink",defaultMessage:"Failed to copy link to clipboard",description:"Error message when failing to copy link to clipboard"},copyLink:{id:"thread.sharingModal.copyLink",defaultMessage:"Copy Link",description:"Button text to copy the shared link"},copiedSharedConversationURL:{id:"thread.sharingModal.copiedSharedConversationURL",defaultMessage:"Copied shared conversation URL to clipboard!",description:"Success message when shared conversation URL is copied"},failedToDeleteSharedLink:{id:"thread.sharingModal.failedToDeleteSharedLink",defaultMessage:"Failed to delete shared link",description:"Error message when failing to delete shared link"}});function tw(e){var t=e.serverThreadId,n=(0,B.oq)(t),a=(0,m._)((0,I.useState)(function(){return(0,e$.Z)(function(e,t){return{title:void 0,highlightedMessageId:void 0,initiallyHighlightedMessageId:void 0,currentNodeId:void 0,shareLinkId:void 0,shareLinkUrl:void 0,isPublic:!1,isDeleted:!1,isAnonymous:!0,linkAlreadyExisted:!1,linkError:void 0,moderationState:void 0}})}),1)[0],i=!(0,J.B$)()&&"root"!==n,s=(0,I.useRef)(!1);return(0,I.useEffect)(function(){if(i&&!s.current){s.current=!0;var e=B.tQ.getThreadCurrentLeafId(t),n=B.tQ.getTree(t).getMessageId(e);A.ZP.createShareLink({current_node_id:n,conversation_id:t,is_anonymous:!0}).then(function(e){a.setState({shareLinkId:e.share_id,shareLinkUrl:e.share_url,isPublic:e.is_public,isDeleted:!e.is_visible,title:e.title,highlightedMessageId:e.highlighted_message_id,initiallyHighlightedMessageId:e.highlighted_message_id,currentNodeId:e.current_node_id,linkAlreadyExisted:e.already_exists,isAnonymous:e.is_anonymous,moderationState:e.moderation_state})}).catch(function(e){e instanceof e0.Q0&&"string"==typeof e.message?a.setState({linkError:e.message}):(el.m.danger("Failed to copy link to clipboard - could not create link"),U.vm.closeSharingModal())})}},[i]),(0,g.jsx)(eY.Provider,{value:a,children:(0,g.jsx)(tM,(0,d._)({},e))})}function tj(e){return!0===e.has_been_auto_blocked||!0===e.has_been_auto_moderated||!0===e.has_been_blocked}function tM(e){var t,n,a,i,s=e.serverThreadId,r=e.currentThreadModel,o=function(){(!eu||window.confirm(c.formatMessage(tb.confirmCloseWithChanges)))&&U.vm.closeSharingModal()},c=(0,E.Z)(),x=(0,I.useRef)(null),h=(0,m._)((0,I.useState)(!1),2),p=h[0],v=h[1],y=(0,m._)((0,I.useState)(!1),2),k=y[0],b=y[1],w=(0,m._)((0,I.useState)(!1),2),j=w[0],M=w[1],C=(0,I.useContext)(eY),_=eK(function(e){return e.title}),T=eK(function(e){return e.shareLinkId}),F=eK(function(e){return e.shareLinkUrl}),D=eK(function(e){return e.isAnonymous}),L=eK(function(e){return e.initiallyHighlightedMessageId}),Z=eK(function(e){return e.currentNodeId}),q=eK(function(e){return e.isPublic}),V=eK(function(e){return e.linkAlreadyExisted})&&q,W=eK(function(e){return e.linkError}),G=eK(function(e){return e.moderationState}),H=null!=G&&tj(G),J=(0,z.ec)(z.F_.isBusinessWorkspace),Y=(0,B.oq)(s),K=(0,I.useRef)(),et=(0,I.useRef)();(0,I.useEffect)(function(){V&&(K.current=_,et.current=D)},[V]);var ea=(0,z.aF)(),ei=(0,B.JI)(s,null!=Z?Z:Y),es=(0,I.useMemo)(function(){return e1(ei)},[ei]),er=(0,B.aS)(s),eo=(0,B.eY)(s),ed=(t=(0,l._)(function(e,t){var n,a,i,s,r,o,l;return(0,f.Jh)(this,function(d){switch(d.label){case 0:b(!0),a=(n=C.getState()).highlightedMessageId,i=n.title,s=n.isDeleted,r=n.isAnonymous;try{(0,eJ.S)(t)}catch(e){return el.m.warning(c.formatMessage(tb.failedToCopyLink)),b(!1),[2]}d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,A.ZP.updateShareLink({share_id:e,highlighted_message_id:a,title:null!=i?i:void 0,is_public:!s,is_visible:!s,is_anonymous:r})];case 2:if(tj(o=d.sent().moderation_state))return C.setState({moderationState:o}),[2];return C.setState({isPublic:!0,moderationState:o}),M(!0),setTimeout(function(){U.vm.closeSharingModal(),el.m.success(c.formatMessage(tb.copiedSharedConversationURL))},500),[3,5];case 3:return(l=d.sent())instanceof e0.Q0&&"string"==typeof l.message&&C.setState({linkError:l.message}),[3,5];case 4:return b(!1),[7];case 5:return[2]}})}),function(e,n){return t.apply(this,arguments)}),eu=V&&(_!==K.current||D!==et.current),ec=(0,g.jsxs)($.ZP.Button,{onClick:function(){return ed(T,F)},color:"primary",disabled:k||j||null==T||null==F||null!=W||H,children:[j?(0,g.jsx)(N.LSm,{className:"icon-sm"}):k?(0,g.jsx)(eP.Z,{}):(0,g.jsx)(N.XKb,{className:"icon-sm"}),j?(0,g.jsx)(R.Z,(0,d._)({},tb.copied)):k?(0,g.jsx)(R.Z,(0,d._)({},tb.copying)):eu?(0,g.jsx)(R.Z,(0,d._)({},tb.updateAndCopyLink)):(0,g.jsx)(R.Z,(0,d._)({},tb.copyLink))]}),em=(0,I.useCallback)(function(e){var t;null==e||e.preventDefault(),C.setState({title:null===(t=x.current)||void 0===t?void 0:t.value}),v(!1)},[C]),ex=(0,I.useCallback)(function(e){"Enter"===e.key&&em()},[em]),ef=(n=(0,l._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,A.ZP.deleteShareLink({share_id:C.getState().shareLinkId}).catch(function(e){el.m.danger(c.formatMessage(tb.failedToDeleteSharedLink))}).then(function(){U.vm.closeSharingModal()})];case 1:return e.sent(),[2]}})}),function(){return n.apply(this,arguments)}),eg=(a=(0,l._)(function(){return(0,f.Jh)(this,function(e){return C.setState({isAnonymous:!0}),B.qN.setState(function(e){e.threads[s].initialThreadData.authorName=void 0}),[2]})}),function(){return a.apply(this,arguments)}),eh=(i=(0,l._)(function(){return(0,f.Jh)(this,function(e){return C.setState({isAnonymous:!1}),B.qN.setState(function(e){e.threads[s].initialThreadData.authorName=null==ea?void 0:ea.name}),[2]})}),function(){return i.apply(this,arguments)}),ep=(0,g.jsxs)(tN,{$active:p,children:[(0,g.jsxs)("div",{className:"flex-1 pr-1",children:[void 0!==_?p?(0,g.jsx)(tP,{ref:x,type:"text",defaultValue:null!=_?_:"",autoFocus:!0,onKeyDown:ex,onBlur:em}):(0,g.jsxs)(tS,{onDoubleClick:function(){return v(!0)},children:[_,p||null==_||V?null:(0,g.jsx)("button",{onClick:function(){return v(!0)},className:"text-gray-500",children:(0,g.jsx)(N.Nte,{className:"icon-sm"})})]}):(0,g.jsx)("div",{className:"h-6"}),(0,g.jsxs)("div",{className:"mt-1 text-gray-500",children:[!D&&(0,g.jsx)("span",{children:"".concat(null==ea?void 0:ea.name," \xb7 ")}),(0,g.jsx)(P.Ji,{value:new Date,month:"long",day:"numeric",year:"numeric"})]})]}),(0,g.jsx)(tR,{children:(0,g.jsxs)(eQ.fC,{children:[(0,g.jsx)(eQ.xz,{asChild:!0,children:(0,g.jsx)(Q.z,{color:"neutral",className:"mb-auto mt-auto",children:(0,g.jsx)(S.JEI,{})})}),(0,g.jsx)(eQ.h_,{children:(0,g.jsxs)(eQ.VY,{className:"PopoverContent rounded-sm bg-white p-2 pb-0.5 shadow-xl dark:bg-gray-800/90",side:"top",align:"end",children:[D&&(0,g.jsx)(Q.z,{color:"neutral",className:"mb-2 flex w-full border-0",onClick:eh,children:(0,g.jsxs)("div",{className:"flex w-full items-start",children:[(0,g.jsx)(N.fzv,{className:"icon-sm float-left mb-auto mr-4 mt-auto"}),(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},tb.shareYourName))})]})}),!D&&(0,g.jsx)(Q.z,{color:"neutral",className:"mb-2 flex w-full border-0",onClick:eg,children:(0,g.jsxs)("div",{className:"flex w-full items-start",children:[(0,g.jsx)(N.fzv,{className:"icon-sm float-left mb-auto mr-4 mt-auto"}),(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},tb.shareAnonymously))})]})}),V&&(0,g.jsx)(Q.z,{color:"neutral",className:"mb-2 flex w-full border-0",onClick:ef,children:(0,g.jsxs)("div",{className:"flex w-full items-start",children:[(0,g.jsx)(N.Ybf,{className:"icon-sm float-left mb-auto mr-4 mt-auto"}),(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},tb.deleteLink))})]})})]})})]})})]}),ev=W;return null==ev&&((null==G?void 0:G.has_been_auto_blocked)||(null==G?void 0:G.has_been_auto_moderated)||(null==G?void 0:G.has_been_blocked))&&(ev=(0,g.jsx)(R.Z,(0,d._)({},tb.moderationBlocked))),(0,g.jsxs)(X.Z,{isOpen:!0,onClose:function(){o()},size:"custom",className:"max-w-[550px]",type:"success",title:c.formatMessage(tb.sharingModalTitle),closeButton:(0,g.jsx)($.ZP.CloseButton,{onClose:function(){o()}}),children:[null!=ev&&(0,g.jsx)("div",{className:"mb-4 rounded-md bg-red-500 p-4 text-white",children:ev}),(0,g.jsx)("div",{className:(0,ee.default)("w-full"),children:(0,g.jsx)("p",{className:(0,ee.default)("mb-6 text-gray-500"),children:V?(0,g.jsx)(R.Z,(0,u._)((0,d._)({},tb.existingShareDescription),{values:{existingLink:function(e){return(0,g.jsx)("a",{href:F,target:"_blank",rel:"noreferrer",className:"underline",children:e})},deleteLink:function(e){return(0,g.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),window.confirm(c.formatMessage(tb.confirmDeleteLink))&&ef()},className:"underline",children:e})}}})):(0,g.jsx)(R.Z,(0,d._)({},J?tb.sharingModalBizDescription:tb.sharingModalDescription))})}),(0,g.jsx)(tC,{shouldShowCodeInterpreterDisclaimer:es,shouldShowPersonalizedDataDisclaimer:er||eo}),(0,g.jsx)(tI,{children:(0,g.jsx)("div",{className:"flex h-full max-w-full flex-1 flex-col",children:(0,g.jsx)(t_,{children:(0,g.jsxs)(tT,{children:[(0,g.jsx)(eH.f,{ratio:1.9,className:"overflow-auto bg-white dark:bg-gray-800",children:null!=Z?(0,g.jsx)(O.gB.Provider,{value:{serverSharedThreadId:null},children:(0,g.jsx)(tl,{onChangeItemInView:en(),onRequestMoreCompletions:en(),onChangeRating:en(),onRequestCompletion:en(),clientThreadId:s,conversationLeafId:Z,currentThreadModel:r,inlineEmbeddedDisplay:!0,initiallyHighlightedMessageId:L})}):(0,g.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,g.jsx)(eP.Z,{className:"text-gray-400 dark:text-gray-500"})})}),ep]})})})}),(0,g.jsx)($.ZP.Actions,{isSpacedBetween:!0,primaryButton:ec,secondaryButton:(0,g.jsx)("div",{children:(0,g.jsxs)("a",{href:J?"https://help.openai.com/en/articles/8474715-chatgpt-enterprise-shared-links-faq":"https://help.openai.com/en/articles/7925741-chatgpt-shared-links-faq",className:"flex items-center gap-2 text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",target:"_blank",rel:"noreferrer",children:[c.formatMessage(tb.sharingModalMoreInfo),(0,g.jsx)(N.AlO,{className:"icon-sm"})]})})})]})}var tC=function(e){var t=e.shouldShowCodeInterpreterDisclaimer,n=e.shouldShowPersonalizedDataDisclaimer;return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)(e2,{icon:N.H33,children:(0,g.jsx)(R.Z,(0,d._)({},tb.advancedDataAnalysisSupportDisclaimer))}),n&&(0,g.jsxs)("p",{className:"mb-6 flex flex-row gap-2.5 text-gray-500",children:[(0,g.jsx)(N.H33,{className:"icon-sm mt-1 flex-shrink-0"}),(0,g.jsx)(R.Z,(0,d._)({},tb.personalizedDataDisclaimer))]})]})},t_=F.Z.main(tf()),tT=F.Z.div(tg()),tI=F.Z.div(th()),tN=F.Z.div(tp(),function(e){return e.$active,""}),tS=F.Z.div(tv()),tP=F.Z.input(ty()),tR=F.Z.div(tk()),tE=n(94750),tF=n(60478),tD=n(74966),tL=n(76768),tA=n(41143),tZ=n(12221),tB=n(20987),tq=n(73779),tU=n(65990);function tz(e){var t=e.clientThreadId,n=e.isNewThread,a=e.currentModelId,i=e.showPromptStarters,s=e.onRequestCompletion,r=e.onNewThreadCreationFinished,o=e.promptTextareaRef,l=(0,J.B$)(),d=(0,B.qN)(function(e){var n,a,i,s,r,o;return r=(null===(a=(n=B.iN.getCurrentNode(t,e)).message)||void 0===a?void 0:a.author.role)===L.uU.User,o=(null===(i=n.metadata)||void 0===i?void 0:i.err)!=null&&(null===(s=n.metadata)||void 0===s?void 0:s.errCode)!==tF.qS.ContentPolicy,r||o});return!l&&d?(0,g.jsx)(tO,{clientThreadId:t}):(0,g.jsxs)(tL.Z,{children:[n&&(0,g.jsx)(tD.sw,{}),(0,g.jsx)(tV,{clientThreadId:t,currentModelId:a,isNewThread:n,showPromptStarters:i,onRequestCompletion:s,onNewThreadCreationFinished:r,promptTextareaRef:o})]})}function tO(e){var t=e.clientThreadId,n=(0,tB.Z)(t),a=(0,e8.WA)(t),i=(0,B.qN)(function(e){var n;return(null===(n=B.iN.getCurrentNode(t,e).metadata)||void 0===n?void 0:n.errCode)===tZ.uU}),s=(0,tZ.Y8)(function(e){return e.isoDate}),r=(0,V.w$)(),o=(0,B.oq)(t);return i&&null!=s&&""!==s?null:(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mb-3 text-center text-xs",children:(0,g.jsx)(R.Z,(0,d._)({},tW.errorGeneratingResponse))}),(0,g.jsx)("div",{className:"flex items-center md:mb-4",children:(0,g.jsxs)(Q.z,{as:"button",color:"primary",onClick:function(){n({id:o,eventMetadata:{eventSource:"mouse"},conversationMode:a})},className:"m-auto",children:[(0,g.jsx)(N.Qxo,{className:(0,ee.default)("flex-shrink-0",r?"icon-xs":"icon-sm")}),(0,g.jsx)(R.Z,(0,d._)({},tW.regenerateResponse))]})})]})}function tV(e){var t,n,a,i,s,r,o,l,d,u,c,m,x,f,h=e.clientThreadId,p=e.currentModelId,v=e.isNewThread,b=e.onRequestCompletion,w=e.onNewThreadCreationFinished,j=e.promptTextareaRef,M=e.showPromptStarters,C=(0,B.oq)(h),_=(0,B.Hk)(h),T=(0,Y.i)(),N=(0,J.Yk)(_),S=(0,e8.WA)(h),P=(0,I.useCallback)(function(e){y.A.logEvent(k.M.continueCompletion),b({type:L.Os.Continue,promptId:e,eventMetadata:{eventSource:"mouse"},cancelActiveRequests:!1,completionMetadata:{conversationMode:S}})},[b,S]),R=(0,I.useContext)(O.QL).historyDisabled,E=(0,I.useCallback)(function(e,t){var n,a=B.tQ.getTree(h);a.hasReceivedServerCompletion||R||(null===(n=a.getParent(t).metadata)||void 0===n?void 0:n.errCode)===tF.qS.ContentPolicy||setTimeout(function(){w()},500),J.hx.abortRequest(t)&&B.tQ.updateTree(h,function(e){var t=B.tQ.getThreadCurrentLeafId(h);e.updateNodeMessageMetadata(t,{finish_details:{type:"interrupted"}})})},[w,R,h]),F=(0,I.useCallback)(function(e,t,n,a,i,s){var r=B.tQ.getThreadCurrentLeafId(h);B.tQ.setNewThreadConversationModeMetadata(h,null==a?void 0:a.conversationMode),B.tQ.updateTree(h,function(n){n.addNode(e,t,r,L.uU.User,void 0,i)}),b({type:L.Os.Next,promptId:e,eventMetadata:n,cancelActiveRequests:!0,completionMetadata:a,appendMessages:s})},[h,b]),D=(0,B.lA)(h,C),q=(0,B.dz)(h,C),U=(0,J.Yk)(_),V=(0,I.useMemo)(function(){return!U&&!D&&q},[D,q,U]),W=(0,B.Kt)(h),G=(0,eC.Ml)(),Q=(0,eC.bU)(function(e){return e.displayVariant}),$=(t=v&&!W&&!(G&&Q===eC.Mo.SidebarList),i=(0,z.hz)(),r=(s=(0,e_.a)({queryKey:["promptStarters",h],queryFn:function(){return A.ZP.getSampledPromptStarter(4)},enabled:i.has(Z.Zz)&&t})).data,o=s.isLoading,l=s.isSuccess,d=(0,H.ur)(h),c=(u=(0,tq.QH)()).gizmoTemplate,m=u.mode,i.has(Z.Zz)?"test"===m&&c?{promptStarters:null!==(a=null===(n=c.config.prompt_starters)||void 0===n?void 0:n.map(function(e){return{title:"",body:e,prompt:e}}))&&void 0!==a?a:[],isLoading:!1,isSuccess:!0}:(null==d?void 0:d.config.prompt_starters)!=null&&(null==d?void 0:d.config.prompt_starters.length)>0?{promptStarters:d.config.prompt_starters.map(function(e){return{title:"",body:e,prompt:e}}),isLoading:!1,isSuccess:!0}:{promptStarters:(null==r?void 0:r.items.map(function(e){return{title:e.title,body:e.description,prompt:e.prompt}}))||[],isLoading:o,isSuccess:l}:{promptStarters:[],isLoading:!1,isSuccess:!0}),X=$.promptStarters,K=$.isSuccess,ee=(0,tU.x0)(),et=(null==ee?void 0:ee.messageId)===(null===(x=B.tQ.getTree(h).getLastValidNode(C))||void 0===x?void 0:null===(f=x.message)||void 0===f?void 0:f.id)?null==ee?void 0:ee.suggestions:M&&!W&&K?X:void 0,en=(0,te.iu)().size?T.displayingSideBySideFeedback&&T.unskippable?"feedbackRequired":null:"noModelsAvailable",ea=(0,B.r7)(h);return(0,g.jsx)(tA.ZP,{clientThreadId:h,onCreateNewCompletion:F,onAbortCompletion:E,onContinueGenerating:P,currentModelId:p,isNewThread:v,isCompletionInProgress:N,className:"stretch mx-2 flex flex-row gap-3 last:mb-2 md:mx-4 md:last:mb-6 lg:mx-auto lg:max-w-2xl xl:max-w-3xl",canContinue:V,suggestions:null!=et?et:[],disabled:!!en,disabledReason:null!=en?en:void 0,canPause:U&&"gpt-4-pbrowse"!==p,isInteractableSharedThread:ea,ref:j},h)}var tW=(0,P.vU)({errorGeneratingResponse:{id:"PromptTextarea.errorGeneratingResponse",defaultMessage:"There was an error generating a response",description:"Error message shown when the response generation fails"},regenerateResponse:{id:"PromptTextarea.regenerateResponse",defaultMessage:"Regenerate",description:"Button label for regenerating response"}});function tG(){var e=(0,x._)(["bg-yellow-200 text-yellow-900 py-0.5 px-1.5 text-xs md:text-sm rounded-md uppercase"]);return tG=function(){return e},e}function tH(){var e=(0,x._)(["bg-brand-blue-800 text-white"]);return tH=function(){return e},e}function tQ(){var e=(0,x._)(["bg-brand-green-800 text-white"]);return tQ=function(){return e},e}var tJ=F.Z.span(tG()),t$=(0,F.Z)(tJ)(tH()),tX=(0,F.Z)(tJ)(tQ()),tY=function(){var e=(0,z.ec)(z.F_.isEnterprisePlan),t=(0,z.ec)(z.F_.isTeamPlan),n=(0,z.ec)(z.F_.isPersonalWorkspace),a=(0,z.WY)();return e?(0,g.jsx)(t$,{children:(0,g.jsx)(R.Z,(0,d._)({},tK.enterprisePlanName))}):t?(0,g.jsx)(tX,{children:(0,g.jsx)(R.Z,(0,d._)({},tK.teamPlanName))}):n&&a?(0,g.jsx)(tJ,{children:"Plus"}):null},tK=(0,P.vU)({enterprisePlanName:{id:"badge.enterprisePlanName",defaultMessage:"Enterprise",description:"label for enterprise tier account"},teamPlanName:{id:"badge.teamPlanName",defaultMessage:"Team",description:"label for team tier account"}}),t0=n(75318);function t9(){var e=(0,x._)(["text-gray-800 w-full mx-auto md:max-w-2xl lg:max-w-3xl md:h-full md:flex md:flex-col px-6 dark:text-gray-100"]);return t9=function(){return e},e}function t1(){var e=(0,x._)(["text-4xl font-semibold text-center mt-6 sm:mt-[20vh] ml-auto mr-auto mb-10 sm:mb-16 flex gap-2 items-center justify-center"]);return t1=function(){return e},e}function t2(){var e=(0,x._)(["md:flex items-start text-center gap-3.5"]);return t2=function(){return e},e}function t5(){var e=(0,x._)(["flex flex-col mb-8 md:mb-auto gap-3.5 flex-1"]);return t5=function(){return e},e}function t3(){var e=(0,x._)(["flex gap-3 items-center m-auto text-lg font-normal md:flex-col md:gap-2"]);return t3=function(){return e},e}function t6(){var e=(0,x._)(["flex flex-col gap-3.5 w-full sm:max-w-md m-auto"]);return t6=function(){return e},e}function t4(){var e=(0,x._)(["w-full bg-gray-50 dark:bg-white/5 p-3 rounded-md"]);return t4=function(){return e},e}function t7(){var e=(0,x._)(["w-full bg-gray-50 dark:bg-white/5 p-3 rounded-md after:content-['\"'] before:content-['\"']"]);return t7=function(){return e},e}function t8(){var e=(0,x._)(["w-full bg-gray-50 dark:bg-white/5 p-3 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900"]);return t8=function(){return e},e}F.Z.div(t9()),F.Z.h1(t1());var ne=F.Z.div(t2()),nt=F.Z.div(t5()),nn=F.Z.h2(t3()),na=F.Z.ul(t6()),ni=F.Z.li(t4());F.Z.li(t7());var ns=F.Z.button(t8());function nr(){var e=(0,x._)(["text-4xl font-semibold text-center mt-6 sm:mt-[6vh] ml-auto mr-auto mb-4 sm:mb-16 flex gap-2 items-center justify-center"]);return nr=function(){return e},e}function no(){var e=(0,x._)(["text-gray-800 w-full mx-auto md:max-w-2xl lg:max-w-3xl md:flex md:flex-col px-6 dark:text-gray-100"]);return no=function(){return e},e}var nl=(0,P.vU)({title:{id:"Placeholder.title",description:"Title text for the Placeholder component",defaultMessage:"ChatGPT"},examplesHeader:{id:"Placeholder.examplesHeader",description:"Header text for the examples list",defaultMessage:"Examples"},capabilitiesHeader:{id:"Placeholder.capabilitiesHeader",description:"Header text for the capabilities list",defaultMessage:"Capabilities"},limitationsHeader:{id:"Placeholder.limitationsHeader",description:"Header text for the limitations list",defaultMessage:"Limitations"},quantumComputingExample:{id:"Placeholder.quantumComputingExample",description:"Example text for quantum computing explanation",defaultMessage:"Explain quantum computing in simple terms"},birthdayIdeasExample:{id:"Placeholder.birthdayIdeasExample",description:"Example text for creative birthday ideas",defaultMessage:"Got any creative ideas for a 10 year old's birthday?"},httpRequestExample:{id:"Placeholder.httpRequestExample",description:"Example text for making an HTTP request in Javascript",defaultMessage:"How do I make an HTTP request in Javascript?"},remembersEarlierConversation:{id:"Placeholder.remembersEarlierConversation",description:"Capability description for remembering earlier conversation",defaultMessage:"Remembers what user said earlier in the conversation"},allowsFollowUpCorrections:{id:"Placeholder.allowsFollowUpCorrections",description:"Capability description for allowing follow-up corrections",defaultMessage:"Allows user to provide follow-up corrections"},declinesInappropriateRequests:{id:"Placeholder.declinesInappropriateRequests",description:"Capability description for declining inappropriate requests",defaultMessage:"Trained to decline inappropriate requests"},mayGenerateIncorrectInfo:{id:"Placeholder.mayGenerateIncorrectInfo",description:"Limitation description for occasionally generating incorrect information",defaultMessage:"May occasionally generate incorrect information"},mayProduceHarmfulInstructions:{id:"Placeholder.mayProduceHarmfulInstructions",description:"Limitation description for occasionally producing harmful instructions or biased content",defaultMessage:"May occasionally produce harmful instructions or biased content"},limitedKnowledgeAfter2021:{id:"Placeholder.limitedKnowledgeAfter2021",description:"Limitation description for limited knowledge of world and events after 2021",defaultMessage:"Limited knowledge of world and events after 2021"}});function nd(e){var t=e.text,n=e.onChangeCurrentPrompt,a=(0,I.useCallback)(function(){n(t)},[t,n]);return(0,g.jsxs)(ns,{onClick:a,children:['"',t,'" →']})}function nu(e){var t=function(e){var t;null==n||null===(t=n.current)||void 0===t||t.setInputValue(e)},n=e.promptTextareaRef,a=(0,E.Z)();return(0,g.jsxs)(nm,{children:[(0,g.jsxs)(nc,{children:[(0,g.jsx)(R.Z,(0,d._)({},nl.title)),(0,g.jsx)(tY,{})]}),(0,g.jsxs)(ne,{children:[(0,g.jsxs)(nt,{children:[(0,g.jsxs)(nn,{children:[(0,g.jsx)(N.kXG,{className:"icon-lg"}),(0,g.jsx)(R.Z,(0,d._)({},nl.examplesHeader))]}),(0,g.jsxs)(na,{children:[(0,g.jsx)(nd,{text:a.formatMessage(nl.quantumComputingExample),onChangeCurrentPrompt:t}),(0,g.jsx)(nd,{text:a.formatMessage(nl.birthdayIdeasExample),onChangeCurrentPrompt:t}),(0,g.jsx)(nd,{text:a.formatMessage(nl.httpRequestExample),onChangeCurrentPrompt:t})]})]}),(0,g.jsxs)(nt,{children:[(0,g.jsxs)(nn,{children:[(0,g.jsx)(t0.Z,{className:"icon-lg"}),(0,g.jsx)(R.Z,(0,d._)({},nl.capabilitiesHeader))]}),(0,g.jsxs)(na,{children:[(0,g.jsx)(ni,{children:(0,g.jsx)(R.Z,(0,d._)({},nl.remembersEarlierConversation))}),(0,g.jsx)(ni,{children:(0,g.jsx)(R.Z,(0,d._)({},nl.allowsFollowUpCorrections))}),(0,g.jsx)(ni,{children:(0,g.jsx)(R.Z,(0,d._)({},nl.declinesInappropriateRequests))})]})]}),(0,g.jsxs)(nt,{children:[(0,g.jsxs)(nn,{children:[(0,g.jsx)(N.BJv,{className:"icon-lg"}),(0,g.jsx)(R.Z,(0,d._)({},nl.limitationsHeader))]}),(0,g.jsxs)(na,{children:[(0,g.jsx)(ni,{children:(0,g.jsx)(R.Z,(0,d._)({},nl.mayGenerateIncorrectInfo))}),(0,g.jsx)(ni,{children:(0,g.jsx)(R.Z,(0,d._)({},nl.mayProduceHarmfulInstructions))}),(0,g.jsx)(ni,{children:(0,g.jsx)(R.Z,(0,d._)({},nl.limitedKnowledgeAfter2021))})]})]})]})]})}var nc=F.Z.h1(nr()),nm=F.Z.div(no()),nx=n(80984),nf=n(20485),ng=n(13246),nh=n(50362),np=n(96251),nv=n(19253),ny=n(89319);function nk(){var e=(0,x._)(["flex p-4 bg-gray-50 dark:bg-white/5 rounded-md items-center gap-4 min-h-[71px]"]);return nk=function(){return e},e}function nb(){var e=(0,x._)(["w-10 text-2xl text-center"]);return nb=function(){return e},e}function nw(){var e=(0,x._)(["flex-1 leading-5"]);return nw=function(){return e},e}function nj(){var e=(0,x._)(["flex gap-4 flex-col text-sm"]);return nj=function(){return e},e}function nM(e){var t=e.icon,n=e.children;return(0,g.jsxs)(nC,{children:[(0,g.jsx)(n_,{children:t}),(0,g.jsx)(nT,{children:n})]})}var nC=F.Z.div(nk()),n_=F.Z.div(nb()),nT=F.Z.div(nw()),nI=F.Z.div(nj()),nN=n(64898);function nS(){var e=(0,x._)(["mt-4 flex flex-col gap-4"]);return nS=function(){return e},e}function nP(){var e=(0,x._)(["text-sm text-red-500"]);return nP=function(){return e},e}var nR=F.Z.div(nS()),nE=F.Z.div(nP()),nF=n(35808),nD=(0,P.vU)({enterWebsiteDomainTitle:{id:"DevelopPluginModal.enterWebsiteDomainTitle",description:"Title for the section where users enter their website domain",defaultMessage:"Enter your website domain"},learnToBuildPlugin:{id:"DevelopPluginModal.learnToBuildPlugin",description:"Text for the link directing users to the plugin documentation",defaultMessage:"Visit our documentation to learn how to build a plugin."},pluginApprovalWarning:{id:"DevelopPluginModal.pluginApprovalWarning",description:"Warning about plugin review process if the manifest is modified",defaultMessage:"If your plugin has been approved to be in the ChatGPT plugin store, and you have made changes to your plugin's manifest, your plugin will be removed from the store, and you will need to <resubmitLink>resubmit it for review</resubmitLink>."},domainInputPlaceholder:{id:"DevelopPluginModal.domainInputPlaceholder",description:"Placeholder text for the domain input field",defaultMessage:"ex: openai.com or localhost:3000"},authenticationFileText:{id:"DevelopPluginModal.authenticationFileText",description:"Text for the link to expand authentication settings",defaultMessage:"My file requires authentication"},authenticationTypeText:{id:"DevelopPluginModal.authenticationTypeText",description:"Label for the section to choose authentication type",defaultMessage:"Authentication type"},accessTokenText:{id:"DevelopPluginModal.accessTokenText",description:"Label for the section to input the access token",defaultMessage:"Access token"},findManifestFileText:{id:"DevelopPluginModal.findManifestFileText",description:"Button text to find the manifest file",defaultMessage:"Find manifest file"},cancelButtonText:{id:"DevelopPluginModal.cancelButtonText",description:"Button text for the cancel button",defaultMessage:"Cancel"},domainDisplayName:{id:"DevelopPluginModal.domainDisplayName",description:"Display name for the domain input",defaultMessage:"Domain"},bearerLabel:{id:"DevelopPluginModal.bearerLabel",description:"Label for the Bearer authentication type radio button",defaultMessage:"Bearer"},basicLabel:{id:"DevelopPluginModal.basicLabel",description:"Label for the Basic authentication type radio button",defaultMessage:"Basic"},refetchManifestButtonText:{id:"DevelopPluginModal.refetchManifestButtonText",description:"Button text for refetching the manifest",defaultMessage:"Refetch manifest"},installLocalhostPluginButtonText:{id:"DevelopPluginModal.installLocalhostPluginButtonText",description:"Button text for installing localhost plugin",defaultMessage:"Install localhost plugin"},nextButtonText:{id:"DevelopPluginModal.nextButtonText",description:"Button text for the next step",defaultMessage:"Next"},foundPluginTitle:{id:"DevelopPluginModal.foundPluginTitle",description:"Title for the modal when a plugin is found",defaultMessage:"Found plugin"},enterServiceAccessTokenLabel:{id:"DevelopPluginModal.enterServiceAccessTokenLabel",description:"Label for entering the service access token",defaultMessage:"Enter your service access token:"},enterOAuthCredentialsLabel:{id:"DevelopPluginModal.enterOAuthCredentialsLabel",description:"Label for entering OAuth credentials",defaultMessage:"Enter your OAuth credentials:"},addVerificationTokenTitle:{id:"DevelopPluginModal.addVerificationTokenTitle",description:"Title for the modal when adding verification tokens",defaultMessage:"Add verification token"},verifyTokensButtonText:{id:"DevelopPluginModal.verifyTokensButtonText",description:"Button text for verifying tokens",defaultMessage:"Verify tokens"},addTokensLaterButtonText:{id:"DevelopPluginModal.addTokensLaterButtonText",description:"Button text for adding tokens later",defaultMessage:"I'll add the tokens later"},addVerificationTokensText:{id:"DevelopPluginModal.addVerificationTokensText",description:"Text for adding verification tokens to the manifest file",defaultMessage:"Add the following verification tokens to your manifest file:"},readyToInstallTitle:{id:"DevelopPluginModal.readyToInstallTitle",description:"Title for the modal when the plugin is ready to install",defaultMessage:"Ready to install"},installForMeButtonText:{id:"DevelopPluginModal.installForMeButtonText",description:"Button text for installing the plugin for the user",defaultMessage:"Install for me"},installLaterButtonText:{id:"DevelopPluginModal.installLaterButtonText",description:"Button text for installing the plugin later",defaultMessage:"Install later"},unverifiedPluginText:{id:"DevelopPluginModal.unverifiedPluginText",description:"Text about the unverified plugin being installed by a limited number of developers",defaultMessage:"Your unverified plugin can now be installed by <developersLink>up to 15 developers</developersLink>. Once you're ready to make your plugin available to everyone, you can <submitPluginLink>submit your plugin for review</submitPluginLink>."}});function nL(e){var t=e.onClickInstall,n=e.onInstallLocalhost,a=e.onClose,i=(0,m._)((0,I.useState)(),2),s=i[0],r=i[1],o=(0,m._)((0,I.useState)(),2),l=o[0],d=o[1],u=(0,m._)((0,I.useState)(!1),2),c=u[0],x=u[1],f=(0,I.useCallback)(function(e){r(e)},[]),h=(0,I.useCallback)(function(){x(!0)},[]);return c&&(null==s?void 0:s.scrapeManifestResponse.plugin)?(0,g.jsx)(nU,{plugin:null==s?void 0:s.scrapeManifestResponse.plugin,onClickInstall:t,onClose:a}):l&&(null==s?void 0:s.scrapeManifestResponse.plugin)?(0,g.jsx)(nq,{plugin:s.scrapeManifestResponse.plugin,manifestAccessToken:s.manifestAccessToken,verificationTokens:l,onReadyToInstall:h,onClose:a}):s?(0,g.jsx)(nB,{loadManifestResult:s,onRefetch:f,onSubmitAuthInfo:d,onReadyToInstall:h,onInstallLocalhost:n,onClose:a}):(0,g.jsx)(nA,{onFetch:f,onClose:a})}function nA(e){var t=e.onFetch,n=e.onClose,a=(0,E.Z)(),i=(0,z.aF)(),s=(0,m._)((0,I.useState)(!1),2),r=s[0],o=s[1],c=(0,m._)((0,I.useState)("bearer"),2),x=c[0],h=c[1],p=(0,m._)((0,I.useState)(),2),y=p[0],k=p[1],b=(0,I.useRef)(null),w=(0,I.useRef)(null),j=(0,nN.useFetchManifestAndSpec)(),M=j.fetchManifestAndSpec,C=j.isLoading;(0,I.useEffect)(function(){var e;null===(e=b.current)||void 0===e||e.focus()},[]);var _=(0,I.useCallback)(function(){o(function(e){return!e})},[]),T=(0,I.useCallback)(function(e){h(e.target.value)},[]),S=(0,I.useCallback)((0,l._)(function(){var e,n,i;return(0,f.Jh)(this,function(s){return(i=null===(e=b.current)||void 0===e?void 0:e.value)?(M({domain:i,manifestAccessToken:r?{authorization_type:x,token:(null===(n=w.current)||void 0===n?void 0:n.value)||""}:void 0,onSuccess:t,onError:function(e){return k((null==e?void 0:e.message)||"Couldn't find manifest.")}}),[2]):(k(a.formatMessage(nD.domainInputPlaceholder)),[2])})}),[M,t,x,r,a]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:n,type:"success",title:(0,g.jsx)(R.Z,(0,d._)({},nD.enterWebsiteDomainTitle)),primaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(nD.findManifestFileText),color:"primary",onClick:S,loading:C}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(nD.cancelButtonText),color:"neutral",onClick:n}),children:(0,g.jsxs)(nR,{children:[(0,g.jsx)("a",{href:"https://platform.openai.com/docs/plugins/getting-started",target:"_blank",rel:"noreferrer",className:"text-green-600",children:(0,g.jsx)(R.Z,(0,d._)({},nD.learnToBuildPlugin))}),(0,g.jsx)(nM,{icon:"\uD83D\uDEA8",children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},nD.pluginApprovalWarning),{values:{resubmitLink:function(e){return(0,g.jsx)("a",{target:"_blank",rel:"noreferrer",className:"text-green-600",href:"https://platform.openai.com/docs/plugins/review/submit-a-plugin-for-review",children:e})}}}))}),(0,g.jsx)(ny.Z,{ref:b,name:"url",displayName:a.formatMessage(nD.domainDisplayName),placeholder:a.formatMessage(nD.domainInputPlaceholder),onPressEnter:S,autoFocus:!0}),null!=i&&(0,v.yl)(i)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{role:"button",className:"flex cursor-pointer items-center gap-1 text-sm text-black/60 hover:text-black/70",onClick:_,children:[(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},nD.authenticationFileText))}),r?(0,g.jsx)(N.rH8,{className:"icon-sm"}):(0,g.jsx)(N.bTu,{className:"icon-sm"})]}),r&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:[(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},nD.authenticationTypeText))}),(0,g.jsxs)("div",{className:"flex gap-6",children:[(0,g.jsx)(nZ,{label:a.formatMessage(nD.bearerLabel),value:"bearer",checked:"bearer"===x,onChange:T}),(0,g.jsx)(nZ,{label:a.formatMessage(nD.basicLabel),value:"basic",checked:"basic"===x,onChange:T})]})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:[(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},nD.accessTokenText))}),(0,g.jsx)(ny.Z,{ref:w,name:"manifestToken",onPressEnter:S})]})]})]}),y&&(0,g.jsx)(nE,{children:y})]})})}function nZ(e){var t=e.label,n=e.value,a=e.checked,i=e.onChange;return(0,g.jsxs)("label",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{name:"manifestAuthType",type:"radio",value:n,checked:a,onChange:i,className:"text-green-600 focus:ring-green-600"}),t]})}function nB(e){var t=e.loadManifestResult,n=e.onRefetch,a=e.onSubmitAuthInfo,i=e.onReadyToInstall,s=e.onInstallLocalhost,r=e.onClose,o=(0,E.Z)(),u=t.domain,c=t.manifestAccessToken,x=t.scrapeManifestResponse,h=t.apiValidationInfo,p=x.plugin,v=x.manifest_validation_info,y=(0,m._)((0,I.useState)(),2),k=y[0],b=y[1],w=(0,m._)((0,I.useState)(!1),2),j=w[0],M=w[1],C=(0,I.useRef)(null),_=(0,I.useRef)(null),T=(0,I.useRef)(null),N=(0,nN.useFetchManifestAndSpec)(),S=N.fetchManifestAndSpec,P=N.isLoading,F=(0,eT.NL)(),D=p&&(0,np.cf)(p),L=(null==p?void 0:p.manifest.auth.type)==="service_http",Z=(null==p?void 0:p.manifest.auth.type)==="oauth",B=v.errors&&v.errors.length>0||(null==h?void 0:h.errors)&&(null==h?void 0:h.errors.length)>0,q=(0,I.useCallback)((0,l._)(function(){var e,t,o,l,d;return(0,f.Jh)(this,function(m){switch(m.label){case 0:if(!B)return[3,1];return S({domain:u,manifestAccessToken:c,onSuccess:n,onError:function(e){return b((null==e?void 0:e.message)||"Couldn't find manifest.")}}),[3,15];case 1:if(!D)return[3,2];return(0,nN.addToCachedInstalledPlugins)(p,F),s(p),[3,15];case 2:if(!L)return[3,8];if(!(null===(e=C.current)||void 0===e?void 0:e.value))return b("Please provide your service access token."),[2];m.label=3;case 3:return m.trys.push([3,5,6,7]),M(!0),[4,A.ZP.setPluginServiceHttpToken({id:p.id,serviceAccessToken:C.current.value})];case 4:return a(m.sent().verification_tokens),[3,7];case 5:return m.sent(),b("Error setting access token."),[3,7];case 6:return M(!1),[7];case 7:return[3,15];case 8:if(!Z)return[3,14];if(l=null===(t=_.current)||void 0===t?void 0:t.value,d=null===(o=T.current)||void 0===o?void 0:o.value,!l||!d)return b("Please provide your OAuth credentials."),[2];m.label=9;case 9:return m.trys.push([9,11,12,13]),[4,A.ZP.setPluginOAuthClientCredentials({id:p.id,clientId:_.current.value,clientSecret:T.current.value})];case 10:return a(m.sent().verification_tokens),[3,13];case 11:return m.sent(),b("Error setting OAuth credentials."),[3,13];case 12:return M(!1),[7];case 13:return[3,15];case 14:p?i(p):r(),m.label=15;case 15:return[2]}})}),[L,Z,p,u,c,B,D,F,S,n,a,i,s,r]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:r,type:"success",title:(0,g.jsx)(R.Z,(0,d._)({},nD.foundPluginTitle)),primaryButton:(0,g.jsx)($.ZP.Button,{title:B?o.formatMessage(nD.refetchManifestButtonText):D?o.formatMessage(nD.installLocalhostPluginButtonText):o.formatMessage(nD.nextButtonText),color:"primary",onClick:q,loading:j||P}),secondaryButton:(B||L||Z)&&(0,g.jsx)($.ZP.Button,{title:o.formatMessage(nD.cancelButtonText),color:"neutral",onClick:r}),children:(0,g.jsxs)(nR,{children:[(0,g.jsx)(nF.rC,{manifestValidationInfo:v}),h&&(0,g.jsx)(nF.q6,{apiValidationInfo:h}),p&&(0,g.jsx)(eB.Z,{plugin:p}),L&&!B&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"text-sm",children:(0,g.jsx)(R.Z,(0,d._)({},nD.enterServiceAccessTokenLabel))}),(0,g.jsx)("div",{className:"mt-2",children:(0,g.jsx)(ny.Z,{ref:C,name:"serviceToken",placeholder:"Service access token",autoComplete:"off",onPressEnter:q,autoFocus:!0})})]}),Z&&!B&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"text-sm",children:(0,g.jsx)(R.Z,(0,d._)({},nD.enterOAuthCredentialsLabel))}),(0,g.jsx)("div",{className:"mt-2",children:(0,g.jsx)(ny.Z,{ref:_,name:"clientId",placeholder:"Client ID",autoComplete:"off",onPressEnter:q,autoFocus:!0})}),(0,g.jsx)("div",{className:"mt-2",children:(0,g.jsx)(ny.Z,{ref:T,type:"password",name:"clientSecret",placeholder:"Client secret",autoComplete:"off",onPressEnter:q})})]}),k&&(0,g.jsx)(nE,{children:k})]})})}function nq(e){var t=e.plugin,n=e.manifestAccessToken,a=e.verificationTokens,i=e.onReadyToInstall,s=e.onClose,r=(0,E.Z)(),o=(0,m._)((0,I.useState)(),2),u=o[0],c=o[1],x=(0,m._)((0,I.useState)(!1),2),h=x[0],p=x[1],v=(0,I.useCallback)((0,l._)(function(){var e,s;return(0,f.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),p(!0),[4,A.ZP.scrapePluginManifest({domain:t.domain,manifestAccessToken:n})];case 1:if(e=r.sent().plugin){for(var o in s="service_http"===e.manifest.auth.type||"oauth"===e.manifest.auth.type?e.manifest.auth.verification_tokens:{},a)if(a[o]!==s[o])return c('Please add the "'.concat(o,'" token to your manifest file.')),[2];i(e)}else c("Error creating plugin.");return[3,4];case 2:return r.sent(),c("Error creating plugin."),[3,4];case 3:return p(!1),[7];case 4:return[2]}})}),[t,n,a,i]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:s,type:"success",title:(0,g.jsx)(R.Z,(0,d._)({},nD.addVerificationTokenTitle)),primaryButton:(0,g.jsx)($.ZP.Button,{title:r.formatMessage(nD.verifyTokensButtonText),color:"primary",onClick:v,loading:h}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:r.formatMessage(nD.addTokensLaterButtonText),color:"neutral",onClick:s}),children:(0,g.jsxs)(nR,{children:[(0,g.jsx)(eB.Z,{plugin:t}),(0,g.jsx)("div",{className:"text-sm",children:(0,g.jsx)(R.Z,(0,d._)({},nD.addVerificationTokensText))}),(0,g.jsx)("pre",{className:"text-sm",children:JSON.stringify(a,null)}),u&&(0,g.jsx)(nE,{children:u})]})})}function nU(e){var t=e.plugin,n=e.onClickInstall,a=e.onClose,i=(0,E.Z)(),s=(0,I.useCallback)(function(){n(t)},[t,n]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:a,type:"success",title:(0,g.jsx)(R.Z,(0,d._)({},nD.readyToInstallTitle)),primaryButton:(0,g.jsx)($.ZP.Button,{title:i.formatMessage(nD.installForMeButtonText),color:"primary",onClick:s}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:i.formatMessage(nD.installLaterButtonText),color:"neutral",onClick:a}),children:(0,g.jsx)(nR,{children:(0,g.jsx)("div",{className:"text-sm",children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},nD.unverifiedPluginText),{values:{developersLink:function(e){return(0,g.jsx)("a",{href:"https://platform.openai.com/docs/plugins/production/can-i-invite-people-to-try-my-plugin",target:"_blank",rel:"noreferrer",className:"text-green-600",children:e})},submitPluginLink:function(e){return(0,g.jsx)("a",{href:"https://platform.openai.com/docs/plugins/review/submit-a-plugin-for-review",target:"_blank",rel:"noreferrer",className:"text-green-600",children:e})}}}))})})})}var nz=(0,P.vU)({title:{id:"InstallUnverifiedDisclaimerModal.title",defaultMessage:"Unverified plugin",description:"Title for the Install Unverified Disclaimer Modal"},continue:{id:"InstallUnverifiedDisclaimerModal.continue",defaultMessage:"Continue",description:"Primary action button for proceeding with installation"},cancel:{id:"InstallUnverifiedDisclaimerModal.cancel",defaultMessage:"Cancel",description:"Secondary action button for cancelling the installation"},warning:{id:"InstallUnverifiedDisclaimerModal.warning",defaultMessage:"OpenAI hasn't vetted this plugin. This plugin may pose risks to your information. Be sure you trust this plugin before proceeding.",description:"Warning message about unverified plugins"}});function nO(e){var t=e.onConfirm,n=e.onClose,a=(0,E.Z)();return(0,g.jsx)(X.Z,{isOpen:!0,onClose:n,type:"success",title:a.formatMessage(nz.title),primaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(nz.continue),color:"primary",onClick:t}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(nz.cancel),color:"neutral",onClick:n}),children:(0,g.jsx)(nR,{children:(0,g.jsx)(nI,{children:(0,g.jsx)(nM,{icon:"\uD83D\uDEA8",children:(0,g.jsx)(R.Z,(0,d._)({},nz.warning))})})})})}function nV(e){var t=e.plugin,n=e.onInstall,a=e.onClose,i=(0,m._)((0,I.useState)(!1),2),s=i[0],r=i[1],o=(0,m._)((0,I.useState)(t),2),l=o[0],d=o[1],u=(0,I.useCallback)(function(){r(!0)},[]);return l?s?(0,g.jsx)(nG,{plugin:l,onInstall:n,onClose:a}):(0,g.jsx)(nO,{onConfirm:u,onClose:a}):(0,g.jsx)(nW,{onLoad:d,onClose:a})}function nW(e){var t=e.onLoad,n=e.onClose,a=(0,E.Z)(),i=(0,I.useRef)(null),s=(0,m._)((0,I.useState)(!1),2),r=s[0],o=s[1],u=(0,m._)((0,I.useState)(),2),c=u[0],x=u[1];(0,I.useEffect)(function(){setTimeout(function(){var e;null===(e=i.current)||void 0===e||e.focus()},50)},[]);var h=(0,I.useCallback)((0,l._)(function(){var e,n,a;return(0,f.Jh)(this,function(s){switch(s.label){case 0:if(!(n=null===(e=i.current)||void 0===e?void 0:e.value))return x("Please provide a URL."),[2];if((0,np.NB)(n))return x('To add a localhost plugin, please go to "Develop your own plugin."'),[2];s.label=1;case 1:return s.trys.push([1,3,4,5]),o(!0),[4,A.ZP.getPluginByDomain({domain:n})];case 2:return(a=s.sent())?t(a):x("That plugin doesn't exist."),[3,5];case 3:return s.sent(),x("Couldn't find plugin."),[3,5];case 4:return o(!1),[7];case 5:return[2]}})}),[t,o,x]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:n,type:"success",title:a.formatMessage(nH.installUnverifiedPluginTitle),primaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(nH.findPlugin),color:"primary",onClick:h,loading:r}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(nH.cancel),color:"neutral",onClick:n}),children:(0,g.jsxs)(nR,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,d._)({},nH.pleaseProvideDomain))}),(0,g.jsx)(ny.Z,{ref:i,name:"url",placeholder:"openai.com",onPressEnter:h}),c&&(0,g.jsx)(nE,{children:c})]})})}function nG(e){var t=e.plugin,n=e.onInstall,a=e.onClose,i=(0,E.Z)(),s=(0,m._)((0,I.useState)(),2),r=s[0],o=s[1],c=(0,m._)((0,I.useState)(!1),2),x=c[0],h=c[1],p=(0,I.useRef)(null),v=(0,nN.useInstallPlugin)({onSuccess:function(e){n(e),a()},onError:function(e){o("Couldn't install plugin.")}}),y=t.manifest.name_for_human,k="user_http"===t.manifest.auth.type,b="oauth"===t.manifest.auth.type,w=(0,I.useCallback)((0,l._)(function(){return(0,f.Jh)(this,function(e){if(b)(0,nN.doOauthRedirect)(t);else try{h(!0),v(t.id)}catch(e){o("Couldn't install plugin.")}finally{h(!1)}return[2]})}),[t,b,v]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:a,type:"success",title:i.formatMessage(nH.unverifiedPluginTitle),primaryButton:(0,g.jsx)($.ZP.Button,{title:b?i.formatMessage(nH.loginWithPlugin,{pluginName:y}):i.formatMessage(nH.installPlugin),color:"primary",onClick:w,loading:x}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:i.formatMessage(nH.cancel),color:"neutral",onClick:a}),children:(0,g.jsxs)(nR,{children:[(0,g.jsx)(eB.Z,{plugin:t}),k&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"text-sm",children:t.manifest.auth.instructions||(0,g.jsx)(R.Z,(0,d._)({},nH.enterHttpAccessToken))}),(0,g.jsx)("div",{className:"mt-2",children:(0,g.jsx)(ny.Z,{ref:p,type:"password",name:"token",placeholder:"Enter your credentials",autoComplete:"off",onPressEnter:w})})]}),b&&(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},nH.youWillBeRedirected),{values:{pluginName:(0,g.jsx)("span",{className:"font-medium",children:y})}}))}),r&&(0,g.jsx)(nE,{children:r})]})})}var nH=(0,P.vU)({installUnverifiedPluginTitle:{id:"InstallPluginModal.installUnverifiedPluginTitle",description:"Title for the Install an Unverified Plugin modal",defaultMessage:"Install an unverified plugin"},pleaseProvideDomain:{id:"InstallPluginModal.pleaseProvideDomain",description:"Text asking the user to provide the website domain of the unverified plugin",defaultMessage:"Please provide the website domain of the unverified plugin you'd like to install."},findPlugin:{id:"InstallPluginModal.findPlugin",description:"Text for the Find Plugin button",defaultMessage:"Find plugin"},cancel:{id:"InstallPluginModal.cancel",description:"Text for the Cancel button",defaultMessage:"Cancel"},unverifiedPluginTitle:{id:"InstallPluginModal.unverifiedPluginTitle",description:"Title for the Unverified Plugin modal",defaultMessage:"Unverified plugin"},loginWithPlugin:{id:"InstallPluginModal.loginWithPlugin",description:"Text for the Log in with plugin button",defaultMessage:"Log in with {pluginName}"},installPlugin:{id:"InstallPluginModal.installPlugin",description:"Text for the Install Plugin button",defaultMessage:"Install plugin"},enterHttpAccessToken:{id:"InstallPluginModal.enterHttpAccessToken",description:"Text asking user to enter their HTTP access token",defaultMessage:"Enter your HTTP access token below:"},youWillBeRedirected:{id:"InstallPluginModal.youWillBeRedirected",description:"Text informing the user they will be redirected to the plugin's login page",defaultMessage:"You will be redirected to {pluginName} to log in."}}),nQ=n(96237),nJ=n(89678),n$=n.n(nJ),nX=n(96096),nY=n(56457),nK=n(21613);(a=s||(s={}))[a.All=0]="All",a[a.Installed=1]="Installed",(i=r||(r={})).New="newly_added",i.Popular="most_popular";var n0=[{id:r.Popular,title:"Popular"},{id:r.New,title:"New"},{id:s.All,title:"All"},{id:s.Installed,title:"Installed"}],n9=(0,P.vU)({prev:{id:"PaginationControls.prev",defaultMessage:"Prev",description:"Label for the previous page button in the pagination controls"},next:{id:"PaginationControls.next",defaultMessage:"Next",description:"Label for the next page button in the pagination controls"}});function n1(e){var t=e.page,n=e.numPages,a=e.goToPage,i=t>0,s=t<n-1,r=(0,I.useCallback)(function(){a(Math.max(t-1,0))},[t,a]),o=(0,I.useCallback)(function(){a(Math.min(t+1,n-1))},[t,n,a]),l=[],u=!0,c=!1,m=void 0;try{for(var x,f=(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=Math.max(0,t-n+1);if(0===a)return n2(0,t);var i=n2(0,e),s=n2(e+1,t);if(a<s.length-1)s.splice(Math.floor((s.length-a)/2),a,-1);else if(a<i.length-1)i.splice(Math.floor((i.length-a)/2),a,-1);else{var r=Math.min(s.length-3,a),o=a-r+1;s.splice(Math.floor((s.length-r)/2),r,-1),i.splice(Math.floor((i.length-o)/2),o,-2)}return(0,K._)(i).concat([e],(0,K._)(s))})(t,n)[Symbol.iterator]();!(u=(x=f.next()).done);u=!0)!function(){var e=x.value;e<0?l.push((0,g.jsx)("div",{role:"button",className:"flex h-5 w-5 items-center justify-center",children:"…"},"ellipsis-".concat(e))):l.push((0,g.jsx)(al,{role:"button",className:(0,ee.default)("flex h-5 w-5 items-center justify-center",e===t&&"text-blue-600 hover:text-blue-600 dark:text-blue-600 dark:hover:text-blue-600"),onClick:function(){return a(e)},children:e+1},e))}()}catch(e){c=!0,m=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw m}}return(0,g.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-black/60 dark:text-white/70",children:[(0,g.jsxs)(al,{role:"button",className:(0,ee.default)("flex items-center",!i&&"opacity-50"),onClick:r,$disabled:!i,children:[(0,g.jsx)(N.YFh,{className:"icon-sm"}),(0,g.jsx)(R.Z,(0,d._)({},n9.prev))]}),l,(0,g.jsxs)(al,{role:"button",className:(0,ee.default)("flex items-center",!s&&"opacity-50"),onClick:o,$disabled:!s,children:[(0,g.jsx)(R.Z,(0,d._)({},n9.next)),(0,g.jsx)(N.Tfp,{className:"icon-sm"})]})]})}function n2(e,t){return Array.from({length:t-e},function(t,n){return n+e})}var n5=(0,P.vU)({title:{id:"RequiresMfaModal.title",defaultMessage:"Enable two-factor authentication",description:"Title for the modal to enable two-factor authentication"},enableMfaButton:{id:"RequiresMfaModal.enableMfaButton",defaultMessage:"Enable two-factor authentication",description:"Label for the button to enable two-factor authentication"},cancelButton:{id:"RequiresMfaModal.cancelButton",defaultMessage:"Cancel",description:"Label for the cancel button"},disclaimer:{id:"RequiresMfaModal.disclaimer",defaultMessage:"This plugin requires you to have two-factor authentication enabled for additional security. Please set up two-factor authentication and try again.",description:"Disclaimer text informing the user that the plugin requires two-factor authentication"}});function n3(e){var t=e.onClose,n=(0,eZ.S)().setupMfa,a=(0,E.Z)();return(0,g.jsx)(X.Z,{isOpen:!0,onClose:t,type:"success",title:a.formatMessage(n5.title),primaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(n5.enableMfaButton),color:"primary",onClick:n}),secondaryButton:(0,g.jsx)($.ZP.Button,{title:a.formatMessage(n5.cancelButton),color:"neutral",onClick:t}),children:(0,g.jsx)(nR,{children:(0,g.jsx)(nI,{children:(0,g.jsx)(nM,{icon:"\uD83D\uDEA8",children:(0,g.jsx)(R.Z,(0,d._)({},n5.disclaimer))})})})})}function n6(){var e=(0,x._)(["text-sm text-black/70 dark:text-white/70 whitespace-nowrap ",""]);return n6=function(){return e},e}function n4(){var e=(0,x._)(["hidden h-4 border-l border-black/30 dark:border-white/30 sm:block"]);return n4=function(){return e},e}var n7=(o={},(0,nQ._)(o,V._G.Mobile,8),(0,nQ._)(o,V._G.Small,4),(0,nQ._)(o,V._G.Medium,4),(0,nQ._)(o,V._G.Large,6),(0,nQ._)(o,V._G.XLarge,8),o),n8=(0,P.vU)({title:{id:"PluginStoreModal.title",defaultMessage:"Plugin store",description:"Title of the plugin store"},searchPlaceholder:{id:"PluginStoreModal.searchPlaceholder",defaultMessage:"Search plugins",description:"Placeholder text for the plugin store search bar"},noSearchResultsTitle:{id:"PluginStoreModal.noSearchResults",defaultMessage:'No plugins found for "{query}"',description:"Message shown when no plugins are found for a search query"},noSearchResultsHint:{id:"PluginStoreModal.noSearchResultsHint",defaultMessage:"Try a different query or category",description:"Hint shown when no plugins are found for a search query"},installUnverifiedPlugin:{id:"PluginStoreModal.installUnverifiedPlugin",defaultMessage:"Install an unverified plugin",description:"Link to dialog to install an unverified plugin"},developPlugin:{id:"PluginStoreModal.developPlugin",defaultMessage:"Develop your own plugin",description:"Link to dialog to develop your own plugin"},aboutPlugins:{id:"PluginStoreModal.aboutPlugins",defaultMessage:"About plugins",description:"Link to learn more about plugins"},install:{id:"PluginStoreModal.card.install",defaultMessage:"Install",description:"Button to install a plugin"},uninstall:{id:"PluginStoreModal.card.uninstall",defaultMessage:"Uninstall",description:"Button to uninstall a plugin"},installing:{id:"PluginStoreModal.card.installing",defaultMessage:"Installing",description:"Status label when installing a plugin"},uninstalling:{id:"PluginStoreModal.card.uninstalling",defaultMessage:"Uninstalling",description:"Status label when uninstalling a plugin"},developerInfo:{id:"PluginStoreModal.card.developerInfo",defaultMessage:"Developer info",description:"Label for plugin developer information"}}),ae=r.Popular;function at(e){var t,n,a,i=e.onInstallWithAuthRequired,r=e.onClickInstallDeveloper,o=e.onClickDevelop,l=e.onClickAbout,u=e.onClose,c=(0,E.Z)(),x=(0,z.hz)(),f=(0,m._)((0,I.useState)(ae),2),h=f[0],p=f[1],v=(0,m._)((0,I.useState)(""),2),y=v[0],k=v[1],b=(0,m._)((0,I.useState)(""),2),w=b[0],j=b[1],M=(n=(t=(0,nK.C)()).isLoading,a=t.installedPlugins,{availableFilters:(0,I.useMemo)(function(){return n0.filter(function(e){return e.id!==s.Installed||a.length>0})},[a]),isLoading:n}).availableFilters;(0,I.useEffect)(function(){M.some(function(e){return e.id===h})||p(ae)},[h,M]);var C=(0,I.useCallback)(n$()(function(e){j(e)},300),[]);return(0,g.jsx)(X.Z,{isOpen:!0,onClose:u,size:"custom",className:"w-full max-w-7xl bg-gray-50 md:min-w-[672px] lg:min-w-[896px] xl:min-w-[1024px]",type:"success",title:c.formatMessage(n8.title),closeButton:(0,g.jsx)($.ZP.CloseButton,{onClose:u}),children:(0,g.jsxs)(nR,{children:[M.length>1&&(0,g.jsxs)("div",{className:"flex flex-wrap gap-3",children:[M.map(function(e){return(0,g.jsx)(aa,{selected:h===e.id,onClick:function(){p(e.id)},children:e.title},e.id)}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,g.jsx)(N.jRj,{className:"icon-md text-gray-500 dark:text-gray-400"})}),(0,g.jsx)(ny.Z,{className:"pl-10",autoFocus:!0,type:"search",placeholder:c.formatMessage(n8.searchPlaceholder),value:y,onChange:function(e){k(e.target.value),p(s.All),C(e.target.value)},name:"search"})]})]}),(0,g.jsx)(an,{filter:h,query:w,onInstallWithAuthRequired:i,children:(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[x.has("tools3_dev")&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(al,{onClick:r,children:(0,g.jsx)(R.Z,(0,d._)({},n8.installUnverifiedPlugin))}),(0,g.jsx)(ad,{}),(0,g.jsx)(al,{onClick:o,children:(0,g.jsx)(R.Z,(0,d._)({},n8.developPlugin))}),(0,g.jsx)(ad,{})]}),(0,g.jsx)(al,{onClick:l,children:(0,g.jsx)(R.Z,(0,d._)({},n8.aboutPlugins))})]})})]})})}function an(e){var t=e.filter,n=e.query,a=e.onInstallWithAuthRequired,i=e.children,r=n7[(0,V.dQ)()],o=(0,m._)((0,I.useState)(0),2),l=o[0],d=o[1],u=function(e){var t=e.filter,n=e.query,a=e.page,i=e.pageSize,r=(0,nY.Z)({category:function(e){if(e!==s.All&&e!==s.Installed)return e}(t),search:n,offset:i*a,limit:i}),o=r.data,l=r.isLoading,d=(0,nK.C)(),u=d.installedPlugins,c=d.isLoading,m=(0,I.useMemo)(function(){return""!==n?u.map(function(e){return{plugin:e,score:function(e,t){var n=t.toLowerCase(),a=n.trim().split(/\s+/),i=e.manifest.description_for_human.toLowerCase(),s=e.manifest.name_for_human.toLowerCase(),r=0;if(s===n||e.domain.toLowerCase()===n)return 1e3;if(s.startsWith(n))return 500;if(s.includes(n))return 100;var o=!0,l=!1,d=void 0;try{for(var u,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var m=u.value;if(s.startsWith(m))r+=50;else if(s.includes(m))r+=10;else{if(!i.includes(m))return 0;r+=1}}}catch(e){l=!0,d=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw d}}return r}(e,n)}}).filter(function(e){return e.score>0}).sort(function(e,t){return t.score-e.score}).map(function(e){return e.plugin}):u.sort(function(e,t){return e.manifest.name_for_human.localeCompare(t.manifest.name_for_human)})},[u,n]);if(t===s.Installed){var x,f,g,h,p,v,y=(f=(x={page:a,items:m,pageSize:i}).page,g=x.items,h=x.pageSize,p=Math.ceil(g.length/h),v=f*h,{pagesTotal:p,pageItems:g.slice(v,v+h)});return{isLoading:c,items:y.pageItems,pagesTotal:y.pagesTotal}}var k=null!=o?o:{count:void 0,items:void 0},b=k.count;return{isLoading:l,items:k.items,pagesTotal:void 0!==b?Math.ceil(b/i):void 0}}({pageSize:r,filter:t,query:n,page:l}),c=u.isLoading,x=u.items,f=u.pagesTotal;(0,I.useEffect)(function(){d(0)},[t,n]);var h=(0,m._)((0,I.useState)(!1),2),p=h[0],v=h[1];return p?(0,g.jsx)(n3,{onClose:function(){v(!1)}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ai,{plugins:null!=x?x:[],numSkeletons:r,query:n,isLoading:c,onInstallWithAuthRequired:a,onRequestMfa:function(){return v(!0)}}),(0,g.jsxs)("div",{className:"flex flex-col flex-wrap items-center justify-center gap-6 sm:flex-row md:justify-between",children:[(0,g.jsx)("div",{className:"max-lg:justify-center flex flex-1 justify-start",children:void 0!==f&&f>1&&(0,g.jsx)(n1,{page:l,numPages:f,goToPage:d})}),i]})]})}function aa(e){var t=e.selected,n=e.onClick,a=e.children;return(0,g.jsx)(Q.z,{color:t?"light":"neutral",className:(0,ee.default)("focus:ring-0",t&&"hover:bg-gray-200",!t&&"text-black/50"),onClick:n,children:a})}function ai(e){var t=e.plugins,n=e.numSkeletons,a=e.isLoading,i=e.onInstallWithAuthRequired,s=e.onRequestMfa,r=e.query;if(0===t.length&&!a&&r)return(0,g.jsxs)("div",{className:"flex h-[404px] flex-col items-center justify-center gap-4",children:[(0,g.jsx)("div",{className:"text-lg font-medium",children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},n8.noSearchResultsTitle),{values:{query:r}}))}),(0,g.jsx)("div",{className:"text-sm text-black/50",children:(0,g.jsx)(R.Z,(0,d._)({},n8.noSearchResultsHint))})]});var o=a?Array(n).fill(0).map(function(e,t){return(0,g.jsx)(ar,{},t)}):t.map(function(e){return(0,g.jsx)(as,{plugin:e,onInstallWithAuthRequired:i,onRequestMfa:s},e.id)});return(0,g.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:grid-rows-2 lg:grid-cols-3 xl:grid-cols-4",children:o})}function as(e){var t,n,a=e.plugin,i=e.onInstallWithAuthRequired,s=e.onRequestMfa,r=(0,m._)((0,I.useState)(!1),2),o=r[0],l=r[1],u=(0,m._)((0,I.useState)(!1),2),c=u[0],x=u[1],f=(0,nN.useInstallPlugin)({onSuccess:function(e){(0,eq.wu)(e.id)},onError:function(e){console.error(e),el.m.danger("Error installing ".concat(a.manifest.name_for_human,"."))},onSettled:function(){l(!1)}}),h=(0,nN.useUninstallPlugin)({onSuccess:function(){},onError:function(e){console.error(e),el.m.danger("Error uninstalling ".concat(a.manifest.name_for_human,"."))},onSettled:function(){x(!1)}}),p=(0,v.kP)().session,y=(0,z.hz)(),k=(0,E.Z)(),b=(0,eZ.S)().isUsernamePassword,w=(0,I.useCallback)(function(){var e,t=a.manifest.auth.type;if(!("none"===t||"service_http"===t)&&!(null==p?void 0:null===(e=p.user)||void 0===e?void 0:e.mfa)&&y.has(Z.i)&&b){s();return}"oauth"===t?(0,nN.doOauthRedirect)(a):"user_http"===t?i(a):(l(!0),f(a.id))},[a,f,i,s,b,p,y]),j=(0,I.useCallback)(function(){x(!0),h(a.id)},[a,h]);return n=o||c?(0,g.jsxs)(Q.z,{color:"light",className:"bg-green-100 hover:bg-green-100",children:[o?k.formatMessage(n8.installing):k.formatMessage(n8.uninstalling),(0,g.jsx)(eP.Z,{})]}):(null===(t=a.user_settings)||void 0===t?void 0:t.is_installed)?(0,g.jsxs)(Q.z,{color:"light",className:"hover:bg-gray-200",onClick:j,children:[(0,g.jsx)(R.Z,(0,d._)({},n8.uninstall)),(0,g.jsx)(N.$Rx,{className:"icon-sm"})]}):(0,g.jsxs)(Q.z,{onClick:w,children:[(0,g.jsx)(R.Z,(0,d._)({},n8.install)),(0,g.jsx)(N.wzc,{className:"icon-sm"})]}),(0,g.jsx)(ao,{logo:(0,g.jsx)(ng.Z,{url:a.manifest.logo_url,name:a.manifest.name_for_human,size:"100%",large:!0}),tag:(0,np.cf)(a)?(0,g.jsx)(nX.Aj,{}):"approved"!==a.status?(0,g.jsx)(nX.i$,{}):void 0,title:(0,g.jsx)("div",{className:"max-w-full truncate text-lg leading-6",children:a.manifest.name_for_human}),button:n,description:a.manifest.description_for_human,developerInfo:(0,g.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,g.jsx)(R.Z,(0,d._)({},n8.developerInfo)),(0,g.jsx)("a",{href:a.manifest.legal_info_url,target:"_blank",rel:"noreferrer",children:(0,g.jsx)(N.RsK,{className:"icon-xs"})}),(0,g.jsx)("a",{href:"mailto:".concat(a.manifest.contact_email),children:(0,g.jsx)(N.Imn,{className:"icon-xs"})})]})})}function ar(){return(0,g.jsx)(ao,{logo:(0,g.jsx)("div",{className:"h-full w-full rounded-[5px] bg-gray-300"}),title:(0,g.jsx)("div",{className:"h-[19px] w-[103px] rounded-[5px] bg-gray-100"}),button:(0,g.jsx)("div",{className:"h-[36px] w-[103px] rounded-[5px] bg-gray-200"}),description:(0,g.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,g.jsx)("div",{className:"h-[14px] w-[209px] rounded-[5px] bg-gray-100"}),(0,g.jsx)("div",{className:"h-[14px] w-[218px] rounded-[5px] bg-gray-100"}),(0,g.jsx)("div",{className:"h-[14px] w-[184px] rounded-[5px] bg-gray-100"})]}),developerInfo:(0,g.jsx)("div",{className:"h-full w-[120px] rounded-[5px] bg-gray-50"})})}function ao(e){var t=e.logo,n=e.tag,a=e.title,i=e.button,s=e.description,r=e.developerInfo;return(0,g.jsxs)("div",{className:"flex flex-col gap-4 rounded border border-black/10 bg-white p-6 dark:border-white/20 dark:bg-gray-900",children:[(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsx)("div",{className:"h-[70px] w-[70px] shrink-0",children:t}),(0,g.jsxs)("div",{className:"flex min-w-0 flex-col items-start justify-between",children:[null!=n?(0,g.jsxs)("div",{className:"flex items-center gap-1.5",children:[n,a]}):a,i]})]}),(0,g.jsx)("div",{className:"h-[60px] text-sm text-black/70 line-clamp-3 dark:text-white/70",children:s}),(0,g.jsx)("div",{className:"h-[14px] text-xs text-black/60 dark:text-white/60",children:r})]})}var al=F.Z.button(n6(),function(e){return e.$disabled?"opacity-50 cursor-default":"hover:text-black/50 dark:hover:text-white/50"}),ad=F.Z.div(n4()),au=(0,P.vU)({aboutPlugins:{id:"StoreDisclaimerModal.aboutPlugins",defaultMessage:"About plugins",description:"Title for the About Plugins modal"},okButton:{id:"StoreDisclaimerModal.okButton",defaultMessage:"OK",description:"OK button text"},cancelButton:{id:"StoreDisclaimerModal.cancelButton",defaultMessage:"Cancel",description:"Cancel button text"},thirdPartyWarning:{id:"StoreDisclaimerModal.thirdPartyWarning",defaultMessage:"Plugins are powered by third party applications that are not controlled by OpenAI. Be sure you trust a plugin before installation.",description:"Warning about third-party applications and trust"},externalAppsWarning:{id:"StoreDisclaimerModal.externalAppsWarning",defaultMessage:"Plugins connect ChatGPT to external apps. If you enable a plugin, ChatGPT may send your conversation, Custom Instructions, and the country or state you're in to the plugin.",description:"Warning about external apps and data sharing"},autoUseWarning:{id:"StoreDisclaimerModal.autoUseWarning",defaultMessage:"ChatGPT automatically chooses when to use plugins during a conversation, depending on the plugins you've enabled.",description:"Information about automatic plugin usage during conversations"}});function ac(e){var t=e.allowClose,n=e.onConfirm,a=e.onClose,i=(0,E.Z)();return(0,g.jsx)(X.Z,{isOpen:!0,onClose:a,type:"success",title:i.formatMessage(au.aboutPlugins),primaryButton:(0,g.jsx)($.ZP.Button,{title:i.formatMessage(au.okButton),color:"primary",onClick:n}),secondaryButton:t&&(0,g.jsx)($.ZP.Button,{title:i.formatMessage(au.cancelButton),color:"neutral",onClick:a}),children:(0,g.jsx)(nR,{children:(0,g.jsxs)(nI,{children:[(0,g.jsx)(nM,{icon:"\uD83D\uDEA8",children:(0,g.jsx)(R.Z,(0,d._)({},au.thirdPartyWarning))}),(0,g.jsx)(nM,{icon:"\uD83C\uDF10",children:(0,g.jsx)(R.Z,(0,d._)({},au.externalAppsWarning))}),(0,g.jsx)(nM,{icon:"\uD83E\uDDE0",children:(0,g.jsx)(R.Z,(0,d._)({},au.autoUseWarning))})]})})})}var am=nv.F.HasSeenPluginDisclaimer;function ax(e){var t=e.onInstall,n=e.onClose,a=(0,m._)((0,I.useState)(!!nv.m.getItem(am)),2),i=a[0],s=a[1],r=(0,m._)((0,I.useState)(!1),2),o=r[0],l=r[1],d=(0,m._)((0,I.useState)(!1),2),u=d[0],c=d[1],x=(0,m._)((0,I.useState)(),2),f=x[0],h=x[1],p=(0,m._)((0,I.useState)(!1),2),v=p[0],y=p[1],k=(0,I.useCallback)(function(){s(!0),l(!1),nv.m.setItem(am,!0)},[]),b=(0,I.useCallback)(function(e){h(e),c(!0)},[]),w=(0,I.useCallback)(function(){c(!0)},[]),j=(0,I.useCallback)(function(){y(!0)},[]),M=(0,I.useCallback)(function(){l(!0)},[]),C=(0,I.useCallback)(function(e){(0,eq.wu)(e.id),n(),t(e)},[t,n]),_=(0,I.useCallback)(function(){h(void 0),c(!1),n()},[n]),T=(0,I.useCallback)(function(){y(!1),n()},[n]);return!i||o?(0,g.jsx)(ac,{allowClose:!i,onConfirm:k,onClose:n}):u?(0,g.jsx)(nV,{plugin:f,onInstall:C,onClose:_}):v?(0,g.jsx)(nL,{onClickInstall:b,onInstallLocalhost:C,onClose:T}):(0,g.jsx)(at,{onInstallWithAuthRequired:b,onClickInstallDeveloper:w,onClickDevelop:j,onClickAbout:M,onClose:n})}function af(){var e=(0,x._)(["flex h-8 flex-shrink-0 items-center justify-center border-b border-black/10 bg-gray-50 text-xs text-gray-800 dark:border-white/20 dark:bg-[#272832] dark:text-white"]);return af=function(){return e},e}function ag(e){var t,n=e.theme,a=void 0===n?"default":n,i=(0,m._)((0,I.useState)(!1),2),s=i[0],r=i[1],o=(0,m._)((0,I.useState)(!1),2),l=o[0],x=o[1],f=(0,T.useRouter)(),h=(0,nK.C)(),p=h.installedPlugins,v=h.isLoading,b=(0,eq.p0)(),w=(0,I.useRef)(null);(0,I.useEffect)(function(){if(!v){var e=f.query,t=e.loginAip,n=e.loginSuccess,a=(0,c._)(e,["loginAip","loginSuccess"]);if(t){var i,s,r=p.find(function(e){return e.id===t});r&&"true"===n?((0,eq.wu)(f.query.loginAip),null===(i=w.current)||void 0===i||i.open()):el.m.warning("Couldn't log in with ".concat(null!==(s=null==r?void 0:r.manifest.name_for_human)&&void 0!==s?s:"plugin",".")),f.replace({pathname:f.pathname,query:a})}}},[f,p,v]);var j=(0,I.useCallback)(function(){var e;null===(e=w.current)||void 0===e||e.open()},[]),M=(0,I.useCallback)(function(){r(!1)},[]),C=(0,m._)((0,I.useState)(b),2),_=C[0],S=C[1],P=(0,I.useCallback)(function(e){if(e.length>eq.hZ)x(!0),setTimeout(function(){x(!1)},600);else{var t=e.filter(function(e){return!b.find(function(t){return t.id===e.id})}),n=!0,a=!1,i=void 0;try{for(var s,r=eq.iO[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var o=function(){var e=s.value,n=b.find(function(t){return e.includes(t.domain)});if(n){var a=e.find(function(e){return e!==n.domain}),i=t.find(function(e){return e.domain===a});if(i)return el.m.warning("You can't enable ".concat(i.manifest.name_for_human," while ").concat(n.manifest.name_for_human," is enabled.")),{v:void 0}}}();if("object"===(0,nf._)(o))return o.v}}catch(e){a=!0,i=e}finally{try{n||null==r.return||r.return()}finally{if(a)throw i}}(0,eq.dT)(e.map(function(e){return e.id}))}},[b]),E=(0,I.useCallback)(function(e){var t;null===(t=w.current)||void 0===t||t.close(),"store"===e&&r(!0)},[]),F=(0,I.useCallback)(function(){S(b),eN.m9.logEvent("chatgpt_plugin_chooser_opened",null,{num_enabled_plugins:"".concat(b.length)}),y.A.logEvent(k.M.pluginChooserOpened,{num_enabled_plugins:"".concat(b.length)})},[b]),D=(0,I.useCallback)(function(){var e=_.filter(function(e){return!b.find(function(t){return t.id===e.id})}),t=b.filter(function(e){return!_.find(function(t){return t.id===e.id})}),n=!0,a=!1,i=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var o=s.value;eN.m9.logEvent("chatgpt_plugin_enabled",null,{plugin_id:o.id}),y.A.logEvent(k.M.pluginEnabled,{plugin_id:o.id})}}catch(e){a=!0,i=e}finally{try{n||null==r.return||r.return()}finally{if(a)throw i}}var l=!0,d=!1,u=void 0;try{for(var c,m=e[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){var x=c.value;eN.m9.logEvent("chatgpt_plugin_disabled",null,{plugin_id:x.id}),y.A.logEvent(k.M.pluginDisabled,{plugin_id:x.id})}}catch(e){d=!0,u=e}finally{try{l||null==m.return||m.return()}finally{if(d)throw u}}},[b,_]),L=(0,eC.Ml)(),A=p.map(function(e){return{value:e,title:e.manifest.name_for_human,description:e.manifest.description_for_human,tags:[],customTags:(0,np.cf)(e)?(0,g.jsx)(nX.Aj,{}):"approved"!==e.status?(0,g.jsx)(nX.i$,{}):void 0,imageUrl:e.manifest.logo_url}}),Z=A.filter(function(e){return b.find(function(t){return t.id===e.value.id})}),B=L?(0,g.jsx)(R.Z,(0,u._)((0,d._)({},ap.pluginsInstalled),{values:{count:b.length}})):(0,g.jsx)(R.Z,(0,u._)((0,d._)({},ap.pluginsEnabled),{values:{count:b.length}}));if(b.length>0&&b.length<6){var q=b.map(function(e,t){return(0,g.jsx)(ng.Z,{url:e.manifest.logo_url,name:e.manifest.name_for_human,size:24},t)});B=(0,g.jsx)("div",{className:"flex gap-2",children:q})}var U=[{id:"store",label:"Plugin store",icon:N.Rgz}];p.length>eq.hZ&&(t=(0,g.jsx)(ah,{className:(0,ee.default)("transition-colors duration-300",l&&"bg-red-200 text-red-800 dark:bg-red-200 dark:text-red-800"),children:(0,g.jsx)(R.Z,(0,u._)((0,d._)({},ap.enabledPluginsLimit),{values:{enabledPlugins:b.length,maxEnabledPlugins:eq.hZ}}))}));var z=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ah,{children:(0,g.jsx)(R.Z,(0,d._)({},ap.loading))}),(0,g.jsx)(nh.ze,{showCheckbox:!0,theme:a}),(0,g.jsx)(nh.ze,{showCheckbox:!0,theme:a}),(0,g.jsx)(nh.ze,{showCheckbox:!0,theme:a}),(0,g.jsx)(nh.ze,{showCheckbox:!0,theme:a}),(0,g.jsx)(nh.ze,{showCheckbox:!0,theme:a})]});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(nh.ZP,{name:"Plugins",selectedOptions:Z,selectedLabel:B,options:A,actions:U,onChange:P,onAction:E,onOpen:F,onClose:D,dropdownRef:w,isLoading:v,loadingState:z,header:t,theme:"mini"===a?"mini":"default"}),s&&(0,g.jsx)(ax,{onInstall:j,onClose:M})]})}var ah=F.Z.div(af()),ap=(0,P.vU)({pluginsEnabled:{id:"PluginChooser.pluginsEnabled",description:"Text shown with the number of enabled plugins.",defaultMessage:"{count, plural, =0 {No plugins} one {# plugin} other {# plugins}} enabled"},pluginsInstalled:{id:"PluginChooser.pluginsInstalled",description:"Text shown with the number of enabled plugins.",defaultMessage:"{count, plural, =0 {No plugins} one {# plugin} other {# plugins}} installed"},loading:{id:"PluginChooser.loading",description:"Text shown when plugin information is being loaded.",defaultMessage:"Loading..."},enabledPluginsLimit:{id:"PluginChooser.enabledPluginsLimit",description:"Text shown with the number of enabled plugins and the maximum limit.",defaultMessage:"{enabledPlugins}/{maxEnabledPlugins} Enabled"}});function av(e){var t,n=e.currentModelId,a=(0,te.fm)(),i=(0,te.Q_)(),s=(0,te.B9)(),r=void 0!==n?s.get(n):void 0,o=(0,q.H)().isPluginsAvailable;return r&&i?(0,g.jsxs)("div",{className:"relative flex flex-col items-stretch justify-center gap-2 sm:items-center",children:[(0,g.jsx)(nx.ZP,{currentModel:r,onModelChange:a}),o&&(null==r?void 0:null===(t=r.enabledTools)||void 0===t?void 0:t.includes("tools3"))&&(0,g.jsx)(ag,{theme:"mini"})]}):null}function ay(){var e=(0,x._)(["px-2 w-full flex flex-col py-2 md:py-6 sticky top-0"]);return ay=function(){return e},e}function ak(){var e=(0,x._)(["text-4xl font-semibold text-center text-gray-200 dark:text-gray-600 ml-auto mr-auto mb-10 sm:mb-16 flex gap-2 items-center justify-center flex-grow"]);return ak=function(){return e},e}var ab=w()(function(){return Promise.all([n.e(8682),n.e(5427),n.e(9030)]).then(n.bind(n,72034)).then(function(e){return e.GizmoChatSidebarListVariantEmptyState})},{loadableGenerated:{webpack:function(){return[72034]}}}),aw="ChatGPT",aj=function(e){var t=e.clientThreadId,n=e.currentModel,a=e.promptTextareaRef,i=(0,z.hz)(),s=(0,z.$T)(),r=(0,te.iu)(),o=(0,te.ZL)();if((0,eC.Ml)())return(0,g.jsx)(ab,{clientThreadId:t,currentModel:n});if(i.has(Z.Zz))return s||o?null:(0,g.jsx)(aM,{currentModelId:n.id});var l=i.has("model_switcher")&&r.size>1,d=!s;return(0,g.jsxs)(g.Fragment,{children:[d&&(0,g.jsx)(aC,{children:(0,g.jsx)(av,{currentModelId:n.id})}),s||o||l?d?(0,g.jsx)("div",{className:"align-center flex h-full w-full flex-col justify-center self-center px-2 pb-2 md:pb-[8vh]",children:(0,g.jsxs)(a_,{children:[aw,(0,g.jsx)(tY,{})]})}):null:(0,g.jsx)(nu,{promptTextareaRef:a})]})},aM=function(e){var t=e.currentModelId;return(0,g.jsxs)("div",{className:"flex h-full flex-col items-center justify-between pb-64",children:[(0,g.jsx)(aC,{children:(0,g.jsx)(av,{currentModelId:t})}),(0,g.jsx)("div",{className:"flex h-full w-full pb-2 md:pb-[8vh]",children:(0,g.jsxs)(a_,{children:[aw,(0,g.jsx)(tY,{})]})})]})},aC=F.Z.div(ay()),a_=F.Z.h1(ak()),aT=n(25913),aI=n(9304),aN=[/\bnigger\w*/i,/\bfaggot\w*/i,/\bkikes?\b/i,/\bdykes?\b/i,/\bwetbacks?\b/i,/\bchinks?\b/i,/\bgooks?\b/i,/\bpakis?\b/i,/\binjuns?\b/i,/\btrannys?\b/i,/\btrannies\b/i,/\bspicks?\b/i,/\bshemales?\b/i];function aS(e){return aP.apply(this,arguments)}function aP(){return(aP=(0,l._)(function(e){var t,n;return(0,f.Jh)(this,function(a){switch(a.label){case 0:return(t=(0,m._)(e.queryKey,2))[0],n=t[1],[4,A.ZP.getThreadInterpreterState(n).then(function(e){return 0===e.time_remaining_ms&&e.kernel_started&&el.m.warning("This advanced data analysis (beta) chat has timed out. You may continue the conversation, but previous files, links, and code blocks below may not work as expected.",{hasCloseButton:!0,duration:0}),e})];case 1:return[2,a.sent()]}})})).apply(this,arguments)}var aR=n(45567),aE=n(71690),aF=n(95413);function aD(){var e=(0,x._)(["grow flex-1 overflow-hidden"]);return aD=function(){return e},e}function aL(){var e=(0,x._)(["w-full pt-2 md:pt-0 border-t md:border-t-0 gizmo:border-t-0 dark:border-white/20 md:border-transparent md:dark:border-transparent md:pl-2 gizmo:pl-0 gizmo:md:pl-0 md:w-[calc(100%-.5rem)]\n",""]);return aL=function(){return e},e}var aA=w()(function(){return Promise.all([n.e(1966),n.e(4388)]).then(n.bind(n,64388))},{loadableGenerated:{webpack:function(){return[64388]}},ssr:!1}),aZ=w()(function(){return n.e(8682).then(n.bind(n,48385)).then(function(e){return e.GizmoAccessToggle})},{loadableGenerated:{webpack:function(){return[48385]}}}),aB=w()(function(){return n.e(8682).then(n.bind(n,31760)).then(function(e){return e.GizmoSharedConversationCTA})},{loadableGenerated:{webpack:function(){return[31760]}}}),aq=(0,P.vU)({contentPolicyViolation:{id:"thread.modal.restrictedTerms.title",defaultMessage:"This prompt may violate our content policy.",description:"Title for the restricted terms modal"},acknowledge:{id:"thread.modal.common.acknowledge",defaultMessage:"Acknowledge",description:"Acknowledge button text"},doNotShareSensitive:{id:"thread.modal.onboarding.title",defaultMessage:"Do not share sensitive materials with this application",description:"Title for the onboarding warning modal"},mayProduceInaccurateInformation:{id:"thread.chatgptMayProduceInaccurateInformation-oct-30",defaultMessage:"ChatGPT can make mistakes. Consider checking important information.",description:"ChatGPT disclaimer for producing inaccurate information"},businessDisclaimer:{id:"thread.businessDisclaimer-oct-30",defaultMessage:"{workspaceName} workspace chats aren't used to train our models. ChatGPT can make mistakes.",description:"Business disclaimer with protected data assurance"},businessDisclaimerNoName:{id:"thread.businessDisclaimerNoName-oct-30",defaultMessage:"Your workspace chats aren'ts used to train our models. ChatGPT can make mistakes.",description:"Business disclaimer with protected data assurance when no Workspace name is available"},outdatedTemplateDisclaimer:{id:"thread.outdatedTemplateDisclaimer",defaultMessage:"<bold>New version of template available</bold> - Continue chatting to use the old version, or start a <link>new chat</link> for the latest version.",description:"Outdated template disclaimer"},somethingWentWrong:{id:"thread.modal.unrecoverableError.title",defaultMessage:"Something went wrong",description:"Title for the UnrecoverableErrorModal"},tryAgainLater:{id:"thread.modal.unrecoverableError.description",defaultMessage:"We're sorry, but something went wrong. Please try again later.",description:"Description for the UnrecoverableErrorModal"},resetThread:{id:"thread.modal.unrecoverableError.resetThread",defaultMessage:"Reset thread",description:"Reset thread button text"},sharedConversationContinueConversation:{id:"thread.sharedConversation.continue",defaultMessage:"Continue this conversation",description:"Button for shared links to allow user to continue conversation in their own history"},sharedConversationReportConversation:{id:"thread.sharedConversation.report",defaultMessage:"Report conversation",description:"Button for shared links to report chat for legal, safety, or other reasons"},sharedConversationModerateConversation:{id:"thread.sharedConversation.moderate",defaultMessage:"Moderate conversation",description:"Button for shared links to moderate a chat for legal, safety, or other reasons"},reportSharedConversation:{id:"thread.reportSharedConversation",defaultMessage:"Report content",description:"Report shared chat footer link text"},termsOfUse:{id:"thread.termsOfUse",defaultMessage:"Terms of use",description:"Terms of use footer link text"},privacyPolicy:{id:"thread.privacyPolicy",defaultMessage:"Privacy policy",description:"Privacy policy footer link text"},latencyButton:{id:"thread.latencyButton",defaultMessage:"Latency",description:"Button to open the latency menu"}});function aU(e){var t=e.onClickReportSharedConversation;return(0,g.jsxs)("div",{className:"flex justify-center gap-3 text-gray-500",children:[(0,g.jsx)("button",{onClick:function(){t()},children:(0,g.jsx)(R.Z,(0,d._)({},aq.reportSharedConversation))}),(0,g.jsx)("span",{children:"|"}),(0,g.jsx)("a",{href:"https://openai.com/policies/terms-of-use",target:"_blank",rel:"noreferrer",children:(0,g.jsx)(R.Z,(0,d._)({},aq.termsOfUse))}),(0,g.jsx)("span",{children:"|"}),(0,g.jsx)("a",{href:"https://openai.com/policies/privacy-policy",target:"_blank",rel:"noreferrer",children:(0,g.jsx)(R.Z,(0,d._)({},aq.privacyPolicy))})]})}function az(e){var t=e.clientThreadId,n=(0,z.ec)(function(e){return e.currentWorkspace}),a=null==n?void 0:n.id,i=(0,B.UL)(t),s=null==i?void 0:i.conversationTemplateId;return null!=a&&null!=s?(0,g.jsx)(aO,{clientThreadId:t,workspaceId:a,conversationTemplateId:s}):(0,g.jsx)(aV,{})}function aO(e){var t=e.clientThreadId,n=e.workspaceId,a=e.conversationTemplateId,i=(0,H.GS)(n,a).data,s=(0,B.qN)(function(e){return B.iN.getThreadCreateTime(t,e)}),r=(null==i?void 0:i.updated_at)!=null?new Date(i.updated_at):void 0;return null==r||null==s||r<=s?(0,g.jsx)(aV,{}):(0,g.jsxs)("span",{className:"text-gray-500",children:[(0,g.jsx)(S.h5O,{className:"text-token-secondary mb-1 mr-1 inline-block h-4 w-4 stroke-0"}),(0,g.jsx)(R.Z,(0,u._)((0,d._)({},aq.outdatedTemplateDisclaimer),{values:{link:function(e){return(0,g.jsx)(_(),{href:(0,H.l1)(a),className:"underline",shallow:!0,children:e})},bold:function(e){return(0,g.jsx)("span",{className:"text-token-secondary font-semibold",children:e})}}}))]})}function aV(){var e=(0,z.ec)(z.F_.isBusinessWorkspace),t=(0,z.ec)(function(e){return e.currentWorkspace}),n=null==t?void 0:t.name;return e?(0,g.jsx)("span",{children:null!=n?(0,g.jsx)(R.Z,(0,u._)((0,d._)({},aq.businessDisclaimer),{values:{workspaceName:n}})):(0,g.jsx)(R.Z,(0,d._)({},aq.businessDisclaimerNoName))}):(0,g.jsx)("span",{children:(0,g.jsx)(R.Z,(0,d._)({},aq.mayProduceInaccurateInformation))})}var aW=function(e){var t,a,i,s,r,o,d,u,x,b,w,j,C,_,S,P,R,F,K,ee,et,en=e.initialThreadData,ea=e.clientThreadId,ei=e.initiallyHighlightedMessageId,es=e.continueConversationUrl,er=e.onCompletionFinished,eo=e.preRequestCompletion,el=e.hideHeader,ed=e.prependThreadChildren,eu=e.renderEmptyState,ec=null!==(0,I.useContext)(O.gB),em=(0,E.Z)(),ex=(0,z.hz)(),eg=(0,q.H)().isPluginsAvailable,eh=(0,V.w$)(),ep=(0,I.useContext)(O.QL).historyDisabled,ev=(0,Y.i)(),ey=(0,e8.Wq)(ea),ek=(0,T.useRouter)(),eb=ec&&(null===(F=ek.query)||void 0===F?void 0:null===(K=F.shareParams)||void 0===K?void 0:K[1])==="moderate",ej=(0,B.Kt)(ea),eT=(0,B.oq)(ea),eI=(0,B.JI)(ea,eT),eN=(0,B.U0)(ea,eT),eS=(0,B.je)(ea),eP=(0,m._)((0,I.useState)(),2),eE=eP[0],eF=eP[1],eD=(0,m._)((0,I.useState)(!1),2),eL=eD[0],eZ=eD[1],eB=(0,m._)((0,I.useState)(),2),ez=eB[0],eW=eB[1],eH=(0,m._)((0,I.useState)(),2),eQ=eH[0],eJ=eH[1],e$=(0,m._)((0,I.useState)(),2),eX=e$[0],eY=e$[1],eK=(0,z.WY)(),e0=ex.has(Z.AL),e9=(0,m._)((0,I.useState)(!1),2),e1=e9[0],e2=e9[1],e5=(d=(o={exempt:!1,onRestrictedTermFound:(0,I.useCallback)(function(e){e2(!0),y.A.logEvent(k.M.promptUsedRestrictedWords,{threadId:B.tQ.getServerThreadId(ea),content:e})},[ea])}).exempt,u=o.onRestrictedTermFound,b=(x=(0,m._)((0,I.useState)(!1),2))[0],w=x[1],{hasRestrictedTerms:b,checkRestrictedTerms:(0,I.useCallback)(function(e){var t;return(aN.some(function(n){var a=n.exec(e);return a&&(t=a[0]),a}),!d&&t)?(w(!0),null==u||u(t),!0):(w(!1),!1)},[d,u])}),e3=e5.hasRestrictedTerms,e6=e5.checkRestrictedTerms,e4=(0,te.iu)(),e7=(0,eq.p0)(),tn=eN>=2,ta=eI.some(function(e){return e.role===L.uU.User}),ti=(0,B.Zz)(ea)&&!tn&&(0,e8.HE)(ey),ts=(0,eC.Ml)(),tr=ts?(0,B.Zz)(ea)&&!ta&&((0,e8.HE)(ey)||ey.kind===L.OL.GizmoTest):(0,B.Zz)(ea)&&!tn,to=(0,te.Gg)(e4,!0),td=null!==(et=(0,te.Bv)(en.lastModelUsed,ea))&&void 0!==et?et:to,tu=!!en.conversationTemplateId,tc=(0,te.B9)(),tm=tc.get(td),tx=(0,aT.iF)(),tf=(0,I.useCallback)(function(){tx(),y.A.logEvent(k.M.newThread)},[tx]),tg=(t=(0,B.Zz)(ea),a=B.tQ.getTitle(ea),ey.kind===L.OL.GizmoInteraction&&ey.gizmo?t?"ChatGPT - ".concat(ey.gizmo.name):a?"".concat(ey.gizmo.name," - ").concat(a):a:t?"ChatGPT":a);(0,H.dB)(ea);var th=(0,e8.WA)(ea),tp=(0,I.useCallback)(function(e){if(!ep&&e){var t=B.tQ.getTree(e).getMessageId(B.tQ.getThreadCurrentLeafId(e));if(A.ZP.generateTitle(e,t,td).then(function(t){var n=t.title;B.tQ.setTitle(e,n,B._L.Generated),tx(),y.A.logEvent(k.M.renameThread,{threadId:e,content:n,model:td})}).catch(function(e){console.error(e)}),(0,e8.HE)(ey)){var a=function(){ek.push((0,G.ZV)(e),void 0,{shallow:!0})};if(ts){var i=B.iN.getConversationTemplateId(ea);null!=i?(n.e(8682).then(n.bind(n,37326)).then(function(e){var t,n=null===(t=z.ec.getState().currentWorkspace)||void 0===t?void 0:t.accountUserId;null!=n&&e.addRecentGizmoTemplateId(n,i)}),(0,h.F0)(i).then(function(t){ek.push((0,G.ZV)(e,t),void 0,{shallow:!0})}).catch(function(e){console.error(e),a()})):a()}else a()}}},[ea,ep,td,tx,ek,ts,ey]);(0,I.useEffect)(function(){(0,tU.sb)()},[]);var tv=(0,I.useCallback)(function(e){if(null==er||er(e),!ep&&(th.kind===L.OL.GizmoInteraction&&h.D2.handleGizmoInteracted(th.gizmo_id),(0,z.N$)().has(Z.uj)&&!ev.displayingSideBySideFeedback)){var t=B.tQ.getThreadCurrentLeafId(e),n=B.tQ.getTree(e).getMessage(t);(0,W.lD)(n)||(0,W.JD)(n)||(0,tU.yu)(e,n.id,td)}},[ep,td,ev.displayingSideBySideFeedback,er,th]),ty=(0,B.Uy)(ea),tk=eg&&(null==tm?void 0:null===(ee=tm.enabledTools)||void 0===ee?void 0:ee.includes("tools3"))?e7:void 0,tb=null==tk?void 0:tk.map(function(e){return e.id}),tj=(0,aI.Z)(ea,ty,tf,tp,tv,tb),tM=(0,I.useCallback)(function(){var e=B.tQ.getThreadCurrentLeafId(ea);if(null!=e){var t=B.tQ.getTree(ea).getBranchFromLeaf(e);J.hx.abortRequests(t.map(function(e){return e.id}))}},[ea]),tC=(0,tE.N)(),t_=(0,I.useCallback)((j=(0,l._)(function(e){var t,n,a,i,s,r,o,l,d,u,c,m,x,g,h;return(0,f.Jh)(this,function(f){switch(f.label){case 0:if(t=e.type,n=e.promptId,a=e.eventMetadata,i=e.cancelActiveRequests,r=void 0===(s=e.focusOnNewCompletion)||s,o=e.useDefaultModel,l=e.completionMetadata,d=e.appendMessages,(0,tU.sb)(),i&&tM(),c=performance.now(),m=B.tQ.getTree(ea),t!==L.Os.Continue&&e6(m.getTextFromNode(n)))return[2];if(x=o?to:td,g=null===(u=tc.get(x))||void 0===u?void 0:u.tags,!(0,p.Rr)(ex,null!=g?g:[]))return[3,2];return[4,p.ZP.getEnforcementToken(null!=g?g:[])];case 1:h=f.sent(),f.label=2;case 2:return null==eo||eo(ea,n),tj({model:x,completionType:t,parentNodeId:n,metadata:a,focusOnNewCompletion:r,completionMetadata:l,arkoseToken:null!=h?h:null,preflightTime:performance.now()-c,extraStreamParams:{forceParagen:tC.forceParagen,forceRateLimit:tC.forceRateLimit},appendMessages:d}),[2]}})}),function(e){return j.apply(this,arguments)}),[ea,e6,to,td,tc,tj,tM,tC.forceParagen,tC.forceRateLimit,eo,ex]),tT=(0,I.useCallback)(function(e,t,n,a){B.tQ.updateTree(ea,function(i){i.addNode(e,n,t,L.uU.User,void 0,a)})},[ea]),tI=(0,I.useCallback)((C=(0,l._)(function(e,t,n,a){var i,s;return(0,f.Jh)(this,function(r){return i=t.content,s=t.attachments,B.tQ.setNewThreadConversationModeMetadata(ea,a.conversationMode),tT(e,eT,i,s.length>0?{attachments:s}:{}),t_({type:L.Os.Next,promptId:e,eventMetadata:n,cancelActiveRequests:!0,completionMetadata:a}),[2]})}),function(e,t,n,a){return C.apply(this,arguments)}),[ea,tT,t_,eT]),tN=(0,I.useRef)(!1),tS=(0,te.B8)(),tP=(0,v.kP)().session;(0,I.useEffect)(function(){if(tP&&void 0!==tm&&(void 0===tm.enabledTools||!(tm.enabledTools.length>0))&&ex.has(Z.Yj)&&0!==tS.enabledModelsInCategoriesById.size&&!tN.current&&void 0===B.tQ.getServerThreadId(ea)){var e,t=ek.query,n=t.m,a=(0,c._)(t,["m"]);if(void 0!==n){e=Array.isArray(n)?n[0]:n;var i=(0,D.Z)();tN.current=!0,tI(i,{content:e,attachments:[]},{eventSource:"url"},{conversationMode:th}),ek.replace({pathname:ek.pathname,query:a},void 0,{shallow:!0})}}},[tm,ek,tI,tP,tS,ex,ea,th]);var tR=(0,I.useCallback)(function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",i=arguments.length>4?arguments[4]:void 0,s=B.tQ.getTree(ea).getParentPromptNode(e).id;t_({type:L.Os.Variant,promptId:s,eventMetadata:t,cancelActiveRequests:!1,focusOnNewCompletion:n,useDefaultModel:i,completionMetadata:{variantPurpose:a,conversationMode:th}})},[t_,ea,th]),tF=(0,I.useCallback)(function(e){var t=B.tQ.getTree(ea).getLeafFromNode(e);B.tQ.setThreadCurrentLeafId(ea,t.id)},[ea]),tD=(0,I.useCallback)(function(e,t,n){var a=B.tQ.getServerThreadId(ea);if(y.A.logEvent(k.M.thumbRating,{id:t,threadId:a,rating:n,model:td}),void 0!==a&&A.ZP.submitMessageFeedback({message_id:t,conversation_id:a,rating:n}),eJ(e),eY(t),eW(n),B.tQ.updateTree(ea,function(t){t.updateNodeMetadata(e,{rating:n})}),"thumbsDown"===n&&eh){var i=B.tQ.getTree(ea).getConversationTurns(e||"root");ef(i[i.length-1])&&tR(e,{eventSource:"mouse",intent:"comparison"},!1,"comparison")}},[ea,td,eh,tR]),tL=(0,I.useCallback)(function(){U.vm.closeModal(U.B.AccountPortal)},[]),tA=(0,eG.tS)(function(e){return{showEmbeddedPaymentModal:e.showEmbeddedPaymentModal,setShowEmbeddedPaymentModal:e.setShowEmbeddedPaymentModal}}),tZ=tA.showEmbeddedPaymentModal,tB=tA.setShowEmbeddedPaymentModal,tq=(0,eA.C)(function(e){return{setShowReferralInviteModal:e.setShowReferralInviteModal}}).setShowReferralInviteModal,tO=(0,I.useCallback)(function(){tB(!1)},[tB]),tV=(0,I.useCallback)(function(){tq(!1)},[tq]),tW=(0,I.useCallback)(function(){e2(!1)},[]),tG=(0,I.useRef)(null),tH=(0,U.tN)(function(e){return e.activeModals.has(U.B.AccountPortal)}),tQ=(0,B.XK)(ea),tJ=(0,U.tN)(function(e){return e.sharingModalThreadId===tQ}),t$=(0,eA.C)(function(e){return e.showReferralInviteModal});return S=(_={clientThreadId:ea,currentModelId:td}).clientThreadId,P=_.currentModelId,i=(0,tt.i0)(P,tt.dN.CODE_INTERPRETER),s=null!==(0,I.useContext)(O.gB),r=B.tQ.getServerThreadId(S),(0,e_.a)({queryKey:["interpreterState",r],queryFn:aS,enabled:!!(i&&r&&!s),gcTime:0}),(0,g.jsxs)(g.Fragment,{children:[e0&&(0,g.jsx)(aA,{}),(0,g.jsxs)(M(),{children:[null!=tg&&(0,g.jsx)("title",{children:tg}),ec&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("meta",{property:"og:site_name",content:"ChatGPT"}),(0,g.jsx)("meta",{name:"robots",content:"noindex,nofollow"},"robots"),(0,g.jsx)("meta",{property:"og:title",content:null!=tg?tg:"Shared Chat on ChatGPT"},"og:title"),(0,g.jsx)("meta",{property:"og:description",content:"Shared "+(null!=eS?"by ".concat(eS," "):"")+"via ChatGPT"},"og:description"),(0,g.jsx)("meta",{property:"og:image",content:aE.Z.src},"og:image")]})]}),(0,g.jsxs)(O.OV.Provider,{value:t_,children:[ex.has(Z.i)?(0,g.jsx)(eU,{}):null,e3&&e1&&(0,g.jsx)(X.Z,{isOpen:!0,onClose:tW,icon:N.U0j,title:em.formatMessage(aq.contentPolicyViolation),primaryButton:(0,g.jsx)($.ZP.Button,{onClick:tW,title:em.formatMessage(aq.acknowledge)}),type:"danger"},"RestrictedTerms"),tJ&&null!=tQ&&(0,g.jsx)(tw,{serverThreadId:tQ,currentThreadModel:en.lastModelUsed}),(0,g.jsxs)(eM.ZP,{currentModelConfig:tm,className:"flex h-full flex-col",children:[(0,g.jsx)(aG,{children:ej?null:tr?null!=eu?eu:(0,g.jsx)(aj,{clientThreadId:ea,currentModel:null!=tm?tm:te.IR,promptTextareaRef:tG}):tn?(R=(0,g.jsxs)(g.Fragment,{children:[ed,(0,g.jsx)(tl,{onChangeItemInView:tF,onRequestMoreCompletions:tR,onChangeRating:tD,onRequestCompletion:t_,clientThreadId:ea,currentThreadModel:en.lastModelUsed,initiallyHighlightedMessageId:ei,inlineEmbeddedDisplay:!1,conversationLeafId:eT,hideHeader:el},ea)]}),ec?(0,g.jsx)("div",{className:"h-full overflow-auto dark:bg-gray-800",children:R}):(0,g.jsx)(aR.I,{children:R})):null}),(0,g.jsxs)(aH,{$isGizmoUIEnabled:ts,children:[ec?(0,g.jsxs)("div",{className:"relative flex w-full flex-1 items-center justify-center gap-2 empty:hidden",children:[tu||ts||!es||ex.has("gizmo_live")?(0,g.jsx)(aB,{clientThreadId:ea}):(0,g.jsx)(Q.z,{as:"link",to:es,children:em.formatMessage(aq.sharedConversationContinueConversation)}),eb&&(0,g.jsx)(Q.z,{onClick:function(){eZ(!0)},children:em.formatMessage(aq.sharedConversationModerateConversation)})]}):(0,g.jsx)(tz,{clientThreadId:ea,isNewThread:ti,showPromptStarters:ti||ts&&!ta,currentModelId:td,onRequestCompletion:t_,onNewThreadCreationFinished:tp,promptTextareaRef:tG}),(0,g.jsx)("div",{className:"relative px-2 py-2 text-center text-xs text-gray-600 dark:text-gray-300 md:px-[60px]",children:ec?(0,g.jsx)(aU,{onClickReportSharedConversation:function(){eF(eT)}}):(0,e8.HE)(ey)?(0,g.jsx)(az,{clientThreadId:ea}):null})]})]}),(0,g.jsxs)("div",{className:"group fixed bottom-3 right-3 z-10 hidden gap-1 lg:flex",children:[ti&&ex.has(Z.L0.GizmoUI)?(0,g.jsx)(aZ,{}):null,e0&&(0,g.jsx)("button",{onClick:function(){U.vm.showLatencyDevTools()},className:"box-content flex h-6 w-6 items-center justify-center rounded-full border border-gray-200 bg-gray-50 text-xs text-gray-600 dark:border-white/10 dark:bg-white/10 dark:text-gray-200",children:(0,g.jsx)(N.DKx,{className:"icon-sm"})}),(0,g.jsx)(aF.Z,{})]}),(0,g.jsx)(ew,{clientThreadId:ea,currentLeafId:eT,currentModelId:td,onChangeItemInView:tF,onRequestMoreCompletions:tR,onChangeRating:tD,onRequestCompletion:t_,ratingModalOpen:ez,ratingModalNodeId:eQ,ratingModalCompletionId:eX,sharedConversationReportModalNodeId:eE,setSharedConversationReportModalNodeId:eF,sharedConversationModerationModalOpen:eL,setRatingModalOpen:eW,setSharedConversationModerationModalOpen:eZ}),(0,g.jsx)(eV,{isOpen:tZ,onClose:tO}),ex.has(Z.a3)&&(0,g.jsx)(eR,{isOpen:t$,onClose:tV}),void 0!==eK&&eK&&(0,g.jsx)(eO.Z,{isOpen:tH,onClose:tL})]})]})},aG=F.Z.div(aD()),aH=F.Z.div(aL(),function(e){return!e.$isGizmoUIEnabled&&"absolute bottom-0 left-0 md:bg-vert-light-gradient bg-white dark:bg-gray-800 md:!bg-transparent dark:md:bg-vert-dark-gradient"})},45567:function(e,t,n){n.d(t,{I:function(){return r}});var a=n(35250),i=n(5397),s=n.n(i)()(function(){return Promise.resolve().then(n.bind(n,40803))},{loadableGenerated:{webpack:function(){return[40803]}},ssr:!1});function r(e){var t=e.children;return(0,a.jsx)(s,{className:"h-full",followButtonClassName:"scroll-convo",initialScrollBehavior:"auto",children:t})}},69789:function(e,t,n){n.d(t,{C:function(){return d}});var a=n(39324),i=n(71209),s=n(91530),r=n.n(s),o=n(78103),l={showReferralInviteModal:!1},d=(0,o.ZP)()(function(e){return(0,i._)((0,a._)({},l),{setShowReferralInviteModal:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r();e({showReferralInviteModal:t}),null==n||n()}})})},52811:function(e,t,n){n.d(t,{Bu:function(){return l},t9:function(){return o}});var a=n(43477),i=n(78103),s=(0,a.Z)(function(){return{delayedRenderingMessageIds:new Set}}),r=(0,i.ZP)(s);function o(){return r(function(e){return e.delayedRenderingMessageIds})}var l={addDelayedRenderingMessage:function(e){s.setState(function(t){if(t.delayedRenderingMessageIds.has(e))return t;var n=new Set(t.delayedRenderingMessageIds);return n.add(e),{delayedRenderingMessageIds:n}})},removeDelayedRenderingMessage:function(e){s.setState(function(t){if(!t.delayedRenderingMessageIds.has(e))return t;var n=new Set(t.delayedRenderingMessageIds);return n.delete(e),{delayedRenderingMessageIds:n}})}}},95496:function(e,t,n){n.d(t,{GF:function(){return w},H:function(){return b},sH:function(){return k}});var a=n(21722),i=n(39324),s=n(71209),r=n(10064),o=n(38104),l=n(35250),d=n(5053),u=n(86646),c=n(25687),m=n(98486),x=n(61236),f=n(19841),g=n(21988),h=n.n(g),p=n(70079),v=n(17130),y=n(44675);function k(e){var t=(0,r._)((0,p.useState)(!1),2),n=t[0],a=t[1];return(0,l.jsx)(h(),(0,s._)((0,i._)({},e),{alt:e.alt,onLoadingComplete:function(t){var n;a(!0),null===(n=e.onLoadingComplete)||void 0===n||n.call(e,t)},unoptimized:!0,className:(0,f.default)(e.className,"transition-opacity duration-300",n?"opacity-100":"opacity-0")}))}function b(e){var t=(0,p.useContext)(c.gB),n=null==t?void 0:t.serverSharedThreadId;return(0,m.h)({queries:e.map(function(e){var t=(0,v.Iy)(e.asset_pointer);return{queryKey:["getFileDownloadLink",t],queryFn:(0,a._)(function(){var a;return(0,o.Jh)(this,function(r){switch(r.label){case 0:if(!(null!=n))return[3,1];return[2,(0,s._)((0,i._)({},e),{url:j(n,t)})];case 1:return[4,u.ZP.getFileDownloadLink(t).catch(function(e){throw console.error("Could not fetch file with ID ".concat(t," from file service"),e.message),e})];case 2:if((a=r.sent()).status!==d.KF.Success)throw console.error("Could not fetch file with ID ".concat(t," from file service"),a),Error("Could not fetch file with ID ".concat(t," from file service"));return[2,(0,s._)((0,i._)({},e),{url:a.download_url})];case 3:return[2]}})})}})})}function w(e,t){var n=e.asset_pointer,i=e.width,s=e.height,r=(0,p.useContext)(c.gB),l=(0,v.Iy)(n),m=null==r?void 0:r.serverSharedThreadId,f=null!=m,g=(0,x.a)({queryKey:["getFileDownloadLink",l,t],queryFn:(0,a._)(function(){return(0,o.Jh)(this,function(e){switch(e.label){case 0:return[4,u.ZP.getFileDownloadLink(l,t).catch(function(e){throw console.error("Could not fetch file with ID ".concat(l," from file service"),e.message),e})];case 1:return[2,e.sent()]}})}),enabled:!f}),h=g.data,y=g.isLoading;return{isLoading:!f&&y,error:g.error,url:f?j(m,l):(null==h?void 0:h.status)==d.KF.Success?h.download_url:null,width:i,height:s}}function j(e,t){var n,a=null!==(n=y.env.CDN_IMAGE_BASE_URL)&&void 0!==n?n:"",i="".concat(e,"/image/").concat(t);return a?"".concat(a,"/").concat(i):"".concat(u.B,"/share/").concat(i)}},45048:function(e,t,n){n.d(t,{M:function(){return k},O1:function(){return v}});var a=n(39324),i=n(35250),s=n(61098),r=n(17130),o=n(86646),l=n(25687),d=n(61236),u=n(70079),c=n(1454),m=n(70671),x=n(32004),f=n(94968);function g(e){var t=e.label,n=e.output;return(0,i.jsxs)("div",{className:"rounded-md bg-black p-4 text-xs",children:[(0,i.jsx)("div",{className:"mb-1 text-gray-400",children:t}),(0,i.jsx)("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 prose flex max-h-64 flex-col-reverse overflow-auto text-white",children:(0,i.jsx)("pre",{className:"shrink-0",children:n})})]})}t.ZP=u.memo(function(e){var t,n=e.message,a=e.isCollapsed,r=(0,m.Z)();if(n.message.content.content_type!==s.PX.ExecutionOutput)return null;var o=null===(t=n.message.metadata)||void 0===t?void 0:t.aggregate_result;if(!o)return console.error("Corrupt code execution result message"),null;var l=o.messages.filter(k),d=a&&l.length>0,u=a&&null!=o.final_expression_output,c=a&&null!=o.in_kernel_exception,x=!a&&o.messages.filter(v).length>0;return(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(g,{label:"STDOUT/STDERR",output:l.map(function(e,t){return(0,i.jsx)("span",{className:"stderr"===e.stream_name?"text-red-500":"",children:e.text},"".concat(t))})}),u&&(0,i.jsx)(g,{label:r.formatMessage(b.resultLabel),output:o.final_expression_output}),c&&(0,i.jsx)("div",{className:"overflow-auto rounded border-t border-gray-500 bg-black text-white",children:(0,i.jsx)("div",{className:"border-l-4 border-red-500 p-2 text-xs",children:(0,i.jsx)("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 flex max-h-64 flex-col-reverse",children:(0,i.jsx)("pre",{className:"shrink-0",children:o.in_kernel_exception.traceback.join("")})})})}),x&&o.messages.filter(v).map(function(e,t){return(0,i.jsx)("div",{className:"empty:hidden",children:(0,i.jsx)(y,{jupyterMessage:e})},t)})]})});var h=Math.log(151)/Math.log(1.5);function p(e){var t=e.fileId,n=(0,d.a)({queryKey:["getFileDownloadLink",t],queryFn:function(){return o.ZP.getFileDownloadLink(t)},refetchInterval:function(e){var t,n=e.state.dataUpdateCount;return(null===(t=e.state.data)||void 0===t?void 0:t.status)!=="success"&&!(n>h)&&"error"!==e.state.status&&100*Math.pow(1.5,n)}}).data,a=(null==n?void 0:n.status)==="success"?n.download_url:null;return(0,i.jsxs)(i.Fragment,{children:[" ",a&&(0,i.jsx)("img",{src:a})," "]})}function v(e){return"image"===e.message_type||"image_url"in e&&(0,r.$H)(e.image_url+"")}function y(e){var t=e.jupyterMessage;if(null!==(0,u.useContext)(l.gB))return(0,i.jsxs)("div",{className:"flex h-52 w-full max-w-xs flex-col items-center justify-center gap-2 rounded-md border-black/5 bg-gray-100 p-7 text-center text-gray-500 dark:border-white/10",children:[(0,i.jsx)(c.LFN,{className:"icon-lg"}),(0,i.jsx)(x.Z,(0,a._)({},b.imageNotSupported))]});if(null!=t.image_payload)return(0,i.jsx)("img",{src:"data:image/png;base64,".concat(t.image_payload)});if(null!=t.image_url){var n=(0,r.Iy)(t.image_url);return(0,i.jsx)(p,{fileId:n})}return null}function k(e){return"stream"===e.message_type}var b=(0,f.vU)({imageNotSupported:{id:"CodeExecutionOutputMessage.imageNotSupported",defaultMessage:"Image output is not supported in a shared chat",description:"Message shown when an image is output in a shared thread"},resultLabel:{id:"CodeExecutionOutputMessage.resultLabel",defaultMessage:"RESULT",description:"Label show with the code execution result output"}})},43614:function(e,t,n){n.d(t,{X:function(){return s},Z:function(){return y}});var a,i,s,r,o=n(10064),l=n(35250),d=n(66161),u=n(70079);function c(e,t){var n=(0,u.useRef)(e);(0,u.useEffect)(function(){n.current=e},[e]),(0,u.useEffect)(function(){if(null!==t){var e=window.setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}var m=n(19841),x=n(70737),f=n(97296),g=n(70671),h=n(52811),p=n(60891),v=n(13141);function y(e){var t=e.conversationMessages,n=e.icon,a=e.status,i=e.displayMessage,d=e.displayMessageValues,m=e.estimatedToolDurationMs,x=e.animationLoopDurationMs,f=e.shouldPersistAfterFinished,g=void 0!==f&&f,p=(0,o._)((0,u.useState)(a===s.Running?r.RunningEnterAnimation:r.SkippingEnterAnimation),2),v=p[0],y=p[1],j=(0,o._)((0,u.useState)(0),2),M=j[0],C=j[1];(0,u.useEffect)(function(){a===s.Error?y(r.ToolError):a===s.Stopped?y(r.ToolStopped):a===s.Paused?y(r.ToolPaused):a===s.Finished?v===r.ToolRunning?y(r.RunningFillProgressBarAnimation):y(r.ToolFinished):a===s.Running&&v===r.ToolPaused&&(y(r.ToolRunning),C(function(e){return e+1}))},[a]);var _=w(v)||v===r.RunningFinishAnimation||v===r.FinishAnimationComplete||v===r.RunningHideAnimation||v===r.ToolPaused;return((0,u.useEffect)(function(){var e=t[0].message.id;if(_)return h.Bu.addDelayedRenderingMessage(e),function(){h.Bu.removeDelayedRenderingMessage(e)}},[_]),c(function(){w(v)&&C(function(e){return e+1})},void 0===x?2e3:x),v!==r.ToolFinished||g)?(0,l.jsxs)("div",{className:"my-2.5 flex items-center gap-2.5",children:[(0,l.jsx)(k,{icon:n,status:a,uiState:v,estimatedToolDurationMs:m,animationLoopCounter:M,shouldPersistAfterFinished:g,onFillProgressBarAnimationComplete:function(){return y(r.RunningFinishAnimation)},onFinishAnimationComplete:function(){y(r.FinishAnimationComplete),setTimeout(function(){g?y(r.ToolFinished):y(r.RunningHideAnimation)},500)},onHideAnimationComplete:function(){return y(r.ToolFinished)}}),(0,l.jsx)(b,{displayMessage:i,displayMessageValues:d,uiState:v,animationLoopCounter:M,onEnterAnimationComplete:function(){return y(r.ToolRunning)}})]}):null}function k(e){var t,n,a,i=e.icon,g=e.status,h=e.uiState,y=e.estimatedToolDurationMs,k=e.animationLoopCounter,b=e.shouldPersistAfterFinished,j=e.onFillProgressBarAnimationComplete,M=e.onFinishAnimationComplete,C=e.onHideAnimationComplete,_=(0,o._)((0,u.useState)(0),2),T=_[0],I=_[1];c(function(){w(h)?I(function(e){return e+50}):h===r.ToolPaused&&I(0)},50),w(h)||h===r.ToolPaused?(t="running",n=(0,l.jsx)(i,{animationLoopCounter:k}),a="bg-transparent"):h===r.RunningFinishAnimation||h===r.FinishAnimationComplete||h===r.ToolFinished&&b?(t="finished",n=(0,l.jsx)(p.Hk,{}),a="bg-brand-purple"):g===s.Error?(t="error",n=(0,l.jsx)(p.gE,{}),a="bg-orange-500"):g===s.Stopped&&(t="stopped",n=(0,l.jsx)(p.D8,{}),a="bg-gray-300");var N={opacity:0,scale:0,rotate:-180,x:0},S={type:"spring",bounce:.3,duration:.7},P={opacity:0,scale:.6,rotate:0,x:0};h===r.RunningEnterAnimation?(N={opacity:0,scale:.5,rotate:-180,x:-8},S={type:"spring",bounce:.3,duration:.5}):h===r.SkippingEnterAnimation?N=!1:h===r.FinishAnimationComplete&&(P={opacity:0,scale:0,rotate:0,x:0});var R=(0,v.Lg)(T,y);return(0,l.jsx)("div",{className:"relative h-5 w-5 shrink-0",children:(0,l.jsx)(x.M,{onExitComplete:function(){h===r.RunningHideAnimation&&C()},children:null!=t&&(0,l.jsxs)(f.E.div,{className:(0,m.default)("absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-full text-white",a),initial:N,animate:{opacity:1,scale:1,rotate:0,x:0},exit:P,transition:S,onAnimationComplete:function(){h===r.RunningFinishAnimation&&M()},children:[n,(w(h)||h===r.ToolPaused)&&(0,l.jsx)(d.Z,{percentage:h===r.RunningFillProgressBarAnimation?100:R,thickness:1.5/23,className:"absolute left-1/2 top-1/2 h-[23px] w-[23px] -translate-x-1/2 -translate-y-1/2 text-brand-purple",backgroundStrokeClassName:"stroke-brand-purple/25 dark:stroke-brand-purple/50",transitionDuration:h===r.RunningFillProgressBarAnimation?"".concat((100-R)/100*2,"s"):void 0,transitionTimingFunction:h===r.RunningFillProgressBarAnimation?"cubic-bezier(0.55, 0, 1, 1)":void 0,onTransitionEnd:function(){h===r.RunningFillProgressBarAnimation&&j()}})]},t)})})}function b(e){var t=e.displayMessage,n=e.displayMessageValues,a=e.uiState,i=e.animationLoopCounter,s=e.onEnterAnimationComplete,d=(0,g.Z)(),c=(0,o._)((0,u.useState)({message:t,values:n}),2),h=c[0],p=c[1];(0,u.useEffect)(function(){a===r.ToolRunning&&p({message:t,values:n})},[i]),(0,u.useEffect)(function(){w(a)||p({message:t,values:n})},[a]);var v={opacity:0,x:0,y:15},y={type:"spring",bounce:.3,opacity:{duration:.15},y:{duration:.3}};a===r.RunningEnterAnimation?(v={opacity:0,x:-8,y:0},y={type:"spring",bounce:.3,duration:.5,delay:.15}):a===r.SkippingEnterAnimation&&(v=!1);var k=null!=h.message?d.formatMessage(h.message,h.values):void 0;return(0,l.jsx)("div",{className:(0,m.default)("relative h-5 w-full leading-5","-mt-[0.75px]",a===r.ToolError||a===r.ToolStopped?"text-token-text-tertiary":"text-token-text-secondary"),children:(0,l.jsx)(x.M,{children:null!=k&&(0,l.jsx)(f.E.div,{className:"absolute left-0 top-0 line-clamp-1",initial:v,animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:-15},transition:y,onAnimationComplete:function(){a===r.RunningEnterAnimation&&s()},children:k},k.toString())})})}function w(e){return e===r.RunningEnterAnimation||e===r.ToolRunning||e===r.RunningFillProgressBarAnimation}(a=s||(s={}))[a.Running=0]="Running",a[a.Finished=1]="Finished",a[a.Error=2]="Error",a[a.Stopped=3]="Stopped",a[a.Paused=4]="Paused",(i=r||(r={}))[i.RunningEnterAnimation=0]="RunningEnterAnimation",i[i.SkippingEnterAnimation=1]="SkippingEnterAnimation",i[i.ToolRunning=2]="ToolRunning",i[i.RunningFillProgressBarAnimation=3]="RunningFillProgressBarAnimation",i[i.RunningFinishAnimation=4]="RunningFinishAnimation",i[i.FinishAnimationComplete=5]="FinishAnimationComplete",i[i.RunningHideAnimation=6]="RunningHideAnimation",i[i.ToolFinished=7]="ToolFinished",i[i.ToolError=8]="ToolError",i[i.ToolStopped=9]="ToolStopped",i[i.ToolPaused=10]="ToolPaused"},60891:function(e,t,n){n.d(t,{ED:function(){return w},BU:function(){return M},CJ:function(){return _},uP:function(){return S},KC:function(){return P},dX:function(){return R},Ts:function(){return C},BK:function(){return j},gE:function(){return I},Hk:function(){return T},D8:function(){return N}});var a=n(39324),i=n(71209),s=n(35250),r=n(59904),o=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":20,"h":20,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"dot","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[3.5,3.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":1.75,"ix":2}},{"ty":"fl","c":{"a":0,"k":[1,1,1],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[10.00000762939453,9.997123718261719],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":160,"s":[410],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":200,"s":[360],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":300,"s":[360],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":360,"s":[770],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":400,"s":[720],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[10,10],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":3,"ty":4,"nm":"compass","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":2,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[3.897755676788864,2.156718939201098],[9.466585676788863,0.04442893920109814],[10.31768567678886,0.895618939201098],[8.205185676788863,6.464308939201097],[6.464305676788864,8.205198939201097],[0.8956156767888639,10.3176989392011],[0.04442567678886356,9.466498939201099],[2.156725676788863,3.897748939201098],[3.897755676788864,2.156718939201098],[3.897755676788864,2.156718939201098],[3.897755676788864,2.156718939201098]],"i":[[0,0],[-1.856276666666666,0.7040966666666666],[0.2018000000000004,-0.5320100000000001],[0.7041666666666675,-1.85623],[0.8026800000000005,-0.3044999999999982],[1.85623,-0.7041666666666657],[-0.2018,0.5320999999999998],[-0.7040999999999995,1.8562499999999993],[-0.80274,0.3044900000000004],[0,0],[0,0]],"o":[[1.856276666666667,-0.7040966666666666],[0.532,-0.20181],[-0.7041666666666675,1.8562299999999992],[-0.3044999999999991,0.8025900000000004],[-1.85623,0.7041666666666693],[-0.5320100000000001,0.2018000000000022],[0.7041,-1.85625],[0.3044800000000008,-0.8027300000000004],[0,0],[0,0],[1.856276666666667,-0.7040966666666666]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-5.181057929992676,-5.181064605712891],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}],"markers":[]}'),l=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":20,"h":20,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10,10],"ix":2},"a":{"a":0,"k":[12,12],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":2,"ty":4,"nm":"Path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[4.3226,0],[0.8041999999999998,0],[0,0.8041],[0.8041999999999998,1.6081],[4.3226,1.6081],[5.126800000000001,0.8041],[4.3226,0],[4.3226,0],[4.3226,0]],"i":[[0,0],[1.1728000000000005,0],[0,-0.4441000000000006],[-0.4441000000000006,0],[-1.1728000000000005,0],[0,0.4441000000000006],[0.4441999999999986,0],[0,0],[0,0]],"o":[[-1.1728000000000005,0],[-0.4441000000000006,0],[0,0.4441000000000006],[1.1728000000000005,0],[0.4441999999999986,0],[0,-0.4441000000000006],[0,0],[0,0],[-1.1728000000000005,0]]}}},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":0.100515,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":70,"s":[11.79640007019043,13.51219940185547],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":146,"s":[11.79640007019043,16.51219940185547],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":148,"s":[11.79640007019043,9.401088290744358],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":195,"s":[11.79640007019043,13.51219940185547],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":270,"s":[11.79640007019043,13.51219940185547],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":346,"s":[11.79640007019043,16.51219940185547],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":348,"s":[11.79640007019043,9.401088290744358],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":395,"s":[11.79640007019043,13.51219940185547],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":70,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":146,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":195,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":270,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":346,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":348,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":395,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[1.28704,0.2207774999999987],[0.2208300000000003,0.2207774999999987],[0.2208300000000003,1.286817499999998],[2.100320000000001,3.165917499999999],[0.2208300000000003,5.045017499999998],[0.2208300000000003,6.111017499999999],[1.28704,6.111017499999999],[3.69972,3.6989174999999985],[3.69972,2.6329175],[1.28704,0.2207774999999987],[1.28704,0.2207774999999987],[1.28704,0.2207774999999987]],"i":[[0,0],[0.2944300000000002,-0.2943700000000007],[-0.2944399999999998,-0.2943799999999985],[-0.6264966666666663,-0.6263666666666676],[0.6264966666666671,-0.6263666666666659],[-0.2944399999999998,-0.2943999999999996],[-0.2944300000000002,0.2943999999999996],[-0.8042266666666666,0.8040333333333329],[0.2943999999999996,0.2942999999999998],[0.8042266666666666,0.8040466666666664],[0,0],[0,0]],"o":[[-0.2944300000000002,-0.2943700000000007],[-0.2944399999999998,0.2943800000000003],[0.6264966666666671,0.6263666666666676],[-0.6264966666666663,0.6263666666666659],[-0.2944399999999998,0.2943999999999996],[0.2944300000000002,0.2943999999999996],[0.8042266666666666,-0.8040333333333329],[0.2943999999999996,-0.2943999999999996],[-0.8042266666666666,-0.8040466666666664],[0,0],[0,0],[-0.2944300000000002,-0.2943700000000007]]}}},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":0.201031,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":76,"s":[7.026679992675781,8.836983680725098],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":136,"s":[13.00268173217773,8.834091186523438],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":138,"s":[2,8.834091186523438],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":200,"s":[7.026679992675781,8.834091186523438],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":276,"s":[7.026679992675781,8.834091186523438],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":336,"s":[13,8.834091186523438],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":338,"s":[2,8.834091186523438],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":400,"s":[7.03,8.834091186523438],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":1,"k":[{"t":136,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":200,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":276,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":76,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":136,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":200,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":276,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":336,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":338,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":400,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}],"markers":[]}'),d=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":20,"h":20,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":1,"k":[{"t":50,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[90],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":150,"s":[180],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":250,"s":[180],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":300,"s":[270],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":350,"s":[360],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[10,10],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":2,"ty":4,"nm":"moon","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[2.66029,2.2502500000000003],[2.94257,2.2253300000000005],[3.16411,2.15946],[3.3642200000000004,2.1007100000000003],[3.4624800000000002,2.13988],[3.5,2.24491],[3.48749,2.3303700000000003],[3.45176,2.4336200000000003],[3.17483,2.87157],[2.79071,3.2080400000000004],[2.32261,3.42523],[1.8027100000000003,3.5],[1.08448,3.36648],[0.5109700000000004,2.9926200000000005],[0.13400000000000034,2.4229400000000005],[0,1.70727],[0.13935999999999993,1.0129700000000001],[0.5306300000000004,0.4290440000000002],[1.1219999999999999,0.03738600000000025],[1.2095500000000001,0.00890100000000027],[1.2881600000000004,2.220446049250313e-16],[1.4007100000000001,0.042726000000000264],[1.4435900000000004,0.14954200000000017],[1.4275099999999998,0.23855500000000018],[1.3864200000000002,0.33290900000000023],[1.3256800000000002,0.49313300000000027],[1.2881600000000004,0.6960800000000003],[1.2756499999999997,0.9150600000000002],[1.3703399999999997,1.4722800000000003],[1.6472699999999998,1.8942000000000003],[2.0832100000000002,2.15946],[2.66029,2.2502500000000003],[2.66029,2.2502500000000003],[2.66029,2.2502500000000003]],"i":[[0,0],[-0.09170999999999996,0.016619999999999635],[-0.05597999999999992,0.027300000000000324],[-0.05837000000000003,0],[-0.02382000000000062,-0.02610999999999919],[0,-0.04390999999999945],[0.00833999999999957,-0.03204999999999991],[0.016680000000000028,-0.03678999999999988],[0.1131599999999997,-0.13056],[0.14412000000000003,-0.09376000000000051],[0.16795000000000027,-0.04985000000000017],[0.17985000000000007,0],[0.21915999999999958,0.08901000000000003],[0.16317999999999966,0.16141999999999967],[0.08932999999999947,0.2183799999999998],[0,0.25873999999999997],[-0.09290999999999983,0.21957000000000004],[-0.16794000000000064,0.16853600000000002],[-0.22510999999999992,0.09138599999999997],[-0.026209999999999845,0.005934999999999913],[-0.025020000000000486,0],[-0.02739000000000047,-0.028484000000000065],[0,-0.04272599999999993],[0.010720000000000063,-0.030856999999999912],[0.017869999999999386,-0.03323100000000001],[0.01666999999999952,-0.06290200000000001],[0.008329999999999949,-0.07357999999999998],[0,-0.07359000000000004],[-0.06312999999999924,-0.16497000000000006],[-0.12029999999999941,-0.11630999999999991],[-0.17032999999999987,-0.06170999999999971],[-0.21321000000000012,0],[0,0],[0,0]],"o":[[0.09647000000000006,0],[0.09172000000000047,-0.016620000000000523],[0.07504000000000044,-0.03915999999999986],[0.041679999999999495,0],[0.025009999999999977,0.026110000000000078],[0,0.02493000000000034],[-0.00714000000000059,0.03204000000000029],[-0.07146000000000008,0.16141000000000005],[-0.11195999999999984,0.1305500000000004],[-0.14412000000000003,0.09493999999999936],[-0.1667500000000004,0.04985000000000017],[-0.2596600000000002,0],[-0.21916000000000047,-0.0878300000000003],[-0.16198000000000068,-0.16141000000000005],[-0.08933000000000035,-0.21838000000000068],[0,-0.24329999999999985],[0.0929000000000002,-0.22075],[0.16913,-0.16971899999999995],[0.03216000000000019,-0.013056000000000068],[0.02738999999999958,-0.005933999999999995],[0.04763999999999946,0],[0.02858999999999945,0.028484999999999983],[0,0.028484000000000065],[-0.009520000000000195,0.02967200000000003],[-0.02382000000000062,0.04391400000000001],[-0.016680000000000028,0.06171700000000002],[-0.008340000000000458,0.07240000000000002],[0,0.20650999999999997],[0.06432000000000038,0.16496999999999984],[0.1203000000000003,0.11512999999999995],[0.1715099999999996,0.06052999999999997],[0,0],[0,0],[0.09647000000000006,0]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[3.75,5.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":1,"k":[{"t":50,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":140,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":250,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":280,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"sun","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[3.00708,3.00704],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-2.1999998092651376,-3.507655143737793],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":50,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":80,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":250,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":300,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":340,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[18,18],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":2}},{"ty":"fl","c":{"a":0,"k":[1,0.8392156862745098,0.25098039215686274],"ix":2},"o":{"a":0,"k":0,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":1,"k":[{"t":50,"s":[9.999999284744263,10.17067003250122],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[9.999999284744263,11.17067003250122],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":150,"s":[9.999999284744263,10.17067003250122],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":250,"s":[9.999999284744263,10.17067003250122],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":300,"s":[9.999999284744263,11.17067003250122],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":350,"s":[9.999999284744263,10.17067003250122],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":6,"ty":4,"nm":"line","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":5,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0],[4.18847,0],[4.18847,0.3221899999999991],[0,0.3221899999999991],[0,0],[0,0],[0,0]],"i":[[0,0],[-1.396156666666667,0],[0,-0.1073966666666664],[1.396156666666666,0],[0,0.1073966666666664],[0,0],[0,0]],"o":[[1.396156666666666,0],[0,0.1073966666666664],[-1.396156666666666,0],[0,-0.1073966666666664],[0,0],[0,0],[1.396156666666666,0]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-2.900433540344238,3.517374992370605],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"small","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":5,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[3.215839629698487,0.4155599999999988],[1.871029629698487,0.4155599999999988],[0.08033652969848645,3.996899999999999],[0.7527406296984864,5.084849999999998],[4.334119629698487,5.084849999999998],[5.006529629698486,3.996899999999999],[3.215839629698487,0.4155599999999988],[3.215839629698487,0.4155599999999988],[3.215839629698487,0.4155599999999988]],"i":[[0,0],[0.2770400000000002,-0.5540800000000004],[0.5968977000000001,-1.19378],[-0.5588519999999999,0],[-1.193793,0],[0.2499200000000004,0.4998400000000003],[0.5968966666666669,1.19378],[0,0],[0,0]],"o":[[-0.27705,-0.5540800000000004],[-0.5968977,1.1937799999999994],[-0.2499269,0.4998400000000003],[1.193793,0],[0.5588600000000001,0],[-0.5968966666666669,-1.19378],[0,0],[0,0],[-0.27705,-0.5540800000000004]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-6.000233173370361,-1.244344711303711],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"big","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":5,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[4.719378057214302,0.41556],[3.374568057214302,0.41556],[0.08033805721430198,7.00394],[0.7527380572143016,8.0919],[7.341158057214302,8.0919],[8.0136580572143,7.00394],[4.719378057214302,0.41556],[4.719378057214302,0.41556],[4.719378057214302,0.41556]],"i":[[0,0],[0.27705,-0.55408],[1.098076666666667,-2.196126666666667],[-0.5588499999999996,0],[-2.196140000000002,0],[0.2499000000000002,0.4998400000000007],[1.098093333333333,2.196126666666667],[0,0],[0,0]],"o":[[-0.2770500000000009,-0.55408],[-1.098076666666667,2.196126666666666],[-0.24993,0.4998400000000007],[2.19614,0],[0.5588999999999995,0],[-1.098093333333332,-2.196126666666666],[0,0],[0,0],[-0.2770500000000009,-0.55408]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-2.093742370605469,-4.256064891815186],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}],"markers":[]}'),u=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":350,"w":24,"h":24,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"border","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[22,22],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.203921568627451,0.207843137254902,0.2509803921568627],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[8.6485975,0.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[0.561517499999999,12.10510526872112],[0.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,0.1178352687211168],[8.6485975,0.1178352687211168],[8.6485975,0.1178352687211168]],"i":[[0,0],[0.3205000000000009,-0.3204799999999999],[0.7432999999999996,-0.7433100000000001],[-0.7487000000000013,-0.7487000000000013],[-0.7487000000000013,0.7486999999999995],[-0.7433000000000014,0.743310000000001],[-0.09659999999999869,-0.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,0.7885999999999989],[0.7616466666666675,-0.7616333333333323],[0.7486899999999999,0.7486999999999995],[-0.7486899999999999,0.7487000000000013],[-0.7616466666666675,0.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-0.3585899999999995],[0,0],[0,0]],"o":[[0.4428000000000001,0.09658000000000033],[-0.7432999999999996,0.7433100000000001],[-0.7487000000000013,0.7486899999999999],[0.7485999999999997,0.7486999999999995],[0.7432999999999996,-0.743310000000001],[0.3204999999999991,-0.3204799999999999],[0.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-0.7616466666666675,0.761633333333334],[-0.7486899999999999,0.7486999999999995],[-0.7486899999999999,-0.7485999999999997],[0.7616466666666666,-0.7616333333333323],[-0.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[0.4428000000000001,0.09658000000000033]]}}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":0,"s":[13.23,10.77154381752014],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[12,12],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[12,12],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":117,"s":[12,12],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":227,"s":[12,12],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":282,"s":[13.23,10.77],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":1,"k":[{"t":0,"s":[7.559483528137207,5.104858875274658],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[7.559483528137207,5.104858875274658],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":0,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":60,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":117,"s":[121.15,121.15],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":227,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":282,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":1,"k":[{"t":0,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[45],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":60,"s":[45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[-45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":117,"s":[-45],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":167,"s":[45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":184,"s":[45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":217,"s":[-45],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":227,"s":[-45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":282,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":1,"k":[{"t":0,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],"i":[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],"o":[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{"ty":"fl","c":{"a":0,"k":[0.203921568627451,0.207843137254902,0.2509803921568627],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":90,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[24,24],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":0,"k":25,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0}],"markers":[]}'),c=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":24,"h":24,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":2,"ty":4,"nm":"Path\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":125,"s":[{"c":false,"v":[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],"i":[[0,0],[1.166666666666667,-1.944433333333334],[-1.166666666666667,0]],"o":[[-1.166666666666666,1.944433333333333],[1.166666666666666,0],[0,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[{"c":false,"v":[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],"i":[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],"o":[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[{"c":false,"v":[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],"i":[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],"o":[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":400,"s":[{"c":false,"v":[[3.503000259399414,0],[0.003000259399414062,5.83329963684082],[3.503000259399414,5.83329963684082]],"i":[[0.2074432373046875,-0.3626899719238281],[0,0],[-1.166666666666667,0]],"o":[[-0.2074427604675293,0.3626899123191833],[0,0],[0,0]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2.33333,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":125,"s":[-4.666999816894531,-4.666650772094727],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[-4.67,-4.666650772094727],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[-4.67,-4.666650772094727],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Path\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":125,"s":[{"c":false,"v":[[0,2.3332999999999995],[3.5,0]],"i":[[0,0],[-0.7981999999999996,1.4169]],"o":[[1.4311000000000007,0],[0,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[{"c":false,"v":[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],"i":[[1.169005393981934,0],[0.7811636924743652,1.481373190879822]],"o":[[-1.169005155563354,0],[-0.7811641693115234,-1.481372833251953]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[{"c":false,"v":[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],"i":[[1.169005393981934,0],[0.7811636924743652,1.481373190879822]],"o":[[-1.169005155563354,0],[-0.7811641693115234,-1.481372833251953]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":400,"s":[{"c":false,"v":[[-0.003000259399414062,2.333300590515137],[3.496999740600586,0]],"i":[[-1.720494270324707,0],[-0.6510887145996094,1.120759010314941]],"o":[[1.720494627952576,0],[0.6510882377624512,-1.120759010314941]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2.33333,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":200,"s":[1.166999816894531,2.33335018157959],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[1.17,2.33335018157959],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"border","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[22,22],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.203921568627451,0.207843137254902,0.2509803921568627],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}],"markers":[]}'),m=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":24,"h":24,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":2,"ty":4,"nm":"Path\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":125,"s":[{"c":false,"v":[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],"i":[[0,0],[1.166666666666667,-1.9444333333333343],[-1.166666666666667,0]],"o":[[-1.166666666666666,1.9444333333333326],[1.166666666666666,0],[0,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[{"c":false,"v":[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],"i":[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],"o":[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[{"c":false,"v":[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],"i":[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],"o":[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":400,"s":[{"c":false,"v":[[3.503000259399414,0],[0.0030002593994140625,5.83329963684082],[3.503000259399414,5.83329963684082]],"i":[[0.2074432373046875,-0.3626899719238281],[0,0],[-1.166666666666667,0]],"o":[[-0.2074427604675293,0.36268991231918335],[0,0],[0,0]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2.33333,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":125,"s":[-4.666999816894531,-4.666650772094727],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[-4.67,-4.666650772094727],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[-4.67,-4.666650772094727],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Path\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":1,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":125,"s":[{"c":false,"v":[[0,2.3332999999999995],[3.5,0]],"i":[[0,0],[-0.7981999999999996,1.4169]],"o":[[1.4311000000000007,0],[0,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[{"c":false,"v":[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],"i":[[1.1690053939819336,0],[0.7811636924743652,1.4813731908798218]],"o":[[-1.1690051555633545,0],[-0.7811641693115234,-1.4813728332519531]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[{"c":false,"v":[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],"i":[[1.1690053939819336,0],[0.7811636924743652,1.4813731908798218]],"o":[[-1.1690051555633545,0],[-0.7811641693115234,-1.4813728332519531]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":400,"s":[{"c":false,"v":[[-0.0030002593994140625,2.3333005905151367],[3.496999740600586,0]],"i":[[-1.720494270324707,0],[-0.6510887145996094,1.1207590103149414]],"o":[[1.7204946279525757,0],[0.6510882377624512,-1.1207590103149414]]}],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2.33333,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":200,"s":[1.1669998168945312,2.33335018157959],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":325,"s":[1.17,2.33335018157959],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"border","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[22,22],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"st","c":{"a":0,"k":[1,1,1],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}],"markers":[]}'),x=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":350,"w":24,"h":24,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"border","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[22,22],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"st","c":{"a":0,"k":[1,1,1],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":2,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[8.6485975,0.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[0.561517499999999,12.10510526872112],[0.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,0.1178352687211168],[8.6485975,0.1178352687211168],[8.6485975,0.1178352687211168]],"i":[[0,0],[0.3205000000000009,-0.3204799999999999],[0.7432999999999996,-0.7433100000000001],[-0.7487000000000013,-0.7487000000000013],[-0.7487000000000013,0.7486999999999995],[-0.7433000000000014,0.743310000000001],[-0.09659999999999869,-0.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,0.7885999999999989],[0.7616466666666675,-0.7616333333333323],[0.7486899999999999,0.7486999999999995],[-0.7486899999999999,0.7487000000000013],[-0.7616466666666675,0.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-0.3585899999999995],[0,0],[0,0]],"o":[[0.4428000000000001,0.09658000000000033],[-0.7432999999999996,0.7433100000000001],[-0.7487000000000013,0.7486899999999999],[0.7485999999999997,0.7486999999999995],[0.7432999999999996,-0.743310000000001],[0.3204999999999991,-0.3204799999999999],[0.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-0.7616466666666675,0.761633333333334],[-0.7486899999999999,0.7486999999999995],[-0.7486899999999999,-0.7485999999999997],[0.7616466666666666,-0.7616333333333323],[-0.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[0.4428000000000001,0.09658000000000033]]}}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":0,"s":[13.23,10.77154381752014],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[12,12],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[12,12],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":117,"s":[12,12],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":227,"s":[12,12],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":282,"s":[13.23,10.77],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":1,"k":[{"t":0,"s":[7.559483528137207,5.104858875274658],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[7.559483528137207,5.104858875274658],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":0,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":60,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":117,"s":[121.15,121.15],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":227,"s":[121.15,121.15],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":282,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":1,"k":[{"t":0,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[45],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":60,"s":[45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[-45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":117,"s":[-45],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":167,"s":[45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":184,"s":[45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":217,"s":[-45],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":227,"s":[-45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":282,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":1,"k":[{"t":0,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":50,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],"i":[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],"o":[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{"ty":"fl","c":{"a":0,"k":[1,1,1],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":90,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[24,24],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":-180,"ix":2},"o":{"a":0,"k":25,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0}],"markers":[]}'),f=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":200,"w":20,"h":20,"nm":"Comp 1","ddd":0,"assets":[{"id":"1","layers":[{"ddd":0,"ind":5,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":6,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[14.25,14.25],"ix":2},"a":{"a":0,"k":[8.25,8.25],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":5},{"ddd":0,"ind":7,"ty":4,"nm":"Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":6,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[4.5,4.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":1,"ix":2}},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[2.25,2.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":3,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0}]},{"id":"3","layers":[{"ddd":0,"refId":"2","w":20000,"h":20000,"ind":1,"ty":0,"nm":"Masked Rectangle - mask content","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":0,"tt":1,"td":1},{"ddd":0,"refId":"1","w":20000,"h":20000,"ind":1,"ty":0,"nm":"Masked Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":0,"tt":1}]},{"id":"2","layers":[{"ddd":0,"ind":8,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10008.250000047683,10008.250000047683],"ix":2},"a":{"a":0,"k":[2.7,2.7],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":9,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[2.7,2.6999999999999993],"ix":2},"a":{"a":0,"k":[2.25,2.25],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":8},{"ddd":0,"ind":10,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[2.25,2.25],"ix":2},"a":{"a":0,"k":[2.25,2.25],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":9},{"ddd":0,"ind":11,"ty":4,"nm":"Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":10,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[4.5,4.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":1,"ix":2}},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[2.25,2.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]},{"ty":"fl","c":{"a":0,"k":[1,1,1],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0}]},{"id":"4","layers":[{"ddd":0,"ind":15,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":16,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[14.25,14.25],"ix":2},"a":{"a":0,"k":[8.25,8.25],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":15},{"ddd":0,"ind":17,"ty":4,"nm":"Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":16,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[4.5,4.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":1,"ix":2}},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[2.25,2.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]},{"ty":"st","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":3,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0}]},{"id":"6","layers":[{"ddd":0,"refId":"5","w":20000,"h":20000,"ind":1,"ty":0,"nm":"Masked Rectangle - mask content","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":0,"tt":1,"td":1},{"ddd":0,"refId":"4","w":20000,"h":20000,"ind":1,"ty":0,"nm":"Masked Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":0,"tt":1}]},{"id":"5","layers":[{"ddd":0,"ind":18,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10008.250000047683,10008.250000047683],"ix":2},"a":{"a":0,"k":[2.7,2.7],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":19,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[2.6999999999999993,2.6999999999999993],"ix":2},"a":{"a":0,"k":[2.25,2.25],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":18},{"ddd":0,"ind":20,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[2.25,2.25],"ix":2},"a":{"a":0,"k":[2.25,2.25],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":19},{"ddd":0,"ind":21,"ty":4,"nm":"Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":20,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[4.5,4.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":1,"ix":2}},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[2.25,2.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]},{"ty":"fl","c":{"a":0,"k":[1,1,1],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[4,1.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":1,"k":[{"t":5,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":15,"s":[0.75],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":65,"s":[0.75],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":80,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3843137254901961,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[10,10.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":1,"k":[{"t":0,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[-360],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":1,"k":[{"t":0,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[180],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[10,10.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":3,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[-4.25,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":2},{"ddd":0,"ind":4,"ty":4,"nm":"Path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0.75],[0.75,0],[3,0],[3,1.5],[0.75,1.5],[0,0.75],[0,0.75],[0,0.75],[0,0.75]],"i":[[0,0],[-0.4142099999999997,0],[-0.75,0],[0,-0.5],[0.75,0],[0,0.4141999999999992],[0,0],[0,0],[0,0]],"o":[[0,-0.4141999999999992],[0.75,0],[0,0.5],[-0.75,0],[-0.4142099999999997,0],[0,0],[0,0],[0,0],[0,-0.4141999999999992]]}}},{"ty":"fl","c":{"a":0,"k":[0.9686274509803922,0.9686274509803922,0.9725490196078431],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-0.75,-0.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"refId":"3","w":20000,"h":20000,"ind":12,"ty":0,"nm":"Masked Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[-8.25,-8.25],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":3},{"ddd":0,"ind":13,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[4.25,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":2},{"ddd":0,"ind":14,"ty":4,"nm":"Path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":13,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0],[2.25,0],[3,0.75],[3,0.75],[2.25,1.5],[0,1.5],[0,0],[0,0],[0,0]],"i":[[0,0],[-0.75,0],[0,-0.4141999999999992],[0,0],[0.414200000000001,0],[0.75,0],[0,0.5],[0,0],[0,0]],"o":[[0.75,0],[0.414200000000001,0],[0,0],[0,0.4141999999999992],[-0.75,0],[0,-0.5],[0,0],[0,0],[0.75,0]]}}},{"ty":"fl","c":{"a":0,"k":[0.9686274509803922,0.9686274509803922,0.9725490196078431],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-2.25,-0.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"refId":"6","w":20000,"h":20000,"ind":22,"ty":0,"nm":"Masked Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[-8.25,-8.25],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":200,"st":0,"bm":0,"hd":false,"parent":13}],"markers":[]}'),g=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":350,"w":20,"h":20,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"bottom","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[3,1.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0.75,"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[7.847347463338371,11.1995756149292],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":180,"s":[0],"i":{"x":[0.8],"y":[1]},"o":{"x":[0.4],"y":[0]}},{"t":200,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":260,"s":[100],"i":{"x":[0.8],"y":[1]},"o":{"x":[0.4],"y":[0]}},{"t":280,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"top","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[4,1.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0.75,"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[8.347347344129082,8.7995756149292],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":165,"s":[0],"i":{"x":[0.8],"y":[1]},"o":{"x":[0.4],"y":[0]}},{"t":185,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":260,"s":[100],"i":{"x":[0.8],"y":[1]},"o":{"x":[0.4],"y":[0]}},{"t":280,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":1,"k":[{"t":80,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":120,"s":[-45],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":130,"s":[-45],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":160,"s":[-45],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":270,"s":[-45],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":320,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[10,10],"ix":2},"a":{"a":0,"k":[10,10],"ix":2},"s":{"a":1,"k":[{"t":80,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":120,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":160,"s":[120,120],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":270,"s":[120,120],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":320,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},"ao":0,"ip":0,"op":350,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":4,"ty":4,"nm":"Path\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0],[2.5581,2.5581]],"i":[[0,0],[-0.8527000000000005,-0.8527000000000005]],"o":[[0.8527000000000005,0.8527000000000005],[0,0]]}}},{"ty":"st","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":1.5,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[11.8169002532959,11.81639957427979],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Path\'s solid fill","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0],[2.5581,2.5581]],"i":[[0,0],[-0.8527000000000005,-0.8527000000000005]],"o":[[0.8527000000000005,0.8527000000000005],[0,0]]}}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":0,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[11.8169002532959,11.81639957427979],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Rectangle\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[7.80233,7.80233],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":3.901165,"ix":2}},{"ty":"st","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":1.5,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[9.026165008544922,9.026165008544922],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":1,"k":[{"t":130,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":171,"s":[-100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}}],"ix":2},"r":{"a":0,"k":-45,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Rectangle\'s solid fill","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":0,"k":[7.80233,7.80233],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":3.90116,"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":0,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[9.026165008544922,9.026165008544922],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":45,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Circle\'s solid stroke","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"st","c":{"a":0,"k":[0.9607843137254902,0.9607843137254902,0.9607843137254902],"ix":2},"o":{"a":0,"k":100,"ix":2},"w":{"a":0,"k":1,"ix":2},"hd":false,"lc":2,"lj":2},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[10,10],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":90,"ix":2},"o":{"a":0,"k":0,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Circle\'s solid fill","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":3,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"el","hd":false,"d":1,"s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":2}},{"ty":"fl","c":{"a":0,"k":[0.6980392156862745,0.3843137254901961,0.996078431372549],"ix":2},"o":{"a":0,"k":0,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[10,10],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":90,"ix":2},"o":{"a":0,"k":100,"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":350,"st":0,"bm":0}],"markers":[]}'),h=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":20,"h":20,"nm":"Comp 1","ddd":0,"assets":[{"id":"2","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"outer","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"parent":0,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":77,"s":[{"c":false,"v":[[4,0.8788999999999998],[4,0.75],[3.25,0],[2.5,0.75],[2.5,0.8499999999999996],[2.482100000000001,1.7741000000000007],[2.4183,2.0905],[2.0905,2.4183],[1.7741000000000007,2.482100000000001],[0.8499999999999996,2.5],[0.75,2.5],[0,3.25],[0.75,4],[0.8788999999999998,4],[1.8963,3.9771],[2.7715,3.7547999999999995],[3.7547999999999995,2.7715],[3.9771,1.8963],[4,0.8788999999999998],[4,0.8788999999999998],[4,0.8788999999999998]],"i":[[0,0],[0,0.0429666666666666],[0.4141999999999992,0],[0,-0.4141999999999992],[0,-0.03333333333333321],[0.01729999999999876,-0.2125000000000004],[0.01879999999999882,-0.03710000000000058],[0.1410999999999998,-0.07200000000000095],[0.2037999999999993,-0.01670000000000016],[0.4324000000000012,0],[0.03333333333333321,0],[0,-0.4141999999999992],[-0.4141999999999992,0],[-0.0429666666666666,0],[-0.2810000000000006,0.02289999999999992],[-0.2837999999999994,0.1446000000000005],[-0.2157999999999998,0.4233000000000011],[-0.02430000000000021,0.2965],[0,0.3954000000000004],[0,0],[0,0]],"o":[[0,-0.0429666666666666],[0,-0.4141999999999992],[-0.4141999999999992,0],[0,0.03333333333333321],[0,0.4324000000000012],[-0.01670000000000016,0.2037999999999993],[-0.07200000000000095,0.1410999999999998],[-0.03710000000000058,0.01879999999999882],[-0.2125000000000004,0.01729999999999876],[-0.03333333333333321,0],[-0.4141999999999992,0],[0,0.4141999999999992],[0.0429666666666666,0],[0.3954000000000004,0],[0.2965,-0.02430000000000021],[0.4233000000000011,-0.2157999999999998],[0.1446000000000005,-0.2837999999999994],[0.02289999999999992,-0.2810000000000006],[0,0],[0,0],[0,-0.0429666666666666]]}],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[{"c":false,"v":[[4,0.8788999999999998],[4,0.75],[3.25,0],[2.5,0.75],[2.5,0.8499999999999996],[2.482100000000001,1.7741000000000007],[2.4183,2.0905],[2.0905,2.4183],[1.7741000000000007,2.482100000000001],[0.8499999999999996,2.5],[0.75,2.5],[0,3.25],[0.75,4],[0.8788999999999998,4],[1.8963,3.9771],[2.7715,3.7547999999999995],[3.7547999999999995,2.7715],[3.9771,1.8963],[4,0.8788999999999998],[4,0.8788999999999998],[4,0.8788999999999998]],"i":[[0,0],[0,0.0429666666666666],[0.4141999999999992,0],[0,-0.4141999999999992],[0,-0.03333333333333321],[0.01729999999999876,-0.2125000000000004],[0.01879999999999882,-0.03710000000000058],[0.1410999999999998,-0.07200000000000095],[0.2037999999999993,-0.01670000000000016],[0.4324000000000012,0],[0.03333333333333321,0],[0,-0.4141999999999992],[-0.4141999999999992,0],[-0.0429666666666666,0],[-0.2810000000000006,0.02289999999999992],[-0.2837999999999994,0.1446000000000005],[-0.2157999999999998,0.4233000000000011],[-0.02430000000000021,0.2965],[0,0.3954000000000004],[0,0],[0,0]],"o":[[0,-0.0429666666666666],[0,-0.4141999999999992],[-0.4141999999999992,0],[0,0.03333333333333321],[0,0.4324000000000012],[-0.01670000000000016,0.2037999999999993],[-0.07200000000000095,0.1410999999999998],[-0.03710000000000058,0.01879999999999882],[-0.2125000000000004,0.01729999999999876],[-0.03333333333333321,0],[-0.4141999999999992,0],[0,0.4141999999999992],[0.0429666666666666,0],[0.3954000000000004,0],[0.2965,-0.02430000000000021],[0.4233000000000011,-0.2157999999999998],[0.1446000000000005,-0.2837999999999994],[0.02289999999999992,-0.2810000000000006],[0,0],[0,0],[0,-0.0429666666666666]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":77,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tm","s":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"e":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":77,"s":[2.25,1.25],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[2.25,1.25],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":1,"k":[{"t":77,"s":[0,0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sk":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sa":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}}]},{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":77,"s":[{"c":false,"v":[[3.121130417391935,4],[3.250000417391935,4],[4.000000417391935,3.25],[3.250000417391935,2.5],[3.150030417391935,2.5],[2.225880417391935,2.482100000000001],[1.909510417391935,2.4183],[1.581750417391936,2.0905],[1.517950417391935,1.7741000000000007],[1.500000417391935,0.8499999999999996],[1.500000417391935,0.75],[0.7500004173919352,0],[4.173919352368216e-7,0.75],[4.173919352368216e-7,0.8788999999999998],[0.02293041739193535,1.8963],[0.2452404173919351,2.7715],[1.228520417391935,3.7547999999999995],[2.103740417391935,3.9771],[3.121130417391935,4],[3.121130417391935,4],[3.121130417391935,4]],"i":[[0,0],[-0.04295666666666698,0],[0,0.4141999999999992],[0.4142099999999997,0],[0.03332333333333359,0],[0.21251,0.01729999999999876],[0.03707999999999956,0.01879999999999882],[0.07189999999999941,0.1410999999999998],[0.01663999999999977,0.2037999999999993],[0,0.4324000000000012],[0,0.03333333333333321],[0.4142099999999997,0],[0,-0.4141999999999992],[0,-0.0429666666666666],[-0.02295000000000025,-0.2810000000000006],[-0.14460000000000006,-0.2837999999999994],[-0.4233599999999997,-0.2157999999999998],[-0.2965100000000005,-0.02430000000000021],[-0.3953800000000003,0],[0,0],[0,0]],"o":[[0.04295666666666698,0],[0.4142099999999997,0],[0,-0.4141999999999992],[-0.03332333333333359,0],[-0.4324200000000005,0],[-0.2037500000000003,-0.01670000000000016],[-0.1411199999999999,-0.07200000000000095],[-0.01890000000000036,-0.03710000000000058],[-0.01736999999999966,-0.2125000000000004],[0,-0.03333333333333321],[0,-0.4141999999999992],[-0.4142099999999997,0],[0,0.0429666666666666],[-0.00001000000000006551,0.3954000000000004],[0.02421999999999969,0.2965],[0.2157100000000005,0.4233000000000011],[0.2837900000000007,0.1446000000000005],[0.2809299999999997,0.02289999999999992],[0,0],[0,0],[0.04295666666666698,0]]}],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[{"c":false,"v":[[3.121130417391935,4],[3.250000417391935,4],[4.000000417391935,3.25],[3.250000417391935,2.5],[3.150030417391935,2.5],[2.225880417391935,2.482100000000001],[1.909510417391935,2.4183],[1.581750417391936,2.0905],[1.517950417391935,1.7741000000000007],[1.500000417391935,0.8499999999999996],[1.500000417391935,0.75],[0.7500004173919352,0],[4.173919352368216e-7,0.75],[4.173919352368216e-7,0.8788999999999998],[0.02293041739193535,1.8963],[0.2452404173919351,2.7715],[1.228520417391935,3.7547999999999995],[2.103740417391935,3.9771],[3.121130417391935,4],[3.121130417391935,4],[3.121130417391935,4]],"i":[[0,0],[-0.04295666666666698,0],[0,0.4141999999999992],[0.4142099999999997,0],[0.03332333333333359,0],[0.21251,0.01729999999999876],[0.03707999999999956,0.01879999999999882],[0.07189999999999941,0.1410999999999998],[0.01663999999999977,0.2037999999999993],[0,0.4324000000000012],[0,0.03333333333333321],[0.4142099999999997,0],[0,-0.4141999999999992],[0,-0.0429666666666666],[-0.02295000000000025,-0.2810000000000006],[-0.14460000000000006,-0.2837999999999994],[-0.4233599999999997,-0.2157999999999998],[-0.2965100000000005,-0.02430000000000021],[-0.3953800000000003,0],[0,0],[0,0]],"o":[[0.04295666666666698,0],[0.4142099999999997,0],[0,-0.4141999999999992],[-0.03332333333333359,0],[-0.4324200000000005,0],[-0.2037500000000003,-0.01670000000000016],[-0.1411199999999999,-0.07200000000000095],[-0.01890000000000036,-0.03710000000000058],[-0.01736999999999966,-0.2125000000000004],[0,-0.03333333333333321],[0,-0.4141999999999992],[-0.4142099999999997,0],[0,0.0429666666666666],[-0.00001000000000006551,0.3954000000000004],[0.02421999999999969,0.2965],[0.2157100000000005,0.4233000000000011],[0.2837900000000007,0.1446000000000005],[0.2809299999999997,0.02289999999999992],[0,0],[0,0],[0.04295666666666698,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":77,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tm","s":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"e":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":77,"s":[-6.250000476837158,1.25],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[-6.250000476837158,1.25],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":1,"k":[{"t":77,"s":[0,0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sk":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sa":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}}]},{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":77,"s":[{"c":false,"v":[[4,3.121090417391934],[4,3.250000417391934],[3.25,4.000000417391934],[2.5,3.250000417391934],[2.5,3.150000417391935],[2.482100000000001,2.225880417391934],[2.4183,1.909510417391934],[2.0905,1.581750417391935],[1.7741000000000007,1.517950417391934],[0.8499999999999996,1.500000417391934],[0.75,1.500000417391934],[0,0.7500004173919343],[0.75,4.173919343486432e-7],[0.8788999999999998,4.173919343486432e-7],[1.8963,0.02293041739193402],[2.7715,0.2452404173919343],[3.7547999999999995,1.228520417391934],[3.9771,2.103730417391934],[4,3.121090417391934],[4,3.121090417391934],[4,3.121090417391934]],"i":[[0,0],[0,-0.0429700000000004],[0.4141999999999992,0],[0,0.4142100000000006],[0,0.03333333333333321],[0.01729999999999876,0.2125000000000004],[0.01879999999999882,0.03707999999999956],[0.1410999999999998,0.07189999999999941],[0.2037999999999993,0.01663999999999977],[0.4324000000000012,0],[0.03333333333333321,0],[0,0.4142099999999997],[-0.4141999999999992,0],[-0.0429666666666666,0],[-0.2810000000000006,-0.0229499999999998],[-0.2837999999999994,-0.1445999999999996],[-0.2157999999999998,-0.4233599999999997],[-0.02430000000000021,-0.2965099999999996],[0,-0.3953599999999993],[0,0],[0,0]],"o":[[0,0.0429700000000004],[0,0.4142100000000006],[-0.4141999999999992,0],[0,-0.03333333333333321],[0,-0.43241],[-0.01670000000000016,-0.2037500000000003],[-0.07200000000000095,-0.1411199999999999],[-0.03710000000000058,-0.01890000000000036],[-0.2125000000000004,-0.01736999999999966],[-0.03333333333333321,0],[-0.4141999999999992,0],[0,-0.4142099999999997],[0.0429666666666666,0],[0.3954000000000004,-0.000009999999999621423],[0.2965,0.02422000000000057],[0.4233000000000011,0.2157100000000005],[0.1446000000000005,0.2837900000000007],[0.02289999999999992,0.2809300000000006],[0,0],[0,0],[0,0.0429700000000004]]}],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[{"c":false,"v":[[4,3.121090417391934],[4,3.250000417391934],[3.25,4.000000417391934],[2.5,3.250000417391934],[2.5,3.150000417391935],[2.482100000000001,2.225880417391934],[2.4183,1.909510417391934],[2.0905,1.581750417391935],[1.7741000000000007,1.517950417391934],[0.8499999999999996,1.500000417391934],[0.75,1.500000417391934],[0,0.7500004173919343],[0.75,4.173919343486432e-7],[0.8788999999999998,4.173919343486432e-7],[1.8963,0.02293041739193402],[2.7715,0.2452404173919343],[3.7547999999999995,1.228520417391934],[3.9771,2.103730417391934],[4,3.121090417391934],[4,3.121090417391934],[4,3.121090417391934]],"i":[[0,0],[0,-0.0429700000000004],[0.4141999999999992,0],[0,0.4142100000000006],[0,0.03333333333333321],[0.01729999999999876,0.2125000000000004],[0.01879999999999882,0.03707999999999956],[0.1410999999999998,0.07189999999999941],[0.2037999999999993,0.01663999999999977],[0.4324000000000012,0],[0.03333333333333321,0],[0,0.4142099999999997],[-0.4141999999999992,0],[-0.0429666666666666,0],[-0.2810000000000006,-0.0229499999999998],[-0.2837999999999994,-0.1445999999999996],[-0.2157999999999998,-0.4233599999999997],[-0.02430000000000021,-0.2965099999999996],[0,-0.3953599999999993],[0,0],[0,0]],"o":[[0,0.0429700000000004],[0,0.4142100000000006],[-0.4141999999999992,0],[0,-0.03333333333333321],[0,-0.43241],[-0.01670000000000016,-0.2037500000000003],[-0.07200000000000095,-0.1411199999999999],[-0.03710000000000058,-0.01890000000000036],[-0.2125000000000004,-0.01736999999999966],[-0.03333333333333321,0],[-0.4141999999999992,0],[0,-0.4142099999999997],[0.0429666666666666,0],[0.3954000000000004,-0.000009999999999621423],[0.2965,0.02422000000000057],[0.4233000000000011,0.2157100000000005],[0.1446000000000005,0.2837900000000007],[0.02289999999999992,0.2809300000000006],[0,0],[0,0],[0,0.0429700000000004]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":77,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tm","s":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"e":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":77,"s":[2.25,-5.250000476837158],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[2.25,-5.250000476837158],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":1,"k":[{"t":77,"s":[0,0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sk":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sa":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}}]},{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":1,"k":[{"t":77,"s":[{"c":false,"v":[[3.121090417391935,4.17391936125e-7],[3.250000417391935,4.17391936125e-7],[4.000000417391935,0.7500004173919361],[3.250000417391935,1.500000417391936],[3.150000417391936,1.500000417391936],[2.225880417391935,1.517950417391936],[1.909510417391935,1.581750417391937],[1.581750417391936,1.909510417391936],[1.517950417391935,2.225880417391936],[1.500000417391935,3.150000417391936],[1.500000417391935,3.250000417391936],[0.7500004173919352,4.000000417391936],[4.173919352368216e-7,3.250000417391936],[4.173919352368216e-7,3.121090417391936],[0.02293041739193535,2.103730417391936],[0.2452404173919351,1.228520417391936],[1.228520417391935,0.245240417391936],[2.103730417391935,0.0229304173919358],[3.121090417391935,4.17391936125e-7],[3.121090417391935,4.17391936125e-7],[3.121090417391935,4.17391936125e-7]],"i":[[0,0],[-0.0429700000000004,0],[0,-0.4142099999999997],[0.4142099999999997,0],[0.03333333333333321,0],[0.2125000000000004,-0.01736999999999966],[0.03707999999999956,-0.01890000000000036],[0.07189999999999941,-0.1411199999999999],[0.01663999999999977,-0.2037500000000003],[0,-0.43241],[0,-0.03333333333333321],[0.4142099999999997,0],[0,0.4142100000000006],[0,0.0429700000000004],[-0.02295000000000025,0.2809300000000006],[-0.14460000000000006,0.2837900000000007],[-0.4233599999999997,0.2157100000000005],[-0.2965099999999996,0.02422000000000057],[-0.3953599999999993,-0.000009999999999621423],[0,0],[0,0]],"o":[[0.0429700000000004,0],[0.4142099999999997,0],[0,0.4142099999999997],[-0.03333333333333321,0],[-0.43241,0],[-0.2037500000000003,0.01663999999999977],[-0.1411199999999999,0.07189999999999941],[-0.01890000000000036,0.03707999999999956],[-0.01736999999999966,0.2125000000000004],[0,0.03333333333333321],[0,0.4142100000000006],[-0.4142099999999997,0],[0,-0.0429700000000004],[-0.00001000000000006551,-0.3953599999999993],[0.02421999999999969,-0.2965099999999996],[0.2157100000000005,-0.4233599999999997],[0.2837900000000007,-0.1445999999999996],[0.2809300000000006,-0.0229499999999998],[0,0],[0,0],[0.0429700000000004,0]]}],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[{"c":false,"v":[[3.121090417391935,4.17391936125e-7],[3.250000417391935,4.17391936125e-7],[4.000000417391935,0.7500004173919361],[3.250000417391935,1.500000417391936],[3.150000417391936,1.500000417391936],[2.225880417391935,1.517950417391936],[1.909510417391935,1.581750417391937],[1.581750417391936,1.909510417391936],[1.517950417391935,2.225880417391936],[1.500000417391935,3.150000417391936],[1.500000417391935,3.250000417391936],[0.7500004173919352,4.000000417391936],[4.173919352368216e-7,3.250000417391936],[4.173919352368216e-7,3.121090417391936],[0.02293041739193535,2.103730417391936],[0.2452404173919351,1.228520417391936],[1.228520417391935,0.245240417391936],[2.103730417391935,0.0229304173919358],[3.121090417391935,4.17391936125e-7],[3.121090417391935,4.17391936125e-7],[3.121090417391935,4.17391936125e-7]],"i":[[0,0],[-0.0429700000000004,0],[0,-0.4142099999999997],[0.4142099999999997,0],[0.03333333333333321,0],[0.2125000000000004,-0.01736999999999966],[0.03707999999999956,-0.01890000000000036],[0.07189999999999941,-0.1411199999999999],[0.01663999999999977,-0.2037500000000003],[0,-0.43241],[0,-0.03333333333333321],[0.4142099999999997,0],[0,0.4142100000000006],[0,0.0429700000000004],[-0.02295000000000025,0.2809300000000006],[-0.14460000000000006,0.2837900000000007],[-0.4233599999999997,0.2157100000000005],[-0.2965099999999996,0.02422000000000057],[-0.3953599999999993,-0.000009999999999621423],[0,0],[0,0]],"o":[[0.0429700000000004,0],[0.4142099999999997,0],[0,0.4142099999999997],[-0.03333333333333321,0],[-0.43241,0],[-0.2037500000000003,0.01663999999999977],[-0.1411199999999999,0.07189999999999941],[-0.01890000000000036,0.03707999999999956],[-0.01736999999999966,0.2125000000000004],[0,0.03333333333333321],[0,0.4142100000000006],[-0.4142099999999997,0],[0,-0.0429700000000004],[-0.00001000000000006551,-0.3953599999999993],[0.02421999999999969,-0.2965099999999996],[0.2157100000000005,-0.4233599999999997],[0.2837900000000007,-0.1445999999999996],[0.2809300000000006,-0.0229499999999998],[0,0],[0,0],[0.0429700000000004,0]]}],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":77,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tm","s":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"e":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":77,"s":[-6.250000476837158,-5.250000476837158],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[-6.250000476837158,-5.250000476837158],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":1,"k":[{"t":77,"s":[0,0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sk":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"sa":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}}]},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":77,"s":[9.999999761581421,9.999999761581421],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[9.999999761581421,9.999999761581421],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[60,60],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":137,"s":[107,107],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":167,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":277,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":307,"s":[60,60],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":337,"s":[107,107],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":367,"s":[99.99999999999999,99.99999999999999],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":167,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":277,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":307,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":367,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"refId":"1","w":20000,"h":20000,"ind":4,"ty":0,"nm":"middle","sr":1,"ks":{"o":{"a":1,"k":[{"t":277,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":307,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10010,10010],"ix":2},"a":{"a":0,"k":[10000,10000],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[50,50],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":148,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":277,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":307,"s":[50,50],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":348,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false}]},{"id":"1","layers":[{"ddd":0,"ind":2,"ty":4,"nm":"bottom","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0.75],[0.75,0],[4.25,0],[5,0.75],[4.25,1.5],[0.75,1.5],[0,0.75],[0,0.75],[0,0.75]],"i":[[0,0],[-0.4142099999999997,0],[-1.166666666666668,0],[0,-0.4141999999999992],[0.4141999999999992,0],[1.166666666666668,0],[0,0.4141999999999992],[0,0],[0,0]],"o":[[0,-0.4141999999999992],[1.166666666666666,0],[0.4141999999999992,0],[0,0.4141999999999992],[-1.166666666666666,0],[-0.4142099999999997,0],[0,0],[0,0],[0,-0.4141999999999992]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-3.25,0.625],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":175,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":277,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":307,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":375,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":400,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"top","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[10000,10000],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"sh","hd":false,"d":1,"ks":{"a":0,"k":{"c":false,"v":[[0,0.7500000000000009],[0.75,8.881784197001252e-16],[5.75,8.881784197001252e-16],[6.5,0.7500000000000009],[5.75,1.5000000000000009],[0.75,1.5000000000000009],[0,0.7500000000000009],[0,0.7500000000000009],[0,0.7500000000000009]],"i":[[0,0],[-0.4142099999999997,0],[-1.666666666666668,0],[0,-0.4142100000000006],[0.4141999999999992,0],[1.666666666666668,0],[0,0.4142100000000006],[0,0],[0,0]],"o":[[0,-0.4142100000000006],[1.666666666666666,0],[0.4141999999999992,0],[0,0.4142100000000006],[-1.666666666666666,0],[-0.4142099999999997,0],[0,0],[0,0],[0,-0.4142100000000006]]}}},{"ty":"fl","c":{"a":0,"k":[0.6941176470588235,0.3803921568627451,0.9921568627450981],"ix":2},"o":{"a":0,"k":100,"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":2},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":0,"k":[-3.25,-2.125],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2},"r":{"a":0,"k":0,"ix":2},"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":163,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":188,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":277,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":307,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":363,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":388,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":0,"k":0,"ix":2},"sa":{"a":0,"k":0,"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":5,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":1,"k":[{"t":77,"s":[0],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"p":{"a":1,"k":[{"t":77,"s":[10,10],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[10,10],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false},{"ddd":0,"ind":7,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":1,"k":[{"t":77,"s":[45],"i":{"x":[0],"y":[0]},"o":{"x":[0],"y":[0]}},{"t":107,"s":[45],"i":{"x":[0],"y":[0]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false,"parent":5},{"ddd":0,"ind":6,"ty":3,"nm":"","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0],"y":[0]},"o":{"x":[0],"y":[0]}},{"t":107,"s":[100,100],"i":{"x":[0],"y":[0]},"o":{"x":[0],"y":[0]}}],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false,"parent":7},{"ddd":0,"refId":"2","w":20000,"h":20000,"ind":8,"ty":0,"nm":"SVG Import 1","sr":1,"ks":{"o":{"a":1,"k":[{"t":77,"s":[100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"r":{"a":1,"k":[{"t":77,"s":[-45],"i":{"x":[0],"y":[0]},"o":{"x":[0],"y":[0]}},{"t":107,"s":[-45],"i":{"x":[0],"y":[0]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":1,"k":[{"t":77,"s":[10010,10010],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[10010,10010],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2},"s":{"a":1,"k":[{"t":77,"s":[100,100],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":107,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}}],"ix":2}},"ao":0,"ip":0,"op":400,"st":0,"bm":0,"hd":false,"parent":6}],"markers":[]}'),p=n(68233),v=n.n(p),y=n(77997),k=n(70079);function b(e){var t=e.animationData,n=e.animationSegmentToPlay,a=e.animationLoopCounter,i=(0,k.useRef)(null);return(0,k.useEffect)(function(){var e;null===(e=i.current)||void 0===e||e.playSegments(n,!0)},[a]),(0,s.jsx)(v(),{animationData:t,lottieRef:i,loop:!1,autoplay:!1})}function w(e){var t=e.animationLoopCounter;return(0,s.jsx)(b,{animationData:o,animationSegmentToPlay:[180,380],animationLoopCounter:t})}function j(e){var t=e.animationLoopCounter;return(0,s.jsx)(b,{animationData:h,animationSegmentToPlay:[132,332],animationLoopCounter:t})}function M(e){var t=e.animationLoopCounter;return(0,s.jsx)(b,{animationData:l,animationSegmentToPlay:[160,360],animationLoopCounter:t})}function C(e){var t=e.animationLoopCounter;return(0,s.jsx)(b,{animationData:g,animationSegmentToPlay:[0,350],animationLoopCounter:t})}function _(e){var t=e.animationLoopCounter;return(0,s.jsx)(b,{animationData:d,animationSegmentToPlay:[0,400],animationLoopCounter:t})}function T(e){return(0,s.jsx)(r.A0,(0,i._)((0,a._)({width:"8",height:"9",viewBox:"0 0 8 9",fill:"none"},e),{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z",fill:"currentColor"})}))}function I(e){return(0,s.jsxs)(r.A0,(0,i._)((0,a._)({width:"4",height:"12",viewBox:"0 0 4 12",fill:"none"},e),{children:[(0,s.jsx)("mask",{id:"path-1-inside-1_1975_4008",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"})}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z",fill:"currentColor",mask:"url(#path-1-inside-1_1975_4008)"})]}))}function N(e){return(0,s.jsx)(r.A0,(0,i._)((0,a._)({width:"8",height:"9",viewBox:"0 0 8 9",fill:"none"},e),{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.32256 1.48447C7.59011 1.16827 7.55068 0.695034 7.23447 0.427476C6.91827 0.159918 6.44503 0.199354 6.17748 0.515559L4.00002 3.08892L1.82256 0.515559C1.555 0.199354 1.08176 0.159918 0.765559 0.427476C0.449355 0.695034 0.409918 1.16827 0.677476 1.48447L3.01755 4.25002L0.677476 7.01556C0.409918 7.33176 0.449354 7.805 0.765559 8.07256C1.08176 8.34011 1.555 8.30068 1.82256 7.98447L4.00002 5.41111L6.17748 7.98447C6.44503 8.30068 6.91827 8.34011 7.23447 8.07256C7.55068 7.805 7.59011 7.33176 7.32256 7.01556L4.98248 4.25002L7.32256 1.48447Z",fill:"currentColor"})}))}function S(e){var t=e.animationLoopCounter,n=(0,y.F)().resolvedTheme;return(0,s.jsx)(b,{animationData:"dark"===n?u:x,animationSegmentToPlay:[0,300],animationLoopCounter:t})}function P(e){var t=e.animationLoopCounter,n=(0,y.F)().resolvedTheme;return(0,s.jsx)(b,{animationData:"dark"===n?c:m,animationSegmentToPlay:[0,400],animationLoopCounter:t})}function R(e){var t=e.animationLoopCounter;return(0,s.jsx)(b,{animationData:f,animationSegmentToPlay:[0,200],animationLoopCounter:t})}},46740:function(e,t,n){n.d(t,{Tv:function(){return a},Ui:function(){return l},X_:function(){return o},cf:function(){return i},kA:function(){return r},yF:function(){return s}});var a=1e4,i=8e3,s=15e3,r=3e4,o=13e3,l=2e3},13141:function(e,t,n){n.d(t,{F4:function(){return d},Lg:function(){return l},We:function(){return o}});var a=n(23234),i=n(62682),s=n(17944),r=n(86925);function o(e){return(0,r.qi)(e)&&!(0,r.oH)(e)}function l(e,t){return e<=t?e/t*50:50+45*(1-Math.exp(-(50/t)/45*(e-t)))}function d(){var e=(0,s.hz)(),t=(0,a.Ml)();return e.has(i.vE)&&t}},96096:function(e,t,n){n.d(t,{Aj:function(){return g},i$:function(){return f},nA:function(){return v},uM:function(){return p}});var a=n(39324),i=n(4337),s=n(35250),r=n(1454),o=n(94968),l=n(32004),d=n(21389);function u(){var e=(0,i._)(["flex h-[18px] w-[18px] items-center justify-center rounded-[5px] bg-red-200 text-red-800"]);return u=function(){return e},e}function c(){var e=(0,i._)(["flex items-center gap-1 rounded-[5px] bg-red-200 py-0.5 px-1.5 text-xs font-medium uppercase text-red-800"]);return c=function(){return e},e}var m=d.Z.div(u()),x=(0,o.vU)({unapprovedTag:{id:"TagComponents.unapprovedTag",defaultMessage:"Unverified",description:"Text shown inside the UnapprovedTagWithText component"},localhostTag:{id:"TagComponents.localhostTag",defaultMessage:"Localhost",description:"Text shown inside the LocalhostTagWithText component"}});function f(){return(0,s.jsx)(m,{children:(0,s.jsx)(r.OH,{className:"h-3 w-3 stroke-[2.5]"})})}function g(){return(0,s.jsx)(m,{children:(0,s.jsx)(r.V7f,{className:"icon-xs"})})}var h=d.Z.div(c());function p(){return(0,s.jsxs)(h,{children:[(0,s.jsx)(r.OH,{className:"h-3 w-3 stroke-[2.5]"}),(0,s.jsx)("div",{children:(0,s.jsx)(l.Z,(0,a._)({},x.unapprovedTag))})]})}function v(){return(0,s.jsxs)(h,{children:[(0,s.jsx)(r.V7f,{className:"icon-xs"}),(0,s.jsx)("div",{children:(0,s.jsx)(l.Z,(0,a._)({},x.localhostTag))})]})}},9304:function(e,t,n){n.d(t,{Z:function(){return B}});var a=n(21722),i=n(39324),s=n(71209),r=n(64502),o=n(38104),l=n(2064),d=n(54636),u=n(42780),c=n(51217),m=n(8844),x=n(61098);function f(){return(f=(0,a._)(function(e,t){var n,a;return(0,o.Jh)(this,function(i){switch(i.label){case 0:if((null===(n=t.metadata)||void 0===n?void 0:n.client_actions)===void 0||0===t.metadata.client_actions.length||0==(a=t.metadata.client_actions.filter(function(e){return"browser_tool"===e.type})).length)return[2,[]];return[4,Promise.all(a.map(function(n){return function(e,t,n){return h.apply(this,arguments)}(e,n.action,t)}))];case 1:return[2,i.sent().flat()]}})})).apply(this,arguments)}var g=function(){function e(t){(0,c._)(this,e),this.conversationId=t}var t=e.prototype;return t.createRequest=function(e){var t=this;return new Promise(function(n,a){var r=new BroadcastChannel(Math.random().toString()),o=setTimeout(function(){a("Timeout"),r.close()},6e4);r.onmessage=function(e){n(e.data),clearTimeout(o),r.close()};var l=(0,s._)((0,i._)({action:"browse",id:t.conversationId},e),{channel:r.name});window.postMessage(l,"*")})},t.browse=function(e){return this.createRequest({url:e,type:"browse"})},t.back=function(){return this.createRequest({type:"back"})},t.click=function(e){return this.createRequest({target:e,type:"click"})},t.scroll=function(e){return this.createRequest({amount:e,type:"scroll"})},t.quote=function(e,t){return this.createRequest({quote_start:e,quote_end:t,type:"quote"})},e}();function h(){return(h=(0,a._)(function(e,t,n){var a,i;return(0,o.Jh)(this,function(n){var s,r;switch(n.label){case 0:a=new g(e),n.label=1;case 1:switch(n.trys.push([1,14,,15]),t.command){case"back":return[3,2];case"quote":return[3,4];case"scroll":return[3,6];case"open_url":return[3,8];case"click":return[3,10]}return[3,12];case 2:return[4,a.back()];case 3:case 7:case 9:case 11:return[2,[(!function(e){for(var t in e.urls)e.text.includes("".concat(t))||delete e.urls[t]}(s=n.sent()),{id:(0,m.Z)(),author:{role:x.uU.Tool,name:"browser"},content:{content_type:x.PX.TetherBrowsingDisplay,result:s.text,summary:s.title},metadata:{_cite_metadata:{citation_format:{name:"tether_og"},metadata_list:[{type:"webpage",title:s.title,url:s.url,text:s.text}]}},recipient:"all"})]];case 4:return[4,a.quote(t.quote_start,t.quote_end)];case 5:return[2,[(r=n.sent(),{id:(0,m.Z)(),author:{role:x.uU.Tool,name:"browser"},content:{content_type:x.PX.Text,parts:["".concat(JSON.stringify(r))]},recipient:"all"})]];case 6:return[4,a.scroll(t.amount)];case 8:return[4,a.browse(t.url)];case 10:return[4,a.click(t.target)];case 12:throw Error("Unsupported browser action type "+t);case 13:return[3,15];case 14:return console.error(i=n.sent()),[2,[{id:(0,m.Z)(),author:{role:x.uU.Tool,name:"browser"},content:{content_type:x.PX.Text,parts:["Error making browse call: ".concat(i)]},recipient:"all"}]];case 15:return[2]}})})).apply(this,arguments)}var p=n(60478),v=n(89678),y=n.n(v),k=n(70079),b=n(20630),w=n(86646),j=n(51505),M=n(17944),C=n(25687),_=n(88887),T=n(15066),I=n(41955),N=n(8874),S=function e(t){var n,a=this;(0,c._)(this,e),this.blurDuringCompletionTrackerOnUnmountRef=t,this.completionStartTime=Date.now(),this.logFocusAfterBlurDuringCompletionEvent=function(){N.m9.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:"".concat(a.completionEndTime-a.completionStartTime),blur_time_ms:"".concat(a.blurDuringCompletionTime-a.completionStartTime),refocus_time_ms:"".concat(a.refocusTime-a.completionStartTime)}),d.A.logEvent(u.M.focusAfterBlurDuringCompletion,{completion_duration_ms:"".concat(a.completionEndTime-a.completionStartTime),blur_time_ms:"".concat(a.blurDuringCompletionTime-a.completionStartTime),refocus_time_ms:"".concat(a.refocusTime-a.completionStartTime)})},this.onWindowBlur=function(){void 0===a.blurDuringCompletionTime&&(a.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",a.onWindowFocusAfterBlur),a.blurDuringCompletionTrackerOnUnmountRef.current=a.cleanupFocusAfterBlurListener)},this.onWindowFocusAfterBlur=function(){a.refocusTime=Date.now(),void 0!==a.completionEndTime&&a.logFocusAfterBlurDuringCompletionEvent(),a.cleanupFocusAfterBlurListener()},this.cleanupFocusAfterBlurListener=function(){window.removeEventListener("focus",a.onWindowFocusAfterBlur),a.blurDuringCompletionTrackerOnUnmountRef.current=void 0},this.onMessageError=function(){window.removeEventListener("blur",a.onWindowBlur)},this.onMessageDone=function(){window.removeEventListener("blur",a.onWindowBlur),void 0!==a.blurDuringCompletionTime&&(a.completionEndTime=Date.now(),N.m9.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:"".concat(a.completionEndTime-a.completionStartTime),blur_time_ms:"".concat(a.blurDuringCompletionTime-a.completionStartTime)}),d.A.logEvent(u.M.blurDuringCompletion,{completion_duration_ms:"".concat(a.completionEndTime-a.completionStartTime),blur_time_ms:"".concat(a.blurDuringCompletionTime-a.completionStartTime)}),void 0!==a.refocusTime&&a.logFocusAfterBlurDuringCompletionEvent())},window.addEventListener("blur",this.onWindowBlur),null===(n=t.current)||void 0===n||n.call(t)},P=n(45021),R=function(){function e(t){(0,c._)(this,e),this.requestLatencyId=t,this.requestStartTime=performance.now(),this.requestLastTokenTime=performance.now(),this.requestCount=0,this.requestTimes=[]}return e.prototype.onResponse=function(e,t,n){var a,i,s=performance.now(),r=s-this.requestLastTokenTime,o=s-this.requestStartTime;this.requestLastTokenTime=s,this.requestCount+=1;var l=t.content.content_type==x.PX.Text?null==t?void 0:null===(a=t.content)||void 0===a?void 0:a.parts[(null==t?void 0:null===(i=t.content)||void 0===i?void 0:i.parts.length)-1]:"",d={requestCount:this.requestCount,requestDuration:o,lastTokenDuration:Number(JSON.stringify(r)),messageType:t.content.content_type,content:l};this.requestTimes.push(d),"message"===e.type?(0,P.Ae)(this.requestLatencyId,d):"done"===e.type&&null!=n&&((0,P.kn)(this.requestLatencyId),(0,P.gL)(this.requestLatencyId))},e}(),E=n(96251),F=n(12221),D=n(10499);function L(e,t){e.updateNodeMetadata(t.id,{completionSampleFinishTime:Date.now()})}function A(e,t,n,a,i,s,r,o){return Z.apply(this,arguments)}function Z(){return(Z=(0,a._)(function(e,t,n,a,i,s,r,d){var u,c,m,f;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(c=performance.now(),m=null===(u=i.get(n))||void 0===u?void 0:u.tags,a&&l.ZP.gatherData(null!=m?m:[]),j.tQ.updateTree(e,function(e){var n=!0,a=!1,i=void 0;try{for(var s,o=r[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;e.addNode(l.id,l,t,x.uU.Assistant,{completionSampleFinishTime:Date.now()}),t=l.id}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}),j.tQ.setThreadCurrentLeafId(e,t),!a)return[3,2];return[4,l.ZP.getEnforcementToken(null!=m?m:[])];case 1:f=o.sent(),o.label=2;case 2:return s({model:n,completionType:x.Os.Next,parentNodeId:t,metadata:{},arkoseToken:null!=f?f:null,preflightTime:performance.now()-c,extraStreamParams:d}),[2]}})})).apply(this,arguments)}function B(e,t,n,c,m,g){var h,v=(0,M.hz)(),N=(0,k.useId)(),Z=(0,F.Y8)(function(e){return null==e?void 0:e.setCapTimeout}),B=(0,F.Y8)(function(e){return null==e?void 0:e.clearCapTimeout}),q=(0,k.useContext)(C.QL).historyDisabled,U=(0,D.B9)(),z=(0,k.useRef)(0),O=(0,k.useRef)(n),V=(0,k.useRef)(c),W=(0,k.useRef)(m);O.current=n,V.current=c,W.current=m;var G=(0,k.useRef)(void 0);(0,k.useEffect)(function(){return function(){var e;return null===(e=G.current)||void 0===e?void 0:e.call(G)}},[]);var H=(0,k.useCallback)(function(t,n,r,c,m,g){var h,k,w,M,C=c.eventSource,_=function(){setTimeout(function(){I.hx.removeRequest(r),j.tQ.releaseThread(e)},0)},T=j.tQ.getTree(e),N=r,P=n===x.Os.Continue,D=!0,q=!1,z=T.getMessage(N),H={},J={},$=!1,X=!1,Y=new S(G),K=new R(m),ee=y()(function(){$||j.tQ.updateTree(e,function(e){Object.values(H).forEach(function(t){e.updateNodeMessage(t.id,t)})}),H={}},50,{leading:!0,maxWait:50});return h=(0,a._)(function(a){var c,m,h,y,I,S,R,G,et,en,ea,ei,es,er,eo,el,ed,eu,ec,em,ex,ef,eg,eh,ep,ev,ey,ek,eb,ew,ej,eM,eC,e_,eT,eI;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(K.onResponse(a,z,k),c=!0,"error"===a.type)return console.error(m=a.error),h=(null==m?void 0:m.message)||"Something went wrong",j.tQ.updateTree(e,function(e){e.updateNodeMessage(N,z),e.updateNodeMetadata(N,{err:h,errType:"danger",errCode:(0,b.T)(m)&&m.code||"",completionSampleFinishTime:Date.now()})}),Y.onMessageError(),_(),(0,b.T)(m)&&(null==m?void 0:m.code)===F.uU&&(null==m?void 0:m.clearsIn)&&(Z(new Date(Date.now()+1e3*m.clearsIn).toISOString()),setTimeout(function(){B()},1e3*m.clearsIn)),[2];if("moderation"===a.type&&(y=a.isCompletion,I=a.messageId,S=a.conversationId,R=a.flagged,G=a.blocked,(R||G)&&(X=!0,G&&y&&($=!0),j.tQ.updateTree(e,function(e){var t=e.messageIdToNodeId(I);G&&e.clearNodeMessageParts(t),e.updateNodeMetadata(t,(0,s._)((0,i._)({},G?p.sK:p.Mf),{completionSampleFinishTime:Date.now()}))}),d.A.logEvent(y?G?u.M.completionBlockedByModeration:u.M.completionFlaggedByModeration:G?u.M.promptBlockedByModeration:u.M.promptFlaggedByModeration,{threadId:S,id:I}))),"num_variants_in_stream"===a.type)return w=a,[2];if("message"===a.type){if(et=a.message,en=a.conversationId,D&&!T.hasReceivedServerCompletion){if((null==et?void 0:et.author.role)===x.uU.System)return T.appendSystemMessageToRoot(et),[2];if((null==et?void 0:et.author.role)===x.uU.User||T.hasNodeOrMessageId(et.id))return[2]}D?(ei=(null===(ea=j.qN.getState().threads[e])||void 0===ea?void 0:ea.continuingFromSharedConversationId)!=null,j.tQ.removeContinuingFromSharedConversationId(e),D=!1,q=!T.hasReceivedServerCompletion||ei,void 0!==en&&(k=en,(0,j.Zz)(e)&&j.tQ.setServerIdForNewThread(e,en)),j.tQ.updateTree(e,function(e){e.updateNodeMessage(N,et)}),q&&O.current(en),es={id:r,threadId:en,completionType:n,eventSource:C,model:t},n===x.Os.Next&&(eu=null==(ed=j.qN.getState().threads[en])?void 0:null===(er=ed.conversationTurns)||void 0===er?void 0:er.length,(null==(em=null===(el=(ec=null==ed?void 0:null===(eo=ed.conversationTurns)||void 0===eo?void 0:eo.filter(function(e){return e.role==x.uU.User}))[ec.length-1])||void 0===el?void 0:el.messages[0].message)?void 0:em.content.content_type)==x.PX.Text&&(ex=em.content.parts.join("").length,eg=null!==(ef=ec.length)&&void 0!==ef?ef:0,es.countConversationTurns=eu,es.countUserSubmittedMessages=eg,es.countLastUserPromptTextMessageLength=ex)),d.A.logEvent(u.M.generateCompletion,es)):!P&&(ep=T.containsNodeOrMessageId(et.id),ev=null===(eh=et.metadata)||void 0===eh?void 0:eh.parent_id,ep||(ee.flush(),j.tQ.updateTree(e,function(e){if(null==ev)throw Error("Received a message with no parentId: ".concat(JSON.stringify(et)));e.addNode(et.id,et,ev,x.uU.Assistant)})),null!=ev&&ev===M&&null!=(ey=J[ev])&&(j.tQ.updateTree(e,function(e){L(e,ey)}),delete J[ev]),(c=(null!==(ek=null==w?void 0:w.num_variants_in_stream)&&void 0!==ek?ek:1)===1||null==M||M===et.id)&&M!==et.id&&(M=et.id,N=et.id,eb=j.tQ.getThreadCurrentLeafId(e),T.messageIdToNodeId(N)!==T.messageIdToNodeId(eb)&&j.tQ.setThreadCurrentLeafId(e,N),null!=ev&&j.tQ.updateTree(e,function(e){e.updateNodeMetadata(ev,{variantsInStreamInfo:w})}))),c&&(z=et),H[et.id]=et,J[et.id]=et}if(ee(),"done"!==a.type)return[3,4];if($||(ee.flush(),X||(q&&V.current(k),W.current(k))),j.tQ.updateTree(e,function(e){Object.values(J).forEach(function(t){L(e,t)})}),Y.onMessageDone(),_(),eM=null===(ew=U.get(t))||void 0===ew?void 0:ew.tags,eC=(0,l.Rr)(v,null!=eM?eM:[]),!((null==z?void 0:null===(ej=z.metadata)||void 0===ej?void 0:ej.client_actions)!==void 0))return[3,2];return[4,function(e,t){return f.apply(this,arguments)}(e,z)];case 1:(e_=o.sent()).length>0&&A(e,N,t,eC,U,Q,e_,g),o.label=2;case 2:if(!v.has("tools3_dev")||!(eT=(0,E.wR)(z)))return[3,4];return eI=[e,N,t,eC,U,Q],[4,(0,E.qZ)(eT)];case 3:A.apply(void 0,eI.concat([o.sent(),g])),o.label=4;case 4:return[2]}})}),function(e){return h.apply(this,arguments)}},[O,V,W,e]),Q=(0,k.useCallback)((h=(0,a._)(function(n){var a,l,d,u,c,m,f,h,p,v,y,k,b,M,C,S,R,E,F,D,L,A,Z,B,U,O,V,W,G;return(0,o.Jh)(this,function(o){switch(o.label){case 0:for(a=n.model,l=n.completionType,d=n.parentNodeId,u=n.metadata,m=void 0===(c=n.focusOnNewCompletion)||c,f=n.completionMetadata,h=n.arkoseToken,p=n.preflightTime,v=n.extraStreamParams,y=n.appendMessages,_.E.publish({kind:"requestCompletion"}),M=j.tQ.getTree(e),j.tQ.retainThread(e),C="".concat(T.Vh).concat(N,"-").concat(z.current++),S="".concat(N,"-").concat(z.current),j.tQ.updateTree(e,function(e){e.addNode(C,"",d,x.uU.Assistant)}),m&&j.tQ.setThreadCurrentLeafId(e,C),E=[],F=M.getNodeByIdOrMessageId(d),D=M.getNodeByIdOrMessageId(F.parentId);null!=D&&((null===(k=D.metadata)||void 0===k?void 0:k.isPlaceholderTemplateAssistantWelcomeMessage)===!0||(null===(b=D.metadata)||void 0===b?void 0:b.isClientCreatedSystemMessage)===!0);){var Q,J,$=D.message;E.unshift($);var X=M.getNodeByIdOrMessageId(D.parentId);R=null!==(J=null===(Q=X.message)||void 0===Q?void 0:Q.id)&&void 0!==J?J:X.id,D=X}return l===x.Os.Next||l===x.Os.Variant?(A=M.getNodeByIdOrMessageId(F.parentId),null!=R||(R=null!==(Z=null===(L=A.message)||void 0===L?void 0:L.id)&&void 0!==Z?Z:A.id),E.push(F.message),y&&(B=d,j.tQ.updateTree(e,function(e){var t=!0,n=!1,a=void 0;try{for(var i,s=y[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var r=i.value;e.insertNodeBefore(C,{id:r.id,message:r,parentId:B,children:[]}),B=r.id}}catch(e){n=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}}),E.push.apply(E,(0,r._)(y)))):null!=R||(R=F.message.id),void 0===(U=j.tQ.getServerThreadId(e))&&(0,j.Zz)(e)&&j.tQ.updateInitialThreadDataForNewThread(e,a,g),O=(0,s._)((0,i._)({},v),{model:a,completionType:l,threadId:U,continueFromSharedConversationId:t,historyDisabled:q,parentMessageId:R,messages:E,arkoseToken:null!=h?h:null,enabledPluginIds:g,completionMetadata:f}),V=function(e,t){(0,P.F4)(S,t,e,p)},W=H(a,l,C,u,S,v),[4,w.ZP.publicApiCompletionStream(O,W,V)];case 1:return G=o.sent(),I.hx.addRequest(C,G),[2]}})}),function(e){return h.apply(this,arguments)}),[N,e,t,g,H,q]);return Q}},84844:function(e,t,n){n.d(t,{LW:function(){return s},eR:function(){return i}});var a=n(10064);function i(e,t){var n=!0,i=!1,s=void 0;try{for(var r,o=Object.entries(t)[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=(0,a._)(r.value,2),d=l[0],u=l[1];e.addEventListener(d,u)}}catch(e){i=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return function(){var n=!0,i=!1,s=void 0;try{for(var r,o=Object.entries(t)[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=(0,a._)(r.value,2),d=l[0],u=l[1];e.removeEventListener(d,u)}}catch(e){i=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}}}function s(e,t){var n=!0,i=!1,s=void 0;try{for(var r,o=Object.entries(t)[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=(0,a._)(r.value,2),d=l[0],u=l[1];e.on(d,u)}}catch(e){i=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return function(){var n=!0,i=!1,s=void 0;try{for(var r,o=Object.entries(t)[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=(0,a._)(r.value,2),d=l[0],u=l[1];e.off(d,u)}}catch(e){i=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}}}},88887:function(e,t,n){n.d(t,{E:function(){return a}});var a=new(n(4263)).V},4263:function(e,t,n){n.d(t,{V:function(){return r}});var a=n(51217),i=n(36560),s=n.n(i),r=function(){function e(){(0,a._)(this,e),this.emitter=new(s()),this.emitter.setMaxListeners(1e3)}var t=e.prototype;return t.on=function(e,t){this.emitter.on(e,t)},t.off=function(e,t){this.emitter.off(e,t)},t.publish=function(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)},e}()}}]);